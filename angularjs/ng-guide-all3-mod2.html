<!DOCTYPE html>
<!-- saved from url=(0032)https://docs.angularjs.org/guide -->
<!-- replace <a name=" with <a name="concepts- in concepts guide  -->
<!-- replace link to guide docs made to local -->
<!-- remove   style="font-weight: bold; color: black;"   -->
<html lang="en" ng-app="docsApp" ng-strict-di="" ng-controller="DocsController" class="ng-scope"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}</style>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="Description" content="AngularJS is what HTML would have been, had it been designed for building web-apps.
                 Declarative templates with data-binding, MVC, dependency injection and great
                 testability story all implemented with pure client-side JavaScript!">
  <meta name="fragment" content="!">
  <title ng-bind-template="AngularJS: Developer Guide: Developer Guide" class="ng-binding">AngularJS: Developer Guide: Developer Guide</title>

  <!--<base href="https://docs.angularjs.org/">--><base href=".">
<!--  link rel="stylesheet" href="./ng-guide-all_files/bootstrap.min.css" type="text/css"  -->
<!--  link rel="stylesheet" href="./ng-guide-all_files/open-sans.css" type="text/css"  -->
<!-- link rel="stylesheet" href="./ng-guide-all_files/prettify-theme.css" type="text/css"  -->
<!--  link rel="stylesheet" href="./ng-guide-all_files/docs.css" type="text/css"  -->
<link rel="stylesheet" href="auxi/css/animations.css" type="text/css" />
<link rel="stylesheet" href="auxi/css/bootstrap.nomin.css" type="text/css"/>
  <link rel="stylesheet" href="auxi/css/open-sans.css" type="text/css"/>
  <link rel="stylesheet" href="auxi/css/doxy-prism.css" type="text/css"/>
  <!--  link rel="stylesheet" href="auxi/css/prettify-theme.css" type="text/css"/  -->
  <link rel="stylesheet" href="auxi/css/ang-docs.css" type="text/css"/>
  <link rel="shortcut icon" href="auxi/pix/angular.ico" type="image/x-icon" />

  <style type="text/css">
  .guide-doc { padding: 5px;background-color: #0f0f0f;display: block;margin: 0px auto;text-align: center;font-size: 22px;font-weight: normal; font-family:Share-Bold;color: #fec243;}
  </style>
</head>
<body><span style="position: fixed; left: 0px; top: 0px; color: white; z-index: 99999999; padding: 5px; cursor: pointer; display: none; background-color: red;">Getting -&gt; 27 / 27 ..... Migrating from Previous Versions</span>
<!--  span id="ms" style="text-shadow: rgb(204, 204, 204) 1px 1px 1px; position: fixed; top: 0px; left: 0px; color: white; z-index: 99999999; padding: 5px; cursor: pointer; overflow: hidden; width: 62px; height: 30px; background-color: red;">ng-print<span id="s"><br><br><span><span>ng-print<span> is no longer free. please visit <a href="http://jsbin.com/mohar/1/quiet" target="_blank">this link </a> and enter your Email and you will be emailed with the appropriate key. <br><br> Or - paste the code if you already have one : <span><br><br><span>Email : <input placeholder="Email you paid with" style="color:black" id="_e"><br><br><span>Key : <input style="width:215px;margin-left:10px;color:black" placeholder="The Key you have" id="_k"><br><br><span><input id="_1" type="button" value="Printify" style="color:black;margin-left:36px"><input id="_2" type="button" value="Close" style="color:black;margin-left:36px"> </span></span></span></span></span></span></span></span></span  -->
  <div id="wrapper" style="padding-bottom: 0px;">
    <header scroll-y-offset-element="" class="header header-fixed">
      <section class="navbar navbar-inverse docs-navbar-primary ng-scope" ng-controller="DocsSearchCtrl" style="display: none;">
        <div class="container">
          <div class="row">
            <div class="col-md-9 header-branding">
              <a class="brand navbar-brand" href="http://angularjs.org/">
                <img width="117" height="30" class="logo" ng-src="img/angularjs-for-header-only.svg" src="./ng-guide-all3_files/angularjs-for-header-only.svg">
              </a>
              <ul class="nav navbar-nav">
                <li class="divider-vertical"></li>
                <li><a href="http://angularjs.org/"><i class="icon-home icon-white"></i> Home</a></li>
                <li class="divider-vertical"></li>
                <li class="dropdown ng-isolate-scope">
                  <a href="https://docs.angularjs.org/#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="icon-eye-open icon-white"></i> Learn <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li class="disabled"><a href="http://angularjs.org/">Why AngularJS?</a></li>
                    <li><a href="http://www.youtube.com/user/angularjs">Watch</a></li>
                    <li><a href="https://docs.angularjs.org/tutorial">Tutorial</a></li>
                    <li><a href="http://builtwith.angularjs.org/">Case Studies</a></li>
                    <li><a href="https://github.com/angular/angular-seed">Seed App project template</a></li>
                    <li><a href="https://docs.angularjs.org/misc/faq">FAQ</a></li>
                  </ul>
                </li>
                <li class="divider-vertical"></li>
                <li class="dropdown active ng-isolate-scope">
                  <a href="https://docs.angularjs.org/#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="icon-book icon-white"></i> Develop <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a href="https://docs.angularjs.org/tutorial">Tutorial</a></li>
                    <li><a href="./ng-guide-all3_files/ng-guide-all3.html">Developer Guide</a></li>
                    <li><a href="https://docs.angularjs.org/api">API Reference</a></li>
                    <li><a href="https://docs.angularjs.org/error">Error Reference</a></li>
                    <li><a href="https://docs.angularjs.org/misc/contribute">Contribute</a></li>
                    <li><a href="http://code.angularjs.org/">Download</a></li>
                  </ul>
                </li>
                <li class="divider-vertical"></li>
                <li class="dropdown ng-isolate-scope">
                  <a href="https://docs.angularjs.org/#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="icon-comment icon-white"></i> Discuss <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a href="http://blog.angularjs.org/">Blog</a></li>
                    <li><a href="http://groups.google.com/group/angular">Mailing List</a></li>
                    <li><a href="http://webchat.freenode.net/?channels=angularjs&uio=d4">Chat Room</a></li>
                    <li class="divider"></li>
                    <li><a href="https://twitter.com/#!/angularjs">Twitter</a></li>
                    <li><a href="https://plus.google.com/110323587230527980117">Google+</a></li>
                    <li class="divider"></li>
                    <li><a href="https://github.com/angular/angular.js">GitHub</a></li>
                    <li><a href="https://github.com/angular/angular.js/issues">Issue Tracker</a></li>
                  </ul>
                </li>
                <li class="divider-vertical"></li>
              </ul>
            </div>
            <form ng-class="{focus:focus}" class="navbar-search col-md-3 docs-search ng-pristine ng-valid" ng-submit="submit()">
              <span class="glyphicon glyphicon-search search-icon"></span>
              <input type="text" name="as_q" class="search-query ng-pristine ng-untouched ng-valid" placeholder="Click or press / to search" ng-focus="focus=true" ng-blur="focus=false" ng-change="search(q)" ng-model="q" docs-search-input="" autocomplete="off">
            </form>
          </div>
        </div>
        <div class="search-results-container ng-hide" ng-show="hasResults">
          <div class="container">
            <div class="search-results-frame">
              <!-- ngRepeat: (key, value) in results -->
            </div>
            <a href="" ng-click="hideResults()" class="search-close">
              <span class="glyphicon glyphicon-remove search-close-icon"></span> Close
            </a>
          </div>
        </div>
      </section>
      <section class="sup-header" style="display: none;">
        <div class="container main-grid main-header-grid">
          <div class="grid-left" style="display: none;">
            <div ng-controller="DocsVersionsCtrl" class="picker version-picker ng-scope">
              <select ng-options="v as (&#39;v&#39; + v.version + (v.isSnapshot ? &#39; (snapshot)&#39; : &#39;&#39;)) group by getGroupName(v) for v in docs_versions" ng-model="docs_version" ng-change="jumpToDocsVersion(docs_version)" class="docs-version-jump ng-pristine ng-untouched ng-valid"><optgroup label="Latest"><option value="0" selected="selected" label="v1.3.9-build.3744 (snapshot)">v1.3.9-build.3744 (snapshot)</option><option value="35" label="v1.2.28">v1.2.28</option><option value="66" label="v1.1.5">v1.1.5</option><option value="72" label="v1.0.8">v1.0.8</option></optgroup><optgroup label="v1.3.x"><option value="1" label="v1.3.8">v1.3.8</option><option value="2" label="v1.3.7">v1.3.7</option><option value="3" label="v1.3.6">v1.3.6</option><option value="4" label="v1.3.5">v1.3.5</option><option value="5" label="v1.3.4">v1.3.4</option><option value="6" label="v1.3.3">v1.3.3</option><option value="7" label="v1.3.2">v1.3.2</option><option value="8" label="v1.3.1">v1.3.1</option><option value="9" label="v1.3.0">v1.3.0</option><option value="10" label="v1.3.0-rc.5">v1.3.0-rc.5</option><option value="11" label="v1.3.0-rc.4">v1.3.0-rc.4</option><option value="12" label="v1.3.0-rc.3">v1.3.0-rc.3</option><option value="13" label="v1.3.0-rc.2">v1.3.0-rc.2</option><option value="14" label="v1.3.0-rc.1">v1.3.0-rc.1</option><option value="15" label="v1.3.0-rc.0">v1.3.0-rc.0</option><option value="16" label="v1.3.0-beta.19">v1.3.0-beta.19</option><option value="17" label="v1.3.0-beta.18">v1.3.0-beta.18</option><option value="18" label="v1.3.0-beta.17">v1.3.0-beta.17</option><option value="19" label="v1.3.0-beta.16">v1.3.0-beta.16</option><option value="20" label="v1.3.0-beta.15">v1.3.0-beta.15</option><option value="21" label="v1.3.0-beta.14">v1.3.0-beta.14</option><option value="22" label="v1.3.0-beta.13">v1.3.0-beta.13</option><option value="23" label="v1.3.0-beta.12">v1.3.0-beta.12</option><option value="24" label="v1.3.0-beta.11">v1.3.0-beta.11</option><option value="25" label="v1.3.0-beta.10">v1.3.0-beta.10</option><option value="26" label="v1.3.0-beta.9">v1.3.0-beta.9</option><option value="27" label="v1.3.0-beta.8">v1.3.0-beta.8</option><option value="28" label="v1.3.0-beta.7">v1.3.0-beta.7</option><option value="29" label="v1.3.0-beta.6">v1.3.0-beta.6</option><option value="30" label="v1.3.0-beta.5">v1.3.0-beta.5</option><option value="31" label="v1.3.0-beta.4">v1.3.0-beta.4</option><option value="32" label="v1.3.0-beta.3">v1.3.0-beta.3</option><option value="33" label="v1.3.0-beta.2">v1.3.0-beta.2</option><option value="34" label="v1.3.0-beta.1">v1.3.0-beta.1</option></optgroup><optgroup label="v1.2.x"><option value="36" label="v1.2.27">v1.2.27</option><option value="37" label="v1.2.26">v1.2.26</option><option value="38" label="v1.2.25">v1.2.25</option><option value="39" label="v1.2.24">v1.2.24</option><option value="40" label="v1.2.23">v1.2.23</option><option value="41" label="v1.2.22">v1.2.22</option><option value="42" label="v1.2.21">v1.2.21</option><option value="43" label="v1.2.20">v1.2.20</option><option value="44" label="v1.2.19">v1.2.19</option><option value="45" label="v1.2.18">v1.2.18</option><option value="46" label="v1.2.17">v1.2.17</option><option value="47" label="v1.2.16">v1.2.16</option><option value="48" label="v1.2.15">v1.2.15</option><option value="49" label="v1.2.14">v1.2.14</option><option value="50" label="v1.2.13">v1.2.13</option><option value="51" label="v1.2.12">v1.2.12</option><option value="52" label="v1.2.11">v1.2.11</option><option value="53" label="v1.2.10">v1.2.10</option><option value="54" label="v1.2.9">v1.2.9</option><option value="55" label="v1.2.8">v1.2.8</option><option value="56" label="v1.2.7">v1.2.7</option><option value="57" label="v1.2.6">v1.2.6</option><option value="58" label="v1.2.5">v1.2.5</option><option value="59" label="v1.2.4">v1.2.4</option><option value="60" label="v1.2.3">v1.2.3</option><option value="61" label="v1.2.2">v1.2.2</option><option value="62" label="v1.2.1">v1.2.1</option><option value="63" label="v1.2.0">v1.2.0</option><option value="64" label="v1.2.0-rc.3">v1.2.0-rc.3</option><option value="65" label="v1.2.0-rc.2">v1.2.0-rc.2</option></optgroup><optgroup label="v1.1.x"><option value="67" label="v1.1.4">v1.1.4</option><option value="68" label="v1.1.3">v1.1.3</option><option value="69" label="v1.1.2">v1.1.2</option><option value="70" label="v1.1.1">v1.1.1</option><option value="71" label="v1.1.0">v1.1.0</option></optgroup><optgroup label="v1.0.x"><option value="73" label="v1.0.7">v1.0.7</option><option value="74" label="v1.0.6">v1.0.6</option><option value="75" label="v1.0.5">v1.0.5</option><option value="76" label="v1.0.4">v1.0.4</option><option value="77" label="v1.0.3">v1.0.3</option><option value="78" label="v1.0.2">v1.0.2</option><option value="79" label="v1.0.1">v1.0.1</option><option value="80" label="v1.0.0">v1.0.0</option><option value="81" label="v1.0.0-rc2">v1.0.0-rc2</option></optgroup></select>
            </div>
          </div>
          <div class="grid-right" style="margin: 0px auto;">
            <ul class="nav-breadcrumb">
              <!-- ngRepeat: crumb in breadcrumb --><li ng-repeat="crumb in breadcrumb" class="nav-breadcrumb-entry naked-list ng-scope">
                <span class="divider"> /</span>
                <a ng-href="guide" class="ng-binding" href="./ng-guide-all3_files/ng-guide-all3.html">Developer Guide</a>
              </li><!-- end ngRepeat: crumb in breadcrumb -->
            </ul>
          </div>
        </div>
      </section>
    </header>

    <section role="main" class="container main-body" style="width: 898px; padding: 0px 75px;">
      <div class="main-grid main-body-grid" style="margin-top: 0px;">
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active current">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/index.ngdoc?message=docs(guide%2FDeveloper%20Guide)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="guide-to-angularjs-documentation" class="ng-scope">Guide to AngularJS Documentation</h1>
<p class="ng-scope">Everything you need to know about AngularJS</p>
<ul class="ng-scope">
<li><a href="#introduction">What is AngularJS?</a></li>
<li><a href="#concepts">Conceptual Overview</a></li>
</ul>
<h2 id="tutorials" class="ng-scope">Tutorials</h2>
<ul class="ng-scope">
<li><a href="https://docs.angularjs.org/tutorial/index">Official AngularJS Tutorial</a></li>
<li><a href="http://www.sitepoint.com/10-reasons-use-angularjs/">10 Reasons Why You Should Use AngularJS</a></li>
<li><a href="http://wintellect.com/blogs/jlikness/10-reasons-web-developers-should-learn-angularjs">10 Reasons Why Developers Should Learn AngularJS</a></li>
<li><a href="https://www.youtube.com/watch?v=HCR7i5F5L8c">Design Principles of AngularJS (video)</a></li>
<li><a href="http://www.youtube.com/watch?v=i9MHigUZKEM">Fundamentals in 60 Minutes (video)</a></li>
<li><a href="http://stackoverflow.com/questions/14994391/how-do-i-think-in-angularjs-if-i-have-a-jquery-background">For folks with a jQuery background</a></li>
</ul>
<h2 id="core-concepts" class="ng-scope">Core Concepts</h2>
<h3 id="templates" class="ng-scope">Templates</h3>
<p class="ng-scope">In Angular applications, you move the job of filling page templates with data from the server to the client.  The result is a system better structured for dynamic page updates.  Below are the core features you'll use.</p>
<ul class="ng-scope">
<li><a href="#databinding">Data binding</a></li>
<li><a href="#expression">Expressions</a></li>
<li><a href="#directive">Directives</a></li>
<li><a href="https://docs.angularjs.org/api/ngRoute/service/$route">Views and routes (see the example)</a></li>
<li><a href="#filter">Filters</a></li>
<li><a href="#forms">Forms</a> and <a href="http://mrbool.com/the-concepts-of-angularjs-forms/29117">Concepts of AngularJS Forms</a></li>
</ul>
<h3 id="application-structure" class="ng-scope">Application Structure</h3>
<ul class="ng-scope">
<li><strong>Blog post: </strong><a href="http://kirkbushell.me/when-to-use-directives-controllers-or-services-in-angular/">When to use directives, controllers or services</a></li>
<li><strong>App wiring:</strong> <a href="#di">Dependency injection</a></li>
<li><strong>Exposing model to templates:</strong> <a href="#scope">Scopes</a></li>
<li><strong>Communicating with servers:</strong> <a href="https://docs.angularjs.org/api/ng/service/$http">$http</a>, <a href="https://docs.angularjs.org/api/ngResource/service/$resource">$resource</a></li>
</ul>
<h3 id="other-angularjs-features" class="ng-scope">Other AngularJS Features</h3>
<ul class="ng-scope">
<li><strong>Animation:</strong> <a href="#animations">Core concepts</a>, <a href="https://docs.angularjs.org/api/ngAnimate">ngAnimate API</a>, and <a href="http://www.yearofmoo.com/2013/08/remastered-animation-in-angularjs-1-2.html">Animation in AngularJS 1.2</a></li>
<li><strong>Security:</strong> <a href="#security">Security Docs</a>, <a href="https://docs.angularjs.org/api/ng/service/$sce">Strict Contextual Escaping</a>, <a href="https://docs.angularjs.org/api/ng/directive/ngCsp">Content Security Policy</a>, <a href="https://docs.angularjs.org/api/ngSanitize/service/$sanitize">$sanitize</a>, <a href="https://www.youtube.com/watch?v=18ifoT-Id54">video</a></li>
<li><strong>Internationalization and Localization:</strong> <a href="#i18n">Angular Guide to i18n and l10n</a>, <a href="https://docs.angularjs.org/api/ng/filter/date">date filter</a>, <a href="https://docs.angularjs.org/api/ng/filter/currency">currency filter</a>, <a href="http://www.novanet.no/blog/hallstein-brotan/dates/2013/10/creating-multilingual-support-using-angularjs/">Creating multilingual support</a></li>
<li><strong>Mobile:</strong> <a href="https://docs.angularjs.org/api/ngTouch">Touch events</a></li>
<li><strong>Accessibility:</strong> <a href="#accessibility">ngAria</a></li>
</ul>
<h3 id="testing" class="ng-scope">Testing</h3>
<ul class="ng-scope">
<li><strong>Unit testing:</strong> <a href="http://www.youtube.com/watch?v=YG5DEzaQBIc">Using Karma (video)</a>, <a href="#unit-testing">Unit testing</a>, <a href="#services#unit-testing">Testing services</a>, <a href="http://blog.jetbrains.com/webstorm/2013/10/running-javascript-tests-with-karma-in-webstorm-7/">Karma in Webstorm</a></li>
<li><strong>Scenario testing:</strong> <a href="https://github.com/angular/protractor">Protractor</a></li>
</ul>
<h2 id="specific-topics" class="ng-scope">Specific Topics</h2>
<ul class="ng-scope">
<li><strong>Login: </strong><a href="https://developers.google.com/+/photohunt/python">Google example</a>, <a href="http://blog.brunoscopelliti.com/facebook-authentication-in-your-angularjs-web-app">Facebook example</a>, <a href="http://blog.brunoscopelliti.com/deal-with-users-authentication-in-an-angularjs-web-app">authentication strategy</a>, <a href="http://frederiknakstad.com/authentication-in-single-page-applications-with-angular-js/">unix-style authorization</a></li>
<li><strong>Mobile:</strong> <a href="http://www.ng-newsletter.com/posts/angular-on-mobile.html">Angular on Mobile Guide</a>, <a href="http://devgirl.org/2013/06/10/quick-start-guide-phonegap-and-angularjs/">PhoneGap</a></li>
<li><strong>Other Languages:</strong> <a href="http://www.coffeescriptlove.com/2013/08/angularjs-and-coffeescript-tutorials.html">CoffeeScript</a>, <a href="https://github.com/angular/angular.dart.tutorial/wiki">Dart</a></li>
<li><strong>Realtime: </strong><a href="http://www.creativebloq.com/javascript/angularjs-collaboration-board-socketio-2132885">Socket.io</a>, <a href="https://github.com/jeffbcross/omnibinder">OmniBinder</a></li>
<li><strong>Visualization:</strong> <a href="http://gaslight.co/blog/angular-backed-svgs">SVG</a>, <a href="http://www.ng-newsletter.com/posts/d3-on-angular.html">D3.js</a></li>
<li><strong>Local Storage and session:</strong> <a href="https://github.com/gsklee/ngStorage">ngStorage</a></li>
</ul>
<h2 id="tools" class="ng-scope">Tools</h2>
<ul class="ng-scope">
<li><strong>Getting Started:</strong> <a href="http://www.dancancro.com/comparison-of-angularjs-application-starters/">Comparison of the options for starting a new project</a></li>
<li><strong>Debugging:</strong> <a href="https://chrome.google.com/webstore/detail/angularjs-batarang/ighdmehidhipcmcojjgiloacoafjmpfk?hl=en">Batarang</a></li>
<li><strong>Testing:</strong> <a href="http://karma-runner.github.io/">Karma</a>, <a href="https://github.com/angular/protractor">Protractor</a></li>
<li><strong>Editor support:</strong> <a href="http://plugins.jetbrains.com/plugin/6971">Webstorm</a> (and <a href="http://www.youtube.com/watch?v=LJOyrSh1kDU">video</a>), <a href="https://github.com/angular-ui/AngularJS-sublime-package">Sublime Text</a>, <a href="http://madskristensen.net/post/angularjs-intellisense-in-visual-studio-2012">Visual Studio</a></li>
<li><strong>Workflow:</strong> <a href="https://github.com/yeoman/generator-angular">Yeoman.io</a> and <a href="http://www.sitepoint.com/kickstart-your-angularjs-development-with-yeoman-grunt-and-bower/">Angular Yeoman Tutorial</a></li>
</ul>
<h2 id="complementary-libraries" class="ng-scope">Complementary Libraries</h2>
<p class="ng-scope">This is a short list of libraries with specific support and documentation for working with Angular.  You can find a full list of all known Angular external libraries at <a href="http://ngmodules.org/">ngmodules.org</a>.</p>
<ul class="ng-scope">
<li><strong>Internationalization:</strong> <a href="http://angular-translate.github.io/">angular-translate</a>, <a href="http://angular-gettext.rocketeer.be/">angular-gettext</a>, <a href="http://doshprompt.github.io/angular-localization/">angular-localization</a></li>
<li><strong>RESTful services:</strong> <a href="https://github.com/mgonto/restangular">Restangular</a></li>
<li><strong>SQL and NoSQL backends:</strong> <a href="http://www.breezejs.com/">BreezeJS</a>, <a href="http://angularfire.com/">AngularFire</a></li>
<li><strong>UI Widgets: </strong><a href="http://kendo-labs.github.io/angular-kendo/#/">KendoUI</a>, <a href="http://angular-ui.github.io/bootstrap/">UI Bootstrap</a>, <a href="http://wijmo.com/tag/angularjs-2/">Wijmo</a>, <a href="https://github.com/mbenford/ngTagsInput">ngTagsInput</a></li>
<li><strong>Advanced Routing:</strong> <a href="https://github.com/angular-ui/ui-router">UI-Router</a></li>
<li><strong>Maps:</strong> <a href="https://github.com/angular-ui/ui-map">UI-Map (Google Maps)</a></li>
</ul>
<h2 id="deployment" class="ng-scope">Deployment</h2>
<h3 id="general" class="ng-scope">General</h3>
<ul class="ng-scope">
<li><strong>Docs Page:</strong> <a href="#production">Running an AngularJS App in Production</a></li>
<li><strong>Javascript minification: </strong><a href="http://thegreenpizza.github.io/2013/05/25/building-minification-safe-angular.js-applications/">Background</a>, <a href="https://github.com/olov/ng-annotate">ng-annotate automation tool</a></li>
<li><strong>Analytics and Logging:</strong> <a href="http://ngmodules.org/modules/angularytics">Angularyitcs (Google Analytics)</a>, <a href="https://github.com/luisfarzati/angulartics">Angulartics (Analytics)</a>, <a href="http://www.bennadel.com/blog/2542-Logging-Client-Side-Errors-With-AngularJS-And-Stacktrace-js.htm">Logging Client-Side Errors</a></li>
<li><strong>SEO:</strong> <a href="http://www.yearofmoo.com/2012/11/angularjs-and-seo.html">By hand</a>, <a href="http://prerender.io/">prerender.io</a>, <a href="http://www.brombone.com/">Brombone</a>, <a href="http://getseojs.com/">SEO.js</a>, <a href="http://www.seo4ajax.com/">SEO4Ajax</a></li>
</ul>
<h3 id="server-specific" class="ng-scope">Server-Specific</h3>
<ul class="ng-scope">
<li><strong>Django:</strong> <a href="http://blog.mourafiq.com/post/55034504632/end-to-end-web-app-with-django-rest-framework">Tutorial</a>, <a href="http://django-angular.readthedocs.org/en/latest/integration.html">Integrating AngularJS with Django</a>, <a href="http://blog.kevinastone.com/getting-started-with-django-rest-framework-and-angularjs.html">Getting Started with Django Rest Framework and AngularJS</a></li>
<li><strong>FireBase:</strong> <a href="http://angularfire.com/">AngularFire</a>, <a href="http://www.youtube.com/watch?v=C7ZI7z7qnHU">Realtime Apps with AngularJS and FireBase (video)</a></li>
<li><strong>Google Cloud Platform: </strong><a href="https://cloud.google.com/developers/articles/angularjs-cloud-endpoints-recipe-for-building-modern-web-applications/">with Cloud Endpoints</a>, <a href="https://github.com/GoogleCloudPlatform/appengine-angular-gotodos">with Go</a></li>
<li><strong>Hood.ie:</strong> <a href="http://www.roberthorvick.com/2013/06/30/todomvc-angularjs-hood-ie-60-minutes-to-awesome/">60 Minutes to Awesome</a></li>
<li><strong>MEAN Stack: </strong><a href="http://blog.mongodb.org/post/49262866911/the-mean-stack-mongodb-expressjs-angularjs-and">Blog post</a>, <a href="http://thecodebarbarian.wordpress.com/2013/07/22/introduction-to-the-mean-stack-part-one-setting-up-your-tools/">Setup</a>, <a href="https://developers.google.com/live/shows/913996610">GDL Video</a></li>
<li><strong>Rails: </strong><a href="http://coderberry.me/blog/2013/04/22/angularjs-on-rails-4-part-1/">Tutorial</a>, <a href="https://shellycloud.com/blog/2013/10/how-to-integrate-angularjs-with-rails-4">AngularJS with Rails4</a>, <a href="https://github.com/hiravgandhi/angularjs-rails">angularjs-rails</a></li>
<li><strong>PHP: </strong><a href="http://blog.brunoscopelliti.com/building-a-restful-web-service-with-angularjs-and-php-more-power-with-resource">Building a RESTful web service</a>, <a href="http://www.youtube.com/watch?v=hqAyiqUs93c">End to End with Laravel 4 (video)</a></li>
<li><strong>Meteor: </strong><a href="https://github.com/Urigo/angular-meteor">angular-meteor package</a></li>
</ul>
<h2 id="learning-resources" class="ng-scope">Learning Resources</h2>
<h3 id="books" class="ng-scope">Books</h3>
<ul class="ng-scope">
<li><a href="http://www.amazon.com/AngularJS-Brad-Green/dp/1449344852">AngularJS</a> by Brad Green and Shyam Seshadri</li>
<li><a href="http://www.amazon.com/Mastering-Web-Application-Development-AngularJS/dp/1782161821">Mastering Web App Development</a> by Pawel Kozlowski and Pete Bacon Darwin</li>
<li><a href="http://www.amazon.com/AngularJS-Directives-Alex-Vanston/dp/1783280336">AngularJS Directives</a> by Alex Vanston</li>
<li><a href="http://www.amazon.co.uk/Recipes-Angular-js-Frederik-Dietz-ebook/dp/B00DK95V48">Recipes With AngularJS</a> by Frederik Dietz</li>
<li><a href="http://www.amazon.com/Developing-AngularJS-Edge-Christopher-Hiller-ebook/dp/B00CJLFF8K">Developing an AngularJS Edge</a> by Christopher Hiller</li>
<li><a href="http://ng-book.com/">ng-book: The Complete Book on AngularJS</a> by Ari Lerner</li>
<li><a href="http://www.amazon.in/AngularJS-Novice-Ninja-Sandeep-Panda/dp/0992279453">AngularJS : Novice to Ninja</a> by Sandeep Panda</li>
<li><a href="http://www.amazon.com/AngularJS-UI-Development-Amit-Ghart-ebook/dp/B00OXVAK7A">AngularJS UI Development</a> by Amit Gharat and Matthias Nehlsen</li>
<li><a href="http://www.amazon.com/Responsive-Design-AngularJS-Sandeep-Kumar/dp/178439842X">Responsive Web Design with AngularJS</a> by Sandeep Kumar Patel</li>
</ul>
<h3 id="videos-" class="ng-scope">Videos:</h3>
<ul class="ng-scope">
<li><a href="http://egghead.io/">egghead.io</a></li>
<li><a href="http://youtube.com/angularjs">Angular on YouTube</a></li>
</ul>
<h3 id="courses" class="ng-scope">Courses</h3>
<ul class="ng-scope">
<li><strong>Free online:</strong>
<a href="http://thinkster.io/">thinkster.io</a>,
<a href="http://www.codecademy.com/courses/javascript-advanced-en-2hJ3J/0/1">CodeAcademy</a>,
<a href="https://www.codeschool.com/courses/shaping-up-with-angular-js">CodeSchool</a></li>
<li><strong>Paid online:</strong>
<a href="http://www.pluralsight.com/training/Courses/Find?highlight=true&searchTerm=angularjs">Pluralsite (3 courses)</a>,
<a href="https://tutsplus.com/course/easier-js-apps-with-angular/">Tuts+</a>,
<a href="http://www.lynda.com/AngularJS-tutorials/Up-Running-AngularJS/133318-2.html">lynda.com</a>,
<a href="http://www.wintellectnow.com/Course/Detail/mastering-angularjs">WintellectNOW (4 lessons)</a></li>
<li><strong>Paid onsite:</strong>
<a href="http://angularbootcamp.com/">angularbootcamp.com</a></li>
</ul>
<h2 id="getting-help" class="ng-scope">Getting Help</h2>
<p class="ng-scope">The recipe for getting help on your unique issue is to create an example that could work (even if it doesn't) in a shareable example on <a href="http://plnkr.co/">Plunker</a>, <a href="http://jsfiddle.net/">JSFiddle</a>, or similar site and then post to one of the following:</p>
<ul class="ng-scope">
<li><a href="http://stackoverflow.com/search?q=angularjs">Stackoverflow.com</a></li>
<li><a href="https://groups.google.com/forum/#!forum/angular">AngularJS mailing list</a></li>
<li><a href="http://webchat.freenode.net/?channels=angularjs&uio=d4">AngularJS IRC channel</a></li>
</ul>
<h2 id="social-channels" class="ng-scope">Social Channels</h2>
<ul class="ng-scope">
<li><strong>Daily updates:</strong> <a href="https://plus.google.com/u/0/+AngularJS">Google+</a> or <a href="https://twitter.com/angularjs">Twitter</a></li>
<li><strong>Weekly newsletter:</strong> <a href="http://www.ng-newsletter.com/">ng-newsletter</a></li>
<li><strong>Meetups: </strong><a href="http://www.meetup.com/find/?keywords=angularJS&radius=Infinity&userFreeform=San+Francisco%2C+CA&mcId=z94108&mcName=San+Francisco%2C+CA&sort=member_count&eventFilter=mysugg">meetup.com</a></li>
<li><strong>Official news and releases: </strong><a href="http://blog.angularjs.org/">AngularJS Blog</a></li>
</ul>
<h2 id="contributing-to-angularjs" class="ng-scope">Contributing to AngularJS</h2>
<p class="ng-scope">Though we have a core group of core contributors at Google, Angular is an open source project with hundreds of contributors.  We'd love you to be one of them.  When you're ready, please read the <a href="https://docs.angularjs.org/misc/contribute">Guide for contributing to AngularJS</a>.</p>
<h2 id="final-bits" class="ng-scope">Final Bits</h2>
<p class="ng-scope">Didn't find what you're looking for here?  Check out <a href="https://github.com/jmcunningham/AngularJS-Learning">AngularJS-Learning</a> for an even more comprehensive list of links to videos, tutorials, and blog posts.</p>
<p class="ng-scope">If you have awesome AngularJS resources that belong on this page, please tell us about them on <a href="https://plus.google.com/u/0/+AngularJS">Google+</a> or <a href="https://twitter.com/angularjs">Twitter</a>.</p>


</div> 

<!--  ++++++++++++++++++++++++++++++++++++++++++++++++++++  -->
        <hr /><div id="introduction" class="document-section"><span class="guide-doc">Introduction</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/introduction.ngdoc?message=docs(guide%2FIntroduction)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="what-is-angular-" class="ng-scope">What Is Angular?</h1>
<p class="ng-scope">AngularJS is a structural framework for dynamic web apps. It lets you use HTML as your template
language and lets you extend HTML's syntax to express your application's components clearly and
succinctly. Angular's data binding and dependency injection eliminate much of the code you
would otherwise have to write. And it all happens within the browser, making it
an ideal partner with any server technology.</p>
<p class="ng-scope">Angular is what HTML would have been had it been designed for applications. HTML is a great
declarative language for static documents. It does not contain much in the way of creating
applications, and as a result building web applications is an exercise in <em>what do I have to do
to trick the browser into doing what I want?</em></p>
<p class="ng-scope">The impedance mismatch between dynamic applications and static documents is often solved with:</p>
<ul class="ng-scope">
<li><strong>a library</strong> - a collection of functions which are useful when writing web apps. Your code is
in charge and it calls into the library when it sees fit. E.g., <code><span class="pln">jQuery</span></code>.</li>
<li><strong>frameworks</strong> - a particular implementation of a web application, where your code fills in
the details. The framework is in charge and it calls into your code when it needs something
app specific. E.g., <code><span class="pln">durandal</span></code>, <code><span class="pln">ember</span></code>, etc.</li>
</ul>
<p class="ng-scope">Angular takes another approach. It attempts to minimize the impedance mismatch between document
centric HTML and what an application needs by creating new HTML constructs. Angular teaches the
browser new syntax through a construct we call directives. Examples include:</p>
<ul class="ng-scope">
<li>Data binding, as in <code><span class="pun">{{}}</span></code>.</li>
<li>DOM control structures for repeating/hiding DOM fragments.</li>
<li>Support for forms and form validation.</li>
<li>Attaching new behavior to DOM elements, such as DOM event handling.</li>
<li>Grouping of HTML into reusable components.</li>
</ul>
<h2 id="a-complete-client-side-solution" class="ng-scope">A complete client-side solution</h2>
<p class="ng-scope">Angular is not a single piece in the overall puzzle of building the client-side of a web
application. It handles all of the DOM and AJAX glue code you once wrote by hand and puts it in a
well-defined structure. This makes Angular opinionated about how a CRUD application should be
built. But while it is opinionated, it also tries to make sure that its opinion is just a
starting point you can easily change. Angular comes with the following out-of-the-box:</p>
<ul class="ng-scope">
<li>Everything you need to build a CRUD app in a cohesive set: data-binding, basic templating
directives, form validation, routing, deep-linking, reusable components, dependency injection.</li>
<li>Testability story: unit-testing, end-to-end testing, mocks, test harnesses.</li>
<li>Seed application with directory layout and test scripts as a starting point.</li>
</ul>
<h2 id="angular-sweet-spot" class="ng-scope">Angular Sweet Spot</h2>
<p class="ng-scope">Angular simplifies application development by presenting a higher level of abstraction to the
developer. Like any abstraction, it comes at a cost of flexibility. In other words not every app
is a good fit for Angular. Angular was built with the CRUD application in mind. Luckily CRUD
applications represent the majority of web applications. To understand what Angular is
good at, though, it helps to understand when an app is not a good fit for Angular.</p>
<p class="ng-scope">Games and GUI editors are examples of applications with intensive and tricky DOM manipulation.
These kinds of apps are different from CRUD apps, and as a result are probably not a good fit for Angular.
In these cases it may be better to use a library with a lower level of abstraction, such as <code><span class="pln">jQuery</span></code>.</p>

<h1 id="the-zen-of-angular" class="ng-scope">The Zen of Angular</h1>
<p class="ng-scope">Angular is built around the belief that declarative code is better than imperative when it comes
to building UIs and wiring software components together, while imperative code is excellent for
expressing business logic.</p>
<ul class="ng-scope">
<li>It is a very good idea to decouple DOM manipulation from app logic. This dramatically improves
the testability of the code.</li>
<li>It is a really, <em>really</em> good idea to regard app testing as equal in importance to app
writing. Testing difficulty is dramatically affected by the way the code is structured.</li>
<li>It is an excellent idea to decouple the client side of an app from the server side. This
allows development work to progress in parallel, and allows for reuse of both sides.</li>
<li>It is very helpful indeed if the framework guides developers through the entire journey of
building an app: from designing the UI, through writing the business logic, to testing.</li>
<li>It is always good to make common tasks trivial and difficult tasks possible.</li>
</ul>
<p class="ng-scope">Angular frees you from the following pains:</p>
<ul class="ng-scope">
<li><strong>Registering callbacks:</strong> Registering callbacks clutters your code, making it hard to see the
forest for the trees. Removing common boilerplate code such as callbacks is a good thing. It
vastly reduces the amount of JavaScript coding <em>you</em> have to do, and it makes it easier to see
what your application does.</li>
<li><strong>Manipulating HTML DOM programmatically:</strong> Manipulating HTML DOM is a cornerstone of AJAX
applications, but it's cumbersome and error-prone. By declaratively describing how the UI
should change as your application state changes, you are freed from low-level DOM manipulation
tasks. Most applications written with Angular never have to programmatically manipulate the
DOM, although you can if you want to.</li>
<li><strong>Marshaling data to and from the UI:</strong> CRUD operations make up the majority of AJAX
applications' tasks. The flow of marshaling data from the server to an internal object to an HTML
form, allowing users to modify the form, validating the form, displaying validation errors,
returning to an internal model, and then back to the server, creates a lot of boilerplate
code. Angular eliminates almost all of this boilerplate, leaving code that describes the
overall flow of the application rather than all of the implementation details.</li>
<li><strong>Writing tons of initialization code just to get started:</strong> Typically you need to write a lot
of plumbing just to get a basic "Hello World" AJAX app working. With Angular you can bootstrap
your app easily using services, which are auto-injected into your application in a
<a href="https://github.com/google/guice">Guice</a>-like dependency-injection style. This allows you
to get started developing features quickly. As a bonus, you get full control over the
initialization process in automated tests.</li>
</ul>


</div>
        </div> 

<!--  ++++++++++++++++++++++++++++++++++++++++++++++++++++  -->
        <hr /><div id="concepts" class="document-section"><span class="guide-doc">Conceptual Overview</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/concepts.ngdoc?message=docs(guide%2FConceptual%20Overview)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="conceptual-overview" class="ng-scope">Conceptual Overview</h1>
<p class="ng-scope">This section briefly touches on all of the important parts of AngularJS using a simple example.
For a more in-depth explanation, see the <a href="https://docs.angularjs.org/tutorial/">tutorial</a>.</p>
<table class="ng-scope table table-bordered table-striped code-table">
<thead>
<tr>
<th>Concept</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#concepts-template">Template</a></td>
<td>HTML with additional markup</td>
</tr>
<tr>
<td><a href="#concepts-directive">Directives</a></td>
<td>extend HTML with custom attributes and elements</td>
</tr>
<tr>
<td><a href="#concepts-model">Model</a></td>
<td>the data shown to the user in the view and with which the user interacts</td>
</tr>
<tr>
<td><a href="#concepts-scope">Scope</a></td>
<td>context where the model is stored so that controllers, directives and expressions can access it</td>
</tr>
<tr>
<td><a href="#concepts-expression">Expressions</a></td>
<td>access variables and functions from the scope</td>
</tr>
<tr>
<td><a href="#concepts-compiler">Compiler</a></td>
<td>parses the template and instantiates directives and expressions</td>
</tr>
<tr>
<td><a href="#concepts-filter">Filter</a></td>
<td>formats the value of an expression for display to the user</td>
</tr>
<tr>
<td><a href="#concepts-view">View</a></td>
<td>what the user sees (the DOM)</td>
</tr>
<tr>
<td><a href="#concepts-databinding">Data Binding</a></td>
<td>sync data between the model and the view</td>
</tr>
<tr>
<td><a href="#concepts-controller">Controller</a></td>
<td>the business logic behind views</td>
</tr>
<tr>
<td><a href="#concepts-di">Dependency Injection</a></td>
<td>Creates and wires objects and functions</td>
</tr>
<tr>
<td><a href="#concepts-injector">Injector</a></td>
<td>dependency injection container</td>
</tr>
<tr>
<td><a href="#concepts-module">Module</a></td>
<td>a container for the different parts of an app including controllers, services, filters, directives which configures the Injector</td>
</tr>
<tr>
<td><a href="#concepts-service">Service</a></td>
<td>reusable business logic independent of views</td>
</tr>
</tbody>
</table>
<h2 id="a-first-example-data-binding" class="ng-scope">A first example: Data binding</h2>
<p class="ng-scope">In the following example we will build a form to calculate the costs of an invoice in different currencies.</p>
<p class="ng-scope">Let's start with input fields for quantity and cost whose values are multiplied to produce the total of the invoice:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-guide-concepts-1&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-guide-concepts-1" name="guide-concepts-1" ng-app-included="true"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pln"> </span><span class="aatn">ng-init</span><span class="pun">=</span><span class="atv">"qty=1;cost=2"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;b&gt;</span><span class="pln">Invoice:</span><span class="tag">&lt;/b&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Quantity: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"qty"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Costs: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"cost"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;b&gt;</span><span class="pln">Total:</span><span class="tag">&lt;/b&gt;</span><span class="ang"> {{</span><span class="pln">qty * cost | currency</span><span class="ang">}}
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame-150" src="./ng-guide-all3_files/index(45).html" name="example-guide-concepts-1"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Try out the Live Preview [in the version <a href="#concepts" title="link to original version online">online</a>], and then let's walk through the example and describe what's going on.</p>
<p class="ng-scope"><img class="pull-right" style="padding-left: 3em; padding-bottom: 1em;" src="./ng-guide-all3_files/concepts-databinding1.png"></p>
<p class="ng-scope">This looks like normal HTML, with some new markup. In Angular, a file like this is called a
<a name="concepts-template">"</a><a href="#templates">template</a>." When Angular starts your application, it parses and
processes this new markup from the template using the so-called <a name="concepts-compiler">"</a><a href="#compiler">compiler</a>."
The loaded, transformed and rendered DOM is then called the <a name="concepts-view">"view"</a>.</p>
<p class="ng-scope">The first kind of new markup are the so-called <a name="concepts-directive">"</a><a href="#directive">directives</a>."
They apply special behavior to attributes or elements in the HTML. In the example above we use the
<a href="https://docs.angularjs.org/api/ng/directive/ngApp"><code><span class="atn">ng-app</span></code></a> attribute, which is linked to a directive that automatically
initializes our application. Angular also defines a directive for the <a href="https://docs.angularjs.org/api/ng/directive/input"><code><span class="pln">input</span></code></a>
element that adds extra behavior to the element. The <a href="https://docs.angularjs.org/api/ng/directive/ngModel"><code><span class="atn">ng-model</span></code></a> directive
stores/updates the value of the input field into/from a variable.</p>
<div class="alert alert-info ng-scope">
<strong>Custom directives to access the DOM</strong>: In Angular, the only place where an application should access the DOM is
 within directives. This is important because artifacts that access the DOM are hard to test.
 If you need to access the DOM directly you should write a custom directive for this. The
 <a href="#directive">directives guide</a> explains how to do this.
</div>

<p class="ng-scope">The second kind of new markup are the double curly braces <code><span class="pun">{{</span><span class="pln"> expression </span><span class="pun">|</span><span class="pln"> filter </span><span class="pun">}}</span></code>:
When the compiler encounters this markup, it will replace it with the evaluated value of the markup.
An <a name="concepts-expression">"</a><a href="#expression">expression</a>" in a template is a JavaScript-like code snippet that allows
to read and write variables. Note that those variables are not global variables.
Just like variables in a JavaScript function live in a scope,
Angular provides a <a name="concepts-scope">"</a><a href="#scope">scope</a>" for the variables accessible to expressions.
The values that are stored in variables on the scope are referred to as the <a name="concepts-model">"model"</a>
in the rest of the documentation.
Applied to the example above, the markup directs Angular to "take the data we got from the input widgets
and multiply them together".</p>
<p class="ng-scope">The example above also contains a <a name="concepts-filter">"</a><a href="#filter">filter</a>."
A filter formats the value of an expression for display to the user.
In the example above, the filter <a href="https://docs.angularjs.org/api/ng/filter/currency"><code><span class="pln">currency</span></code></a> formats a number
into an output that looks like money.</p>
<p class="ng-scope">The important thing in the example is that Angular provides <em>live</em> bindings:
Whenever the input values change, the value of the expressions are automatically
recalculated and the DOM is updated with their values.
The concept behind this is <a name="concepts-databinding">"</a><a href="#databinding">two-way data binding</a>."</p>
<h2 id="adding-ui-logic-controllers" class="ng-scope">Adding UI logic: Controllers</h2>
<p class="ng-scope">Let's add some more logic to the example that allows us to enter and calculate the costs in
different currencies and also pay the invoice.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-guide-concepts-2&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-guide-concepts-2" name="guide-concepts-2" ng-app-included="true"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    invoice1.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="invoice1.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">invoice1.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'invoice1'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'InvoiceController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">qty </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">inCurr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'EUR'</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currencies </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'USD'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'EUR'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'CNY'</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">usdToForeignRates </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    USD</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
    EUR</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0.74</span><span class="pun">,</span><span class="pln">
    CNY</span><span class="pun">:</span><span class="pln"> </span><span class="lit">6.09</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> total</span><span class="pun">(</span><span class="pln">outCurr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">convertCurrency</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">qty </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cost</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">inCurr</span><span class="pun">,</span><span class="pln"> outCurr</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">convertCurrency </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> convertCurrency</span><span class="pun">(</span><span class="pln">amount</span><span class="pun">,</span><span class="pln"> inCurr</span><span class="pun">,</span><span class="pln"> outCurr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> amount </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">usdToForeignRates</span><span class="pun">[</span><span class="pln">outCurr</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">usdToForeignRates</span><span class="pun">[</span><span class="pln">inCurr</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">pay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> pay</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    window</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">(</span><span class="str">"Thanks!"</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"invoice1"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"InvoiceController as invoice"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;b&gt;</span><span class="pln">Invoice:</span><span class="tag">&lt;/b&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Quantity: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.qty"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Costs: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.cost"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;select</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.inCurr"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;option</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"c in invoice.currencies"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">c</span><span class="ang">}}</span><span class="tag">&lt;/option&gt;</span><span class="pln">
    </span><span class="tag">&lt;/select&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;b&gt;</span><span class="pln">Total:</span><span class="tag">&lt;/b&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"c in invoice.currencies"</span><span class="tag">&gt;</span><span class="pln">
      {{invoice.total(c) | currency:c}}
    </span><span class="tag">&lt;/span&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"invoice.pay()"</span><span class="tag">&gt;</span><span class="pln">Pay</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame-150" src="./ng-guide-all3_files/index(46).html" name="example-guide-concepts-2"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">What changed?</p>
<p class="ng-scope">First, there is a new JavaScript file that contains a so-called <a name="concepts-controller">"</a><a href="#controller">controller</a>."
More exactly, the file contains a constructor function that creates the actual controller instance.
The purpose of controllers is to expose variables and functionality to expressions and directives.</p>
<p class="ng-scope">Besides the new file that contains the controller code we also added an
<a href="https://docs.angularjs.org/api/ng/directive/ngController"><code><span class="atn">ng-controller</span></code></a> directive to the HTML.
This directive tells Angular that the new <code><span class="typ">InvoiceController</span></code> is responsible for the element with the directive
and all of the element's children.
The syntax <code><span class="typ">InvoiceController</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> invoice</span></code> tells Angular to instantiate the controller
and save it in the variable <code><span class="pln">invoice</span></code> in the current scope.</p>
<p class="ng-scope">We also changed all expressions in the page to read and write variables within that
controller instance by prefixing them with <code><span class="pln">invoice</span><span class="pun">.</span></code> . The possible currencies are defined in the controller
and added to the template using <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat"><code><span class="atn">ng-repeat</span></code></a>.
As the controller contains a <code><span class="pln">total</span></code> function
we are also able to bind the result of that function to the DOM using <code><span class="pun">{{</span><span class="pln"> invoice</span><span class="pun">.</span><span class="pln">total</span><span class="pun">(...)</span><span class="pln"> </span><span class="pun">}}</span></code>.</p>
<p class="ng-scope">Again, this binding is live, i.e. the DOM will be automatically updated
whenever the result of the function changes.
The button to pay the invoice uses the directive <a href="https://docs.angularjs.org/api/ng/directive/ngClick"><code><span class="pln">ngClick</span></code></a>. This will evaluate the
corresponding expression whenever the button is clicked.</p>
<p class="ng-scope">In the new JavaScript file we are also creating a <a href="#concepts#module">module</a>
at which we register the controller. We will talk about modules in the next section.</p>
<p class="ng-scope">The following graphic shows how everything works together after we introduced the controller:</p>
<p class="ng-scope"><img style="padding-left: 3em; padding-bottom: 1em;" src="./ng-guide-all3_files/concepts-databinding2.png"></p>
<h2 id="view-independent-business-logic-services" class="ng-scope">View independent business logic: Services</h2>
<p class="ng-scope">Right now, the <code><span class="typ">InvoiceController</span></code> contains all logic of our example. When the application grows it
is a good practice to move view independent logic from the controller into a so called
<a name="concepts-service">"</a><a href="#services">service</a>", so it can be reused by other parts
of the application as well. Later on, we could also change that service to load the exchange rates
from the web, e.g. by calling the Yahoo Finance API, without changing the controller.</p>
<p class="ng-scope">Let's refactor our example and move the currency conversion into a service in another file:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-guide-concepts-21&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-guide-concepts-21" name="guide-concepts-2" ng-app-included="true"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    finance2.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    invoice2.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="finance2.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">finance2.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'finance2'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'currencyConverter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> currencies </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'USD'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'EUR'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'CNY'</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> usdToForeignRates </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    USD</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
    EUR</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0.74</span><span class="pun">,</span><span class="pln">
    CNY</span><span class="pun">:</span><span class="pln"> </span><span class="lit">6.09</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> convert </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">amount</span><span class="pun">,</span><span class="pln"> inCurr</span><span class="pun">,</span><span class="pln"> outCurr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> amount </span><span class="pun">*</span><span class="pln"> usdToForeignRates</span><span class="pun">[</span><span class="pln">outCurr</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> usdToForeignRates</span><span class="pun">[</span><span class="pln">inCurr</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    currencies</span><span class="pun">:</span><span class="pln"> currencies</span><span class="pun">,</span><span class="pln">
    convert</span><span class="pun">:</span><span class="pln"> convert
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="invoice2.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">invoice2.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'invoice2'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'finance2'</span><span class="pun">])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'InvoiceController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'currencyConverter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">currencyConverter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">qty </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">inCurr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'EUR'</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currencies </span><span class="pun">=</span><span class="pln"> currencyConverter</span><span class="pun">.</span><span class="pln">currencies</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> total</span><span class="pun">(</span><span class="pln">outCurr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> currencyConverter</span><span class="pun">.</span><span class="pln">convert</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">qty </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cost</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">inCurr</span><span class="pun">,</span><span class="pln"> outCurr</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">pay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> pay</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    window</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">(</span><span class="str">"Thanks!"</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"invoice2"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"InvoiceController as invoice"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;b&gt;</span><span class="pln">Invoice:</span><span class="tag">&lt;/b&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Quantity: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.qty"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Costs: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.cost"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;select</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.inCurr"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;option</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"c in invoice.currencies"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">c</span><span class="ang">}}</span><span class="tag">&lt;/option&gt;</span><span class="pln">
    </span><span class="tag">&lt;/select&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;b&gt;</span><span class="pln">Total:</span><span class="tag">&lt;/b&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"c in invoice.currencies"</span><span class="tag">&gt;</span><span class="pln">
      {{invoice.total(c) | currency:c}}
    </span><span class="tag">&lt;/span&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"invoice.pay()"</span><span class="tag">&gt;</span><span class="pln">Pay</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(47).html" name="example-guide-concepts-21"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope"><img class="pull-right" style="padding-left: 3em; padding-bottom: 1em;" src="./ng-guide-all3_files/concepts-module-service.png"></p>
<p class="ng-scope">What changed?
We moved the <code><span class="pln">convertCurrency</span></code> function and the definition of the existing currencies
into the new file <code><span class="pln">finance2</span><span class="pun">.</span><span class="pln">js</span></code>. But how does the controller
get a hold of the now separated function?</p>
<p class="ng-scope">This is where <a name="concepts-di">"</a><a href="#di">Dependency Injection</a>" comes into play.
Dependency Injection (DI) is a software design pattern that
deals with how objects and functions get created and how they get a hold of their dependencies.
Everything within Angular (directives, filters, controllers,
services, ...) is created and wired using dependency injection. Within Angular,
the DI container is called the <a name="concepts-injector">"</a><a href="#di">injector</a>."</p>
<p class="ng-scope">To use DI, there needs to be a place where all the things that should work together are registered.
In Angular, this is the purpose of the so-called <a name="concepts-module">"</a><a href="#module">modules</a>."
When Angular starts, it will use the configuration of the module with the name defined by the <code><span class="atn">ng-app</span></code> directive,
including the configuration of all modules that this module depends on.</p>
<p class="ng-scope">In the example above:
The template contains the directive <code><span class="atn">ng-app</span><span class="pun">=</span><span class="str">"invoice2"</span></code>. This tells Angular
to use the <code><span class="pln">invoice2</span></code> module as the main module for the application.
The code snippet <code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'invoice2'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'finance2'</span><span class="pun">])</span></code>  specifies that the <code><span class="pln">invoice2</span></code> module depends on the
<code><span class="pln">finance2</span></code> module. By this, Angular uses the <code><span class="typ">InvoiceController</span></code> as well as the <code><span class="pln">currencyConverter</span></code> service.</p>
<p class="ng-scope">Now that Angular knows of all the parts of the application, it needs to create them.
In the previous section we saw that controllers are created using a factory function.
For services there are multiple ways to define their factory
(see the <a href="#services">service guide</a>).
In the example above, we are using a function that returns the <code><span class="pln">currencyConverter</span></code> function as the factory
for the service.</p>
<p class="ng-scope">Back to the initial question: How does the <code><span class="typ">InvoiceController</span></code> get a reference to the <code><span class="pln">currencyConverter</span></code> function?
In Angular, this is done by simply defining arguments on the constructor function. With this, the injector
is able to create the objects in the right order and pass the previously created objects into the
factories of the objects that depend on them.
In our example, the <code><span class="typ">InvoiceController</span></code> has an argument named <code><span class="pln">currencyConverter</span></code>. By this, Angular knows about the
dependency between the controller and the service and calls the controller with the service instance as argument.</p>
<p class="ng-scope">The last thing that changed in the example between the previous section and this section is that we
now pass an array to the <code><span class="kwd">module</span><span class="pun">.</span><span class="pln">controller</span></code> function, instead of a plain function. The array first
contains the names of the service dependencies that the controller needs. The last entry
in the array is the controller constructor function.
Angular uses this array syntax to define the dependencies so that the DI also works after minifying
the code, which will most probably rename the argument name of the controller constructor function
to something shorter like <code><span class="pln">a</span></code>.</p>
<h2 id="accessing-the-backend" class="ng-scope">Accessing the backend</h2>
<p class="ng-scope">Let's finish our example by fetching the exchange rates from the Yahoo Finance API.
The following example shows how this is done with Angular:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-guide-concepts-3&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-guide-concepts-3" name="guide-concepts-3" ng-app-included="true"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    invoice3.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    finance3.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="invoice3.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">invoice3.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'invoice3'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'finance3'</span><span class="pun">])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'InvoiceController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'currencyConverter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">currencyConverter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">qty </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">inCurr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'EUR'</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currencies </span><span class="pun">=</span><span class="pln"> currencyConverter</span><span class="pun">.</span><span class="pln">currencies</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">total </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> total</span><span class="pun">(</span><span class="pln">outCurr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> currencyConverter</span><span class="pun">.</span><span class="pln">convert</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">qty </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cost</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">inCurr</span><span class="pun">,</span><span class="pln"> outCurr</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">pay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> pay</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    window</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">(</span><span class="str">"Thanks!"</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="finance3.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">finance3.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'finance3'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'currencyConverter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$http'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$http</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> YAHOO_FINANCE_URL_PATTERN </span><span class="pun">=</span><span class="pln">
        </span><span class="str">'//query.yahooapis.com/v1/public/yql?q=select * from '</span><span class="pun">+</span><span class="pln">
        </span><span class="str">'yahoo.finance.xchange where pair in ("PAIRS")&amp;format=json&amp;'</span><span class="pun">+</span><span class="pln">
        </span><span class="str">'env=store://datatables.org/alltableswithkeys&amp;callback=JSON_CALLBACK'</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> currencies </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'USD'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'EUR'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'CNY'</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> usdToForeignRates </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> convert </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">amount</span><span class="pun">,</span><span class="pln"> inCurr</span><span class="pun">,</span><span class="pln"> outCurr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> amount </span><span class="pun">*</span><span class="pln"> usdToForeignRates</span><span class="pun">[</span><span class="pln">outCurr</span><span class="pun">]</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> usdToForeignRates</span><span class="pun">[</span><span class="pln">inCurr</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> refresh </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> YAHOO_FINANCE_URL_PATTERN</span><span class="pun">.</span><span class="pln">
               replace</span><span class="pun">(</span><span class="str">'PAIRS'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'USD'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> currencies</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="str">'","USD'</span><span class="pun">));</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> $http</span><span class="pun">.</span><span class="pln">jsonp</span><span class="pun">(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">success</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> newUsdToForeignRates </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
      angular</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">data</span><span class="pun">.</span><span class="pln">query</span><span class="pun">.</span><span class="pln">results</span><span class="pun">.</span><span class="pln">rate</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">rate</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">var</span><span class="pln"> currency </span><span class="pun">=</span><span class="pln"> rate</span><span class="pun">.</span><span class="pln">id</span><span class="pun">.</span><span class="pln">substring</span><span class="pun">(</span><span class="lit">3</span><span class="pun">,</span><span class="lit">6</span><span class="pun">);</span><span class="pln">
        newUsdToForeignRates</span><span class="pun">[</span><span class="pln">currency</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">parseFloat</span><span class="pun">(</span><span class="pln">rate</span><span class="pun">.</span><span class="typ">Rate</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
      usdToForeignRates </span><span class="pun">=</span><span class="pln"> newUsdToForeignRates</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  refresh</span><span class="pun">();</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    currencies</span><span class="pun">:</span><span class="pln"> currencies</span><span class="pun">,</span><span class="pln">
    convert</span><span class="pun">:</span><span class="pln"> convert</span><span class="pun">,</span><span class="pln">
    refresh</span><span class="pun">:</span><span class="pln"> refresh
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"invoice3"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"InvoiceController as invoice"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;b&gt;</span><span class="pln">Invoice:</span><span class="tag">&lt;/b&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Quantity: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.qty"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Costs: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.cost"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;select</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"invoice.inCurr"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;option</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"c in invoice.currencies"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">c</span><span class="ang">}}</span><span class="tag">&lt;/option&gt;</span><span class="pln">
    </span><span class="tag">&lt;/select&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;b&gt;</span><span class="pln">Total:</span><span class="tag">&lt;/b&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"c in invoice.currencies"</span><span class="tag">&gt;</span><span class="pln">
      {{invoice.total(c) | currency:c}}
    </span><span class="tag">&lt;/span&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"invoice.pay()"</span><span class="tag">&gt;</span><span class="pln">Pay</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(48).html" name="example-guide-concepts-3"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">What changed?
Our <code><span class="pln">currencyConverter</span></code> service of the <code><span class="pln">finance</span></code> module now uses the <a href="https://docs.angularjs.org/api/ng/service/$http"><code><span class="pln">$http</span></code></a>, a
built-in service provided by Angular for accessing a server backend. <code><span class="pln">$http</span></code> is a wrapper around
<a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest"><code><span class="typ">XMLHttpRequest</span></code></a>
and <a href="http://en.wikipedia.org/wiki/JSONP">JSONP</a> transports.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="databinding" class="document-section"><span class="guide-doc">Data Binding</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/databinding.ngdoc?message=docs(guide%2FData%20Binding)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<p class="ng-scope">Data-binding in Angular apps is the automatic synchronization of data between the model and view
components.  The way that Angular implements data-binding lets you treat the model as the
single-source-of-truth in your application.  The view is a projection of the model at all times.
When the model changes, the view reflects the change, and vice versa.</p>
<h2 id="data-binding-in-classical-template-systems" class="ng-scope">Data Binding in Classical Template Systems</h2>
<p class="ng-scope"><img class="right" src="./ng-guide-all3_files/One_Way_Data_Binding.png"><br>
Most templating systems bind data in only one direction: they merge template and model components
together into a view. After the merge occurs, changes to the model
or related sections of the view are NOT automatically reflected in the view. Worse, any changes
that the user makes to the view are not reflected in the model. This means that the developer has
to write code that constantly syncs the view with the model and the model with the view.</p>
<h2 id="data-binding-in-angular-templates" class="ng-scope">Data Binding in Angular Templates</h2>
<p class="ng-scope"><img class="right" src="./ng-guide-all3_files/Two_Way_Data_Binding.png"><br>
Angular templates work differently. First the template (which is the uncompiled HTML along with
any additional markup or directives) is compiled on the browser. The compilation step produces a
live view. Any changes to the view are immediately reflected in the model, and any changes in
the model are propagated to the view. The model is the single-source-of-truth for the application
state, greatly simplifying the programming model for the developer. You can think of
the view as simply an instant projection of your model.</p>
<p class="ng-scope">Because the view is just a projection of the model, the controller is completely separated from the
view and unaware of it. This makes testing a snap because it is easy to test your controller in
isolation without the view and the related DOM/browser dependency.</p>
<h2 id="related-topics" class="ng-scope">Related Topics</h2>
<ul class="ng-scope">
<li><a href="#scope">Angular Scopes</a></li>
<li><a href="#templates">Angular Templates</a></li>
</ul>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="controller" class="document-section"><span class="guide-doc">Controllers</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/controller.ngdoc?message=docs(guide%2FControllers)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="understanding-controllers" class="ng-scope">Understanding Controllers</h1>
<p class="ng-scope">In Angular, a Controller is a JavaScript <strong>constructor function</strong> that is used to augment the
<a href="#scope">Angular Scope</a>.</p>
<p class="ng-scope">When a Controller is attached to the DOM via the <a href="https://docs.angularjs.org/api/ng/directive/ngController">ng-controller</a>
directive, Angular will instantiate a new Controller object, using the specified Controller's
<strong>constructor function</strong>. A new <strong>child scope</strong> will be available as an injectable parameter to the
Controller's constructor function as <code><span class="pln">$scope</span></code>.</p>
<p class="ng-scope">Use controllers to:</p>
<ul class="ng-scope">
<li>Set up the initial state of the <code><span class="pln">$scope</span></code> object.</li>
<li>Add behavior to the <code><span class="pln">$scope</span></code> object.</li>
</ul>
<p class="ng-scope">Do not use controllers to:</p>
<ul class="ng-scope">
<li>Manipulate DOM  Controllers should contain only business logic.
Putting any presentation logic into Controllers significantly affects its testability. Angular
has <a href="#databinding">databinding</a> for most cases and <a href="#directive">directives</a> to
encapsulate manual DOM manipulation.</li>
<li>Format input  Use <a href="#forms">angular form controls</a> instead.</li>
<li>Filter output  Use <a href="#filter">angular filters</a> instead.</li>
<li>Share code or state across controllers  Use <a href="#services">angular
services</a> instead.</li>
<li>Manage the life-cycle of other components (for example, to create service instances).</li>
</ul>

<h1 id="setting-up-the-initial-state-of-a-scope-object" class="ng-scope">Setting up the initial state of a <code><span class="pln">$scope</span></code> object</h1>
<p class="ng-scope">Typically, when you create an application you need to set up the initial state for the Angular
<code><span class="pln">$scope</span></code>. You set up the initial state of a scope by attaching properties to the <code><span class="pln">$scope</span></code> object.
The properties contain the <strong>view model</strong> (the model that will be presented by the view).  All the
<code><span class="pln">$scope</span></code> properties will be available to the template at the point in the DOM where the Controller
is registered.</p>
<p class="ng-scope">The following example demonstrates creating a <code><span class="typ">GreetingController</span></code>, which attaches a <code><span class="pln">greeting</span></code>
property containing the string <code><span class="str">'Hola!'</span></code> to the <code><span class="pln">$scope</span></code>:</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,[]);</span><span class="pln">

myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'GreetingController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">greeting </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hola!'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">We create an <a href="#module">Angular Module</a>, <code><span class="pln">myApp</span></code>, for our application. Then we add the controller's
constructor function to the module using the <code><span class="pun">.</span><span class="pln">controller</span><span class="pun">()</span></code> method. This keeps the controller's
constructor function out of the global scope.</p>
<div class="alert alert-info ng-scope">
We have used an <strong>inline injection annotation</strong> to explicitly specify the dependency
of the Controller on the <code><span class="pln">$scope</span></code> service provided by Angular. See the guide on
<a href="#di">Dependency Injection</a> for more information.
</div>

<p class="ng-scope">We attach our controller to the DOM using the <code><span class="atn">ng-controller</span></code> directive. The <code><span class="pln">greeting</span></code> property can
now be data-bound to the template:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pun">&lt;</span><span class="pln">div ng</span><span class="pun">-</span><span class="pln">controller</span><span class="pun">=</span><span class="str">"GreetingController"</span><span class="pun">&gt;</span><span class="pln">
  </span><span class="pun">{{</span><span class="pln"> greeting </span><span class="pun">}}</span><span class="pln">
</span><span class="pun">&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code></pre>

<h1 id="adding-behavior-to-a-scope-object" class="ng-scope">Adding Behavior to a Scope Object</h1>
<p class="ng-scope">In order to react to events or execute computation in the view we must provide behavior to the
scope. We add behavior to the scope by attaching methods to the <code><span class="pln">$scope</span></code> object.  These methods are
then available to be called from the template/view.</p>
<p class="ng-scope">The following example uses a Controller to add a method to the scope, which doubles a number:</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,[]);</span><span class="pln">

myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'DoubleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> value </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">Once the Controller has been attached to the DOM, the <code><span class="kwd">double</span></code> method can be invoked in an Angular
expression in the template:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pun">&lt;</span><span class="pln">div ng</span><span class="pun">-</span><span class="pln">controller</span><span class="pun">=</span><span class="str">"DoubleController"</span><span class="pun">&gt;</span><span class="pln">
  </span><span class="typ">Two</span><span class="pln"> times </span><span class="pun">&lt;</span><span class="pln">input ng</span><span class="pun">-</span><span class="pln">model</span><span class="pun">=</span><span class="str">"num"</span><span class="pun">&gt;</span><span class="pln"> equals </span><span class="pun">{{</span><span class="pln"> </span><span class="kwd">double</span><span class="pun">(</span><span class="pln">num</span><span class="pun">)</span><span class="pln"> </span><span class="pun">}}</span><span class="pln">
</span><span class="pun">&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code></pre>
<p class="ng-scope">As discussed in the <a href="#concepts">Concepts</a> section of this guide, any
objects (or primitives) assigned to the scope become model properties. Any methods assigned to
the scope are available in the template/view, and can be invoked via angular expressions
and <code><span class="pln">ng</span></code> event handler directives (e.g. <a href="https://docs.angularjs.org/api/ng/directive/ngClick">ngClick</a>).</p>
<h1 id="using-controllers-correctly" class="ng-scope">Using Controllers Correctly</h1>
<p class="ng-scope">In general, a Controller shouldn't try to do too much. It should contain only the business logic
needed for a single view.</p>
<p class="ng-scope">The most common way to keep Controllers slim is by encapsulating work that doesn't belong to
controllers into services and then using these services in Controllers via dependency injection.
This is discussed in the <a href="#di">Dependency Injection</a> <a href="#services">Services</a> sections of this guide.</p>
<h1 id="associating-controllers-with-angular-scope-objects" class="ng-scope">Associating Controllers with Angular Scope Objects</h1>
<p class="ng-scope">You can associate Controllers with scope objects implicitly via the <a href="https://docs.angularjs.org/api/ng/directive/ngController">ngController
directive</a> or <a href="https://docs.angularjs.org/api/ngRoute/service/$route">$route service</a>.</p>
<h2 id="simple-spicy-controller-example" class="ng-scope">Simple Spicy Controller Example</h2>
<p class="ng-scope">To illustrate further how Controller components work in Angular, let's create a little app with the
following components:</p>
<ul class="ng-scope">
<li>A <a href="#templates">template</a> with two buttons and a simple message</li>
<li>A model consisting of a string named <code><span class="pln">spice</span></code></li>
<li>A Controller with two functions that set the value of <code><span class="pln">spice</span></code></li>
</ul>
<p class="ng-scope">The message in our template contains a binding to the <code><span class="pln">spice</span></code> model, which by default is set to the
string "very". Depending on which button is clicked, the <code><span class="pln">spice</span></code> model is set to <code><span class="pln">chili</span></code> or
<code><span class="pln">jalape</span><span class="pun"></span><span class="pln">o</span></code>, and the message is automatically updated by data-binding.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!-- a ng-click="openPlunkr(&#39;examples/example-example6&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a -->

  <div class="runnable-example ng-scope" path="examples/example-example6" module="spicyApp1"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    app.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"SpicyController"</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"chiliSpicy()"</span><span class="tag">&gt;</span><span class="pln">Chili</span><span class="tag">&lt;/button&gt;</span><span class="pln">
 </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"jalapenoSpicy()"</span><span class="tag">&gt;</span><span class="pln">Jalapeo</span><span class="tag">&lt;/button&gt;</span><span class="pln">
 </span><span class="tag">&lt;p&gt;</span><span class="pln">The food is {{spice}} spicy!</span><span class="tag">&lt;/p&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="app.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">app.js</span>
      <pre><code><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'spicyApp1'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'SpicyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">spice </span><span class="pun">=</span><span class="pln"> </span><span class="str">'very'</span><span class="pun">;</span><span class="pln">

    $scope</span><span class="pun">.</span><span class="pln">chiliSpicy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">spice </span><span class="pun">=</span><span class="pln"> </span><span class="str">'chili'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    $scope</span><span class="pun">.</span><span class="pln">jalapenoSpicy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">spice </span><span class="pun">=</span><span class="pln"> </span><span class="str">'jalapeo'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(41).html" name="example-example6"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Things to notice in the example above:</p>
<ul class="ng-scope">
<li>The <code><span class="atn">ng-controller</span></code> directive is used to (implicitly) create a scope for our template, and the
scope is augmented (managed) by the <code><span class="typ">SpicyController</span></code> Controller.</li>
<li><code><span class="typ">SpicyController</span></code> is just a plain JavaScript function. As an (optional) naming convention the name
starts with capital letter and ends with "Controller".</li>
<li>Assigning a property to <code><span class="pln">$scope</span></code> creates or updates the model.</li>
<li>Controller methods can be created through direct assignment to scope (see the <code><span class="pln">chiliSpicy</span></code> method)</li>
<li>The Controller methods and properties are available in the template (for the <code><span class="tag">&lt;div&gt;</span></code> element and
its children).</li>
</ul>
<h2 id="spicy-arguments-example" class="ng-scope">Spicy Arguments Example</h2>
<p class="ng-scope">Controller methods can also take arguments, as demonstrated in the following variation of the
previous example.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example7&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example7" module="spicyApp2"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    app.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"SpicyController"</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"customSpice"</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"spicy('chili')"</span><span class="tag">&gt;</span><span class="pln">Chili</span><span class="tag">&lt;/button&gt;</span><span class="pln">
 </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"spicy(customSpice)"</span><span class="tag">&gt;</span><span class="pln">Custom spice</span><span class="tag">&lt;/button&gt;</span><span class="pln">
 </span><span class="tag">&lt;p&gt;</span><span class="pln">The food is {{spice}} spicy!</span><span class="tag">&lt;/p&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="app.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">app.js</span>
      <pre><code><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'spicyApp2'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'SpicyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">customSpice </span><span class="pun">=</span><span class="pln"> </span><span class="str">"wasabi"</span><span class="pun">;</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">spice </span><span class="pun">=</span><span class="pln"> </span><span class="str">'very'</span><span class="pun">;</span><span class="pln">

    $scope</span><span class="pun">.</span><span class="pln">spicy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">spice</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">spice </span><span class="pun">=</span><span class="pln"> spice</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(42).html" name="example-example7"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Notice that the <code><span class="typ">SpicyController</span></code> Controller now defines just one method called <code><span class="pln">spicy</span></code>, which takes one
argument called <code><span class="pln">spice</span></code>. The template then refers to this Controller method and passes in a string
constant <code><span class="str">'chili'</span></code> in the binding for the first button and a model property <code><span class="pln">customSpice</span></code> (bound to an
input box) in the second button.</p>
<h2 id="scope-inheritance-example" class="ng-scope">Scope Inheritance Example</h2>
<p class="ng-scope">It is common to attach Controllers at different levels of the DOM hierarchy.  Since the
<a href="https://docs.angularjs.org/api/ng/directive/ngController">ng-controller</a> directive creates a new child scope, we get a
hierarchy of scopes that inherit from each other.  The <code><span class="pln">$scope</span></code> that each Controller receives will
have access to properties and methods defined by Controllers higher up the hierarchy.
See <a href="https://github.com/angular/angular.js/wiki/Understanding-Scopes">Understanding Scopes</a> for
more information about scope inheritance.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example8&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example8" module="scopeInheritance"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    app.css  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    app.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"spicy"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainController"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;p&gt;</span><span class="pln">Good {{timeOfDay}}, {{name}}!</span><span class="tag">&lt;/p&gt;</span><span class="pln">

    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ChildController"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;p&gt;</span><span class="pln">Good {{timeOfDay}}, {{name}}!</span><span class="tag">&lt;/p&gt;</span><span class="pln">

      </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"GrandChildController"</span><span class="tag">&gt;</span><span class="pln">
        </span><span class="tag">&lt;p&gt;</span><span class="pln">Good {{timeOfDay}}, {{name}}!</span><span class="tag">&lt;/p&gt;</span><span class="pln">
      </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="app.css" language="css" type="css" style=""><span style="font-size: 22px; font-family: Share-Bold;">app.css</span>
      <pre><code><span class="pln">div</span><span class="pun">.</span><span class="pln">spicy div </span><span class="pun">{</span><span class="pln">
  padding</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10px</span><span class="pun">;</span><span class="pln">
  border</span><span class="pun">:</span><span class="pln"> solid </span><span class="lit">2px</span><span class="pln"> blue</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
    </div>

    <div class="runnable-example-file" name="app.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">app.js</span>
      <pre><code><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'scopeInheritance'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">
myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MainController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">timeOfDay </span><span class="pun">=</span><span class="pln"> </span><span class="str">'morning'</span><span class="pun">;</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Nikki'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span><span class="pln">
myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ChildController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Mattie'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span><span class="pln">
myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'GrandChildController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">timeOfDay </span><span class="pun">=</span><span class="pln"> </span><span class="str">'evening'</span><span class="pun">;</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Gingerbread Baby'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(43).html" name="example-example8"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Notice how we nested three <code><span class="atn">ng-controller</span></code> directives in our template. This will result in four
scopes being created for our view:</p>
<ul class="ng-scope">
<li>The root scope</li>
<li>The <code><span class="typ">MainController</span></code> scope, which contains <code><span class="pln">timeOfDay</span></code> and <code><span class="pln">name</span></code> properties</li>
<li>The <code><span class="typ">ChildController</span></code> scope, which inherits the <code><span class="pln">timeOfDay</span></code> property but overrides (hides) the <code><span class="pln">name</span></code>
property from the previous</li>
<li>The <code><span class="typ">GrandChildController</span></code> scope, which overrides (hides) both the <code><span class="pln">timeOfDay</span></code> property defined in <code><span class="typ">MainController</span></code>
and the <code><span class="pln">name</span></code> property defined in <code><span class="typ">ChildController</span></code></li>
</ul>
<p class="ng-scope">Inheritance works with methods in the same way as it does with properties. So in our previous
examples, all of the properties could be replaced with methods that return string values.</p>
<h2 id="testing-controllers" class="ng-scope">Testing Controllers</h2>
<p class="ng-scope">Although there are many ways to test a Controller, one of the best conventions, shown below,
involves injecting the <a href="https://docs.angularjs.org/api/ng/service/$rootScope">$rootScope</a> and <a href="https://docs.angularjs.org/api/ng/service/$controller">$controller</a>:</p>
<p class="ng-scope"><strong>Controller Definition:</strong></p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,[]);</span><span class="pln">

myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">spices </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[{</span><span class="str">"name"</span><span class="pun">:</span><span class="str">"pasilla"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"spiciness"</span><span class="pun">:</span><span class="str">"mild"</span><span class="pun">},</span><span class="pln">
                   </span><span class="pun">{</span><span class="str">"name"</span><span class="pun">:</span><span class="str">"jalapeno"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"spiciness"</span><span class="pun">:</span><span class="str">"hot hot hot!"</span><span class="pun">},</span><span class="pln">
                   </span><span class="pun">{</span><span class="str">"name"</span><span class="pun">:</span><span class="str">"habanero"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"spiciness"</span><span class="pun">:</span><span class="str">"LAVA HOT!!"</span><span class="pun">}];</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">spice </span><span class="pun">=</span><span class="pln"> </span><span class="str">"habanero"</span><span class="pun">;</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope"><strong>Controller Test:</strong></p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'myController function'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  describe</span><span class="pun">(</span><span class="str">'myController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> $scope</span><span class="pun">;</span><span class="pln">

    beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">));</span><span class="pln">

    beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$rootScope</span><span class="pun">,</span><span class="pln"> $controller</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope </span><span class="pun">=</span><span class="pln"> $rootScope</span><span class="pun">.</span><span class="pln">$new</span><span class="pun">();</span><span class="pln">
      $controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">$scope</span><span class="pun">:</span><span class="pln"> $scope</span><span class="pun">});</span><span class="pln">
    </span><span class="pun">}));</span><span class="pln">

    it</span><span class="pun">(</span><span class="str">'should create "spices" model with 3 spices'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">spices</span><span class="pun">.</span><span class="pln">length</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="lit">3</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    it</span><span class="pun">(</span><span class="str">'should set the default value of spice'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">spice</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'habanero'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">If you need to test a nested Controller you need to create the same scope hierarchy
in your test that exists in the DOM:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'state'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> mainScope</span><span class="pun">,</span><span class="pln"> childScope</span><span class="pun">,</span><span class="pln"> grandChildScope</span><span class="pun">;</span><span class="pln">

    beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">));</span><span class="pln">

    beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$rootScope</span><span class="pun">,</span><span class="pln"> $controller</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        mainScope </span><span class="pun">=</span><span class="pln"> $rootScope</span><span class="pun">.</span><span class="pln">$new</span><span class="pun">();</span><span class="pln">
        $controller</span><span class="pun">(</span><span class="str">'MainController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">$scope</span><span class="pun">:</span><span class="pln"> mainScope</span><span class="pun">});</span><span class="pln">
        childScope </span><span class="pun">=</span><span class="pln"> mainScope</span><span class="pun">.</span><span class="pln">$new</span><span class="pun">();</span><span class="pln">
        $controller</span><span class="pun">(</span><span class="str">'ChildController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">$scope</span><span class="pun">:</span><span class="pln"> childScope</span><span class="pun">});</span><span class="pln">
        grandChildScope </span><span class="pun">=</span><span class="pln"> childScope</span><span class="pun">.</span><span class="pln">$new</span><span class="pun">();</span><span class="pln">
        $controller</span><span class="pun">(</span><span class="str">'GrandChildController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">$scope</span><span class="pun">:</span><span class="pln"> grandChildScope</span><span class="pun">});</span><span class="pln">
    </span><span class="pun">}));</span><span class="pln">

    it</span><span class="pun">(</span><span class="str">'should have over and selected'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        expect</span><span class="pun">(</span><span class="pln">mainScope</span><span class="pun">.</span><span class="pln">timeOfDay</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'morning'</span><span class="pun">);</span><span class="pln">
        expect</span><span class="pun">(</span><span class="pln">mainScope</span><span class="pun">.</span><span class="pln">name</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'Nikki'</span><span class="pun">);</span><span class="pln">
        expect</span><span class="pun">(</span><span class="pln">childScope</span><span class="pun">.</span><span class="pln">timeOfDay</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'morning'</span><span class="pun">);</span><span class="pln">
        expect</span><span class="pun">(</span><span class="pln">childScope</span><span class="pun">.</span><span class="pln">name</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'Mattie'</span><span class="pun">);</span><span class="pln">
        expect</span><span class="pun">(</span><span class="pln">grandChildScope</span><span class="pun">.</span><span class="pln">timeOfDay</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'evening'</span><span class="pun">);</span><span class="pln">
        expect</span><span class="pun">(</span><span class="pln">grandChildScope</span><span class="pun">.</span><span class="pln">name</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'Gingerbread Baby'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="services" class="document-section"><span class="guide-doc">Services</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/services.ngdoc?message=docs(guide%2FServices)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="services" class="ng-scope">Services</h1>
<p class="ng-scope">Angular services are substitutable objects that are wired together using <a href="#di">dependency
injection (DI)</a>. You can use services to organize and share code across your app.</p>
<p class="ng-scope">Angular services are:</p>
<ul class="ng-scope">
<li>Lazily instantiated  Angular only instantiates a service when an application component depends
on it.</li>
<li>Singletons  Each component dependent on a service gets a reference to the single instance
generated by the service factory.</li>
</ul>
<p class="ng-scope">Angular offers several useful services (like <a href="https://docs.angularjs.org/api/ng/service/$http"><code><span class="pln">$http</span></code></a>), but for most applications
you'll also want to <a href="#services#creating-services">create your own</a>.</p>
<div class="alert alert-info ng-scope">
<strong>Note:</strong> Like other core Angular identifiers, built-in services always start with <code><span class="pln">$</span></code>
(e.g. <code><span class="pln">$http</span></code>).
</div>


<h2 id="using-a-service" class="ng-scope">Using a Service</h2>
<p class="ng-scope">To use an Angular service, you add it as a dependency for the component (controller, service,
filter or directive) that depends on the service. Angular's <a href="#di">dependency injection</a>
subsystem takes care of the rest.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example44&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example44" module="myServiceModule"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"simple"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MyController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;p&gt;</span><span class="pln">Let's try this simple notify service, injected into the controller...</span><span class="tag">&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-init</span><span class="pun">=</span><span class="atv">"message='test'"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"message"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"callNotify(message);"</span><span class="tag">&gt;</span><span class="pln">NOTIFY</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;p&gt;</span><span class="pln">(you have to click 3 times to see an alert)</span><span class="tag">&lt;/p&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="pln">
</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myServiceModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
 controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="str">'notify'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> notify</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   $scope</span><span class="pun">.</span><span class="pln">callNotify </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     notify</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">);</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">
 </span><span class="pun">}]).</span><span class="pln">
factory</span><span class="pun">(</span><span class="str">'notify'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$window'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">win</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">var</span><span class="pln"> msgs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
   </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     msgs</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">);</span><span class="pln">
     </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">msgs</span><span class="pun">.</span><span class="pln">length </span><span class="pun">==</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       win</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">(</span><span class="pln">msgs</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="str">"\n"</span><span class="pun">));</span><span class="pln">
       msgs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
     </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">
 </span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should test service'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">id</span><span class="pun">(</span><span class="str">'simple'</span><span class="pun">)).</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">model</span><span class="pun">(</span><span class="str">'message'</span><span class="pun">)).</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">))</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'test'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(39).html" name="example-example44"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="creating-services" class="ng-scope">Creating Services</h2>
<p class="ng-scope">Application developers are free to define their own services by registering the service's name and
<strong>service factory function</strong>, with an Angular module.</p>
<p class="ng-scope">The <strong>service factory function</strong> generates the single object or function that represents the
service to the rest of the application. The object or function returned by the service is
injected into any component (controller, service, filter or directive) that specifies a dependency
on the service.</p>
<h3 id="registering-services" class="ng-scope">Registering Services</h3>
<p class="ng-scope">Services are registered to modules via the <a href="https://docs.angularjs.org/api/ng/type/angular.Module">Module API</a>.
Typically you use the <a href="https://docs.angularjs.org/api/ng/function/angular.module">Module#factory</a> API to register a service:</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> myModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">
myModule</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'serviceId'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> shinyNewServiceInstance</span><span class="pun">;</span><span class="pln">
  </span><span class="com">// factory function body that constructs shinyNewServiceInstance</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> shinyNewServiceInstance</span><span class="pun">;</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Note that you are not registering a <strong>service instance</strong>, but rather a <strong>factory function</strong> that
will create this instance when called.</p>
<h3 id="dependencies" class="ng-scope">Dependencies</h3>
<p class="ng-scope">Services can have their own dependencies. Just like declaring dependencies in a controller, you
declare dependencies by specifying them in the service's factory function signature.</p>
<p class="ng-scope">For more on dependencies, see the <a href="#di">dependency injection</a> docs.</p>
<p class="ng-scope">The example module below has two services, each with various dependencies:</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> batchModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'batchModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * The `batchLog` service allows for messages to be queued in memory and flushed
 * to the console.log every 50 seconds.
 *
 * @param {*} message Message to be logged.
 */</span><span class="pln">
batchModule</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'batchLog'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$interval'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$log'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$interval</span><span class="pun">,</span><span class="pln"> $log</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> messageQueue </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> log</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">messageQueue</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $log</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'batchLog messages: '</span><span class="pun">,</span><span class="pln"> messageQueue</span><span class="pun">);</span><span class="pln">
      messageQueue </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">// start periodic checking</span><span class="pln">
  $interval</span><span class="pun">(</span><span class="pln">log</span><span class="pun">,</span><span class="pln"> </span><span class="lit">50000</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">message</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    messageQueue</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}]);</span><span class="pln">

</span><span class="com">/**
 * `routeTemplateMonitor` monitors each `$route` change and logs the current
 * template via the `batchLog` service.
 */</span><span class="pln">
batchModule</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'routeTemplateMonitor'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$route'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'batchLog'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$rootScope'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$route</span><span class="pun">,</span><span class="pln"> batchLog</span><span class="pun">,</span><span class="pln"> $rootScope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $rootScope</span><span class="pun">.</span><span class="pln">$on</span><span class="pun">(</span><span class="str">'$routeChangeSuccess'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      batchLog</span><span class="pun">(</span><span class="pln">$route</span><span class="pun">.</span><span class="pln">current </span><span class="pun">?</span><span class="pln"> $route</span><span class="pun">.</span><span class="pln">current</span><span class="pun">.</span><span class="pln">template </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">In the example, note that:</p>
<ul class="ng-scope">
<li>The <code><span class="pln">batchLog</span></code> service depends on the built-in <a href="https://docs.angularjs.org/api/ng/service/$interval"><code><span class="pln">$interval</span></code></a> and
<a href="https://docs.angularjs.org/api/ng/service/$log"><code><span class="pln">$log</span></code></a> services.</li>
<li>The <code><span class="pln">routeTemplateMonitor</span></code> service depends on the built-in <a href="https://docs.angularjs.org/api/ngRoute/service/$route"><code><span class="pln">$route</span></code></a>
service and our custom <code><span class="pln">batchLog</span></code> service.</li>
<li>Both services use the array notation to declare their dependencies.</li>
<li>The order of identifiers in the array is the same as the order of argument
names in the factory function.</li>
</ul>
<h3 id="registering-a-service-with-provide-" class="ng-scope">Registering a Service with <code><span class="pln">$provide</span></code></h3>
<p class="ng-scope">You can also register services via the <a href="https://docs.angularjs.org/api/auto/service/$provide"><code><span class="pln">$provide</span></code></a> service inside of a
module's <code><span class="pln">config</span></code> function:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">config</span><span class="pun">([</span><span class="str">'$provide'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $provide</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'serviceId'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> shinyNewServiceInstance</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// factory function body that constructs shinyNewServiceInstance</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> shinyNewServiceInstance</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">This technique is often used in unit tests to mock out a service's dependencies.</p>
<h2 id="unit-testing" class="ng-scope">Unit Testing</h2>
<p class="ng-scope">The following is a unit test for the <code><span class="pln">notify</span></code> service from the <a href="#services#creating-services">Creating Angular Services</a> example above. The unit test example uses a Jasmine spy (mock) instead
of a real browser alert.</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> mock</span><span class="pun">,</span><span class="pln"> notify</span><span class="pun">;</span><span class="pln">

beforeEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  mock </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">alert</span><span class="pun">:</span><span class="pln"> jasmine</span><span class="pun">.</span><span class="pln">createSpy</span><span class="pun">()};</span><span class="pln">

  module</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $provide</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'$window'</span><span class="pun">,</span><span class="pln"> mock</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$injector</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    notify </span><span class="pun">=</span><span class="pln"> $injector</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'notify'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

it</span><span class="pun">(</span><span class="str">'should not alert first two notifications'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'one'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'two'</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">mock</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">).</span><span class="pln">not</span><span class="pun">.</span><span class="pln">toHaveBeenCalled</span><span class="pun">();</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

it</span><span class="pun">(</span><span class="str">'should alert all after third notification'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'one'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'two'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'three'</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">mock</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">).</span><span class="pln">toHaveBeenCalledWith</span><span class="pun">(</span><span class="str">"one\ntwo\nthree"</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

it</span><span class="pun">(</span><span class="str">'should clear messages after alert'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'one'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'two'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'third'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'more'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'two'</span><span class="pun">);</span><span class="pln">
  notify</span><span class="pun">(</span><span class="str">'third'</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">mock</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">.</span><span class="pln">callCount</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">mock</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">.</span><span class="pln">mostRecentCall</span><span class="pun">.</span><span class="pln">args</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">([</span><span class="str">"more\ntwo\nthird"</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<h2 id="related-topics" class="ng-scope">Related Topics</h2>
<ul class="ng-scope">
<li><a href="#di">Dependency Injection in AngularJS</a></li>
</ul>
<h2 id="related-api" class="ng-scope">Related API</h2>
<ul class="ng-scope">
<li><a href="https://docs.angularjs.org/api/ng/service">Angular Service API</a></li>
<li><a href="https://docs.angularjs.org/api/ng/function/angular.injector">Injector API</a></li>
</ul>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="scope" class="document-section"><span class="guide-doc">Scopes</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/scope.ngdoc?message=docs(guide%2FScopes)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="what-are-scopes-" class="ng-scope">What are Scopes?</h1>
<p class="ng-scope"><a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope">scope</a> is an object that refers to the application
model. It is an execution context for <a href="#expression">expressions</a>. Scopes are
arranged in hierarchical structure which mimic the DOM structure of the application. Scopes can
watch <a href="#expression">expressions</a> and propagate events.</p>
<h2 id="scope-characteristics" class="ng-scope">Scope characteristics</h2>
<ul class="ng-scope">
<li><p>Scopes provide APIs (<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch</a>) to observe
model mutations.</p>
</li>
<li><p>Scopes provide APIs (<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply">$apply</a>) to
propagate any model changes through the system into the view from outside of the "Angular
realm" (controllers, services, Angular event handlers).</p>
</li>
<li><p>Scopes can be nested to limit access to the properties of application components while providing
access to shared model properties. Nested scopes are either "child scopes" or "isolate scopes".
A "child scope" (prototypically) inherits properties from its parent scope. An "isolate scope"
does not. See <a href="#directive#isolating-the-scope-of-a-directive">isolated
scopes</a> for more information.</p>
</li>
<li><p>Scopes provide context against which <a href="#expression">expressions</a> are evaluated. For
example <code><span class="pun">{{</span><span class="pln">username</span><span class="pun">}}</span></code> expression is meaningless, unless it is evaluated against a specific
scope which defines the <code><span class="pln">username</span></code> property.</p>
</li>
</ul>
<h2 id="scope-as-data-model" class="ng-scope">Scope as Data-Model</h2>
<p class="ng-scope">Scope is the glue between application controller and the view. During the template <a href="#compiler">linking</a> phase the <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#directive">directives</a> set up
<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch"><code><span class="pln">$watch</span></code></a> expressions on the scope. The
<code><span class="pln">$watch</span></code> allows the directives to be notified of property changes, which allows the directive to
render the updated value to the DOM.</p>
<p class="ng-scope">Both controllers and directives have reference to the scope, but not to each other. This
arrangement isolates the controller from the directive as well as from the DOM. This is an important
point since it makes the controllers view agnostic, which greatly improves the testing story of
the applications.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example41&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example41" module="scopeExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'scopeExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">username </span><span class="pun">=</span><span class="pln"> </span><span class="str">'World'</span><span class="pun">;</span><span class="pln">

  $scope</span><span class="pun">.</span><span class="pln">sayHello </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">greeting </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hello '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> $scope</span><span class="pun">.</span><span class="pln">username </span><span class="pun">+</span><span class="pln"> </span><span class="str">'!'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MyController"</span><span class="tag">&gt;</span><span class="pln">
  Your name:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"username"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">'sayHello()'</span><span class="tag">&gt;</span><span class="pln">greet</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;hr&gt;</span><span class="pln">
  {{greeting}}
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(36).html" name="example-example41"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">In the above example notice that the <code><span class="typ">MyController</span></code> assigns <code><span class="typ">World</span></code> to the <code><span class="pln">username</span></code> property of
the scope. The scope then notifies the <code><span class="pln">input</span></code> of the assignment, which then renders the input
with username pre-filled. This demonstrates how a controller can write data into the scope.</p>
<p class="ng-scope">Similarly the controller can assign behavior to scope as seen by the <code><span class="pln">sayHello</span></code> method, which is
invoked when the user clicks on the 'greet' button. The <code><span class="pln">sayHello</span></code> method can read the <code><span class="pln">username</span></code>
property and create a <code><span class="pln">greeting</span></code> property. This demonstrates that the properties on scope update
automatically when they are bound to HTML input widgets.</p>
<p class="ng-scope">Logically the rendering of <code><span class="pun">{{</span><span class="pln">greeting</span><span class="pun">}}</span></code> involves:</p>
<ul class="ng-scope">
<li><p>retrieval of the scope associated with DOM node where <code><span class="pun">{{</span><span class="pln">greeting</span><span class="pun">}}</span></code> is defined in template.
In this example this is the same scope as the scope which was passed into <code><span class="typ">MyController</span></code>. (We
will discuss scope hierarchies later.)</p>
</li>
<li><p>Evaluate the <code><span class="pln">greeting</span></code> <a href="#expression">expression</a> against the scope retrieved above,
and assign the result to the text of the enclosing DOM element.</p>
</li>
</ul>
<p class="ng-scope">You can think of the scope and its properties as the data which is used to render the view. The
scope is the single source-of-truth for all things view related.</p>
<p class="ng-scope">From a testability point of view, the separation of the controller and the view is desirable, because it allows us
to test the behavior without being distracted by the rendering details.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">it</span><span class="pun">(</span><span class="str">'should say hello'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> scopeMock </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> cntl </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MyController</span><span class="pun">(</span><span class="pln">scopeMock</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// Assert that username is pre-filled</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">scopeMock</span><span class="pun">.</span><span class="pln">username</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'World'</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// Assert that we read new username and greet</span><span class="pln">
  scopeMock</span><span class="pun">.</span><span class="pln">username </span><span class="pun">=</span><span class="pln"> </span><span class="str">'angular'</span><span class="pun">;</span><span class="pln">
  scopeMock</span><span class="pun">.</span><span class="pln">sayHello</span><span class="pun">();</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">scopeMock</span><span class="pun">.</span><span class="pln">greeting</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Hello angular!'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<h2 id="scope-hierarchies" class="ng-scope">Scope Hierarchies</h2>
<p class="ng-scope">Each Angular application has exactly one <a href="https://docs.angularjs.org/api/ng/service/$rootScope">root scope</a>, but
may have several child scopes.</p>
<p class="ng-scope">The application can have multiple scopes, because some <a href="#directive">directives</a> create
new child scopes (refer to directive documentation to see which directives create new scopes).
When new scopes are created, they are added as children of their parent scope. This creates a tree
structure which parallels the DOM where they're attached.</p>
<p class="ng-scope">When Angular evaluates <code><span class="pun">{{</span><span class="pln">name</span><span class="pun">}}</span></code>, it first looks at the scope associated with the given
element for the <code><span class="pln">name</span></code> property. If no such property is found, it searches the parent scope
and so on until the root scope is reached. In JavaScript this behavior is known as prototypical
inheritance, and child scopes prototypically inherit from their parents.</p>
<p class="ng-scope">This example illustrates scopes in application, and prototypical inheritance of properties. The example is followed by
a diagram depicting the scope boundaries.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example42&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example42" module="scopeExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    style.css  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"show-scope-demo"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"GreetController"</span><span class="tag">&gt;</span><span class="pln">
    Hello {{name}}!
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ListController"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;ol&gt;</span><span class="pln">
      </span><span class="tag">&lt;li</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"name in names"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">name}} from {{department</span><span class="ang">}}</span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;/ol&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'scopeExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'GreetController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$rootScope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $rootScope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'World'</span><span class="pun">;</span><span class="pln">
  $rootScope</span><span class="pun">.</span><span class="pln">department </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Angular'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ListController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">names </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'Igor'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Misko'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Vojta'</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="style.css" language="css" type="css" style=""><span style="font-size: 22px; font-family: Share-Bold;">style.css</span>
      <pre><code><span class="pun">.</span><span class="pln">show</span><span class="pun">-</span><span class="pln">scope</span><span class="pun">-</span><span class="pln">demo</span><span class="pun">.</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">scope</span><span class="pun">,</span><span class="pln">
</span><span class="pun">.</span><span class="pln">show</span><span class="pun">-</span><span class="pln">scope</span><span class="pun">-</span><span class="pln">demo </span><span class="pun">.</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">scope  </span><span class="pun">{</span><span class="pln">
  border</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1px</span><span class="pln"> solid red</span><span class="pun">;</span><span class="pln">
  margin</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3px</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(37).html" name="example-example42"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope"><img class="center" src="./ng-guide-all3_files/concepts-scope.png"></p>
<p class="ng-scope">Notice that Angular automatically places <code><span class="atn">ng-scope</span></code> class on elements where scopes are
attached. The <code><span class="tag">&lt;style&gt;</span></code> definition in this example highlights in red the new scope locations. The
child scopes are necessary because the repeater evaluates <code><span class="pun">{{</span><span class="pln">name</span><span class="pun">}}</span></code> expression, but
depending on which scope the expression is evaluated it produces different result. Similarly the
evaluation of <code><span class="pun">{{</span><span class="pln">department</span><span class="pun">}}</span></code> prototypically inherits from root scope, as it is the only place
where the <code><span class="pln">department</span></code> property is defined.</p>
<h2 id="retrieving-scopes-from-the-dom-" class="ng-scope">Retrieving Scopes from the DOM.</h2>
<p class="ng-scope">Scopes are attached to the DOM as <code><span class="pln">$scope</span></code> data property, and can be retrieved for debugging
purposes. (It is unlikely that one would need to retrieve scopes in this way inside the
application.) The location where the root scope is attached to the DOM is defined by the location
of <a href="https://docs.angularjs.org/api/ng/directive/ngApp"><code><span class="atn">ng-app</span></code></a> directive. Typically
<code><span class="atn">ng-app</span></code> is placed on the <code><span class="tag">&lt;html&gt;</span></code> element, but it can be placed on other elements as well, if,
for example, only a portion of the view needs to be controlled by Angular.</p>
<p class="ng-scope">To examine the scope in the debugger:</p>
<ol class="ng-scope">
<li><p>Right click on the element of interest in your browser and select 'inspect element'. You
should see the browser debugger with the element you clicked on highlighted.</p>
</li>
<li><p>The debugger allows you to access the currently selected element in the console as <code><span class="pln">$0</span></code>
variable.</p>
</li>
<li><p>To retrieve the associated scope in console execute: <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">element</span><span class="pun">(</span><span class="pln">$0</span><span class="pun">).</span><span class="pln">scope</span><span class="pun">()</span></code> or just type $scope</p>
</li>
</ol>
<h2 id="scope-events-propagation" class="ng-scope">Scope Events Propagation</h2>
<p class="ng-scope">Scopes can propagate events in similar fashion to DOM events. The event can be <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$broadcast">broadcasted</a> to the scope children or <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$emit">emitted</a> to scope parents.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example43&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example43" module="eventExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'eventExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'EventController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">$on</span><span class="pun">(</span><span class="str">'MyEvent'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">count</span><span class="pun">++;</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"EventController"</span><span class="tag">&gt;</span><span class="pln">
  Root scope </span><span class="tag">&lt;tt&gt;</span><span class="pln">MyEvent</span><span class="tag">&lt;/tt&gt;</span><span class="pln"> count: {{count}}
  </span><span class="tag">&lt;ul&gt;</span><span class="pln">
    </span><span class="tag">&lt;li</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"i in [1]"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"EventController"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"$emit('MyEvent')"</span><span class="tag">&gt;</span><span class="pln">$emit('MyEvent')</span><span class="tag">&lt;/button&gt;</span><span class="pln">
      </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"$broadcast('MyEvent')"</span><span class="tag">&gt;</span><span class="pln">$broadcast('MyEvent')</span><span class="tag">&lt;/button&gt;</span><span class="pln">
      </span><span class="tag">&lt;br&gt;</span><span class="pln">
      Middle scope </span><span class="tag">&lt;tt&gt;</span><span class="pln">MyEvent</span><span class="tag">&lt;/tt&gt;</span><span class="pln"> count: {{count}}
      </span><span class="tag">&lt;ul&gt;</span><span class="pln">
        </span><span class="tag">&lt;li</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"item in [1, 2]"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"EventController"</span><span class="tag">&gt;</span><span class="pln">
          Leaf scope </span><span class="tag">&lt;tt&gt;</span><span class="pln">MyEvent</span><span class="tag">&lt;/tt&gt;</span><span class="pln"> count: {{count}}
        </span><span class="tag">&lt;/li&gt;</span><span class="pln">
      </span><span class="tag">&lt;/ul&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ul&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(38).html" name="example-example43"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="scope-life-cycle" class="ng-scope">Scope Life Cycle</h2>
<p class="ng-scope">The normal flow of a browser receiving an event is that it executes a corresponding JavaScript
callback. Once the callback completes the browser re-renders the DOM and returns to waiting for
more events.</p>
<p class="ng-scope">When the browser calls into JavaScript the code executes outside the Angular execution context,
which means that Angular is unaware of model modifications. To properly process model
modifications the execution has to enter the Angular execution context using the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply"><code><span class="pln">$apply</span></code></a> method. Only model modifications which
execute inside the <code><span class="pln">$apply</span></code> method will be properly accounted for by Angular. For example if a
directive listens on DOM events, such as <a href="https://docs.angularjs.org/api/ng/directive/ngClick"><code><span class="atn">ng-click</span></code></a> it must evaluate the
expression inside the <code><span class="pln">$apply</span></code> method.</p>
<p class="ng-scope">After evaluating the expression, the <code><span class="pln">$apply</span></code> method performs a <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$digest"><code><span class="pln">$digest</span></code></a>. In the $digest phase the scope examines all
of the <code><span class="pln">$watch</span></code> expressions and compares them with the previous value. This dirty checking is done
asynchronously. This means that assignment such as <code><span class="pln">$scope</span><span class="pun">.</span><span class="pln">username</span><span class="pun">=</span><span class="str">"angular"</span></code> will not
immediately cause a <code><span class="pln">$watch</span></code> to be notified, instead the <code><span class="pln">$watch</span></code> notification is delayed until
the <code><span class="pln">$digest</span></code> phase. This delay is desirable, since it coalesces multiple model updates into one
<code><span class="pln">$watch</span></code> notification as well as it guarantees that during the <code><span class="pln">$watch</span></code> notification no other
<code><span class="pln">$watch</span></code>es are running. If a <code><span class="pln">$watch</span></code> changes the value of the model, it will force additional
<code><span class="pln">$digest</span></code> cycle.</p>
<ol class="ng-scope">
<li><p><strong>Creation</strong></p>
<p>The <a href="https://docs.angularjs.org/api/ng/service/$rootScope">root scope</a> is created during the application
bootstrap by the <a href="https://docs.angularjs.org/api/auto/service/$injector">$injector</a>. During template
linking, some directives create new child scopes.</p>
</li>
<li><p><strong>Watcher registration</strong></p>
<p>During template linking directives register <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">watches</a> on the scope. These watches will be
used to propagate model values to the DOM.</p>
</li>
<li><p><strong>Model mutation</strong></p>
<p>For mutations to be properly observed, you should make them only within the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply">scope.$apply()</a>. (Angular APIs do this
implicitly, so no extra <code><span class="pln">$apply</span></code> call is needed when doing synchronous work in controllers,
or asynchronous work with <a href="https://docs.angularjs.org/api/ng/service/$http">$http</a>, <a href="https://docs.angularjs.org/api/ng/service/$timeout">$timeout</a>
or <a href="https://docs.angularjs.org/api/ng/service/$interval">$interval</a> services.</p>
</li>
<li><p><strong>Mutation observation</strong></p>
<p>At the end of <code><span class="pln">$apply</span></code>, Angular performs a <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$digest">$digest</a> cycle on the root scope, which then propagates throughout all child scopes. During
the <code><span class="pln">$digest</span></code> cycle, all <code><span class="pln">$watch</span></code>ed expressions or functions are checked for model mutation
and if a mutation is detected, the <code><span class="pln">$watch</span></code> listener is called.</p>
</li>
<li><p><strong>Scope destruction</strong></p>
<p>When child scopes are no longer needed, it is the responsibility of the child scope creator
to destroy them via <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$destroy">scope.$destroy()</a>
API. This will stop propagation of <code><span class="pln">$digest</span></code> calls into the child scope and allow for memory
used by the child scope models to be reclaimed by the garbage collector.</p>
</li>
</ol>
<h3 id="scopes-and-directives" class="ng-scope">Scopes and Directives</h3>
<p class="ng-scope">During the compilation phase, the <a href="#compiler">compiler</a> matches <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#directive">directives</a> against the DOM template. The directives
usually fall into one of two categories:</p>
<ul class="ng-scope">
<li><p>Observing <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#directive">directives</a>, such as
double-curly expressions <code><span class="pun">{{</span><span class="pln">expression</span><span class="pun">}}</span></code>, register listeners using the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch()</a> method. This type of directive needs
to be notified whenever the expression changes so that it can update the view.</p>
</li>
<li><p>Listener directives, such as <a href="https://docs.angularjs.org/api/ng/directive/ngClick">ng-click</a>, register a listener with the DOM. When the DOM listener fires, the directive
executes the associated expression and updates the view using the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply">$apply()</a> method.</p>
</li>
</ul>
<p class="ng-scope">When an external event (such as a user action, timer or XHR) is received, the associated <a href="#expression">expression</a> must be applied to the scope through the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply">$apply()</a> method so that all listeners are updated
correctly.</p>
<h3 id="directives-that-create-scopes" class="ng-scope">Directives that Create Scopes</h3>
<p class="ng-scope">In most cases, <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#directive">directives</a> and scopes interact
but do not create new instances of scope. However, some directives, such as <a href="https://docs.angularjs.org/api/ng/directive/ngController">ng-controller</a> and <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat">ng-repeat</a>, create new child scopes
and attach the child scope to the corresponding DOM element. You can retrieve a scope for any DOM
element by using an <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">element</span><span class="pun">(</span><span class="pln">aDomElement</span><span class="pun">).</span><span class="pln">scope</span><span class="pun">()</span></code> method call.
See the <a href="#directive#isolating-the-scope-of-a-directive">directives guide</a> for more information about isolate scopes.</p>
<h3 id="controllers-and-scopes" class="ng-scope">Controllers and Scopes</h3>
<p class="ng-scope">Scopes and controllers interact with each other in the following situations:</p>
<ul class="ng-scope">
<li><p>Controllers use scopes to expose controller methods to templates (see <a href="https://docs.angularjs.org/api/ng/directive/ngController">ng-controller</a>).</p>
</li>
<li><p>Controllers define methods (behavior) that can mutate the model (properties on the scope).</p>
</li>
<li><p>Controllers may register <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">watches</a> on
the model. These watches execute immediately after the controller behavior executes.</p>
</li>
</ul>
<p class="ng-scope">See the <a href="https://docs.angularjs.org/api/ng/directive/ngController">ng-controller</a> for more
information.</p>
<h3 id="scope-watch-performance-considerations" class="ng-scope">Scope <code><span class="pln">$watch</span></code> Performance Considerations</h3>
<p class="ng-scope">Dirty checking the scope for property changes is a common operation in Angular and for this reason
the dirty checking function must be efficient. Care should be taken that the dirty checking
function does not do any DOM access, as DOM access is orders of magnitude slower than property
access on JavaScript object.</p>
<h3 id="scope-watch-depths" class="ng-scope">Scope <code><span class="pln">$watch</span></code> Depths</h3>
<p class="ng-scope"><img class="pull-right" style="padding-left: 3em; padding-bottom: 1em;" src="./ng-guide-all3_files/concepts-scope-watch-strategies.png"></p>
<p class="ng-scope">Dirty checking can be done with three strategies: By reference, by collection contents, and by value. The strategies differ in the kinds of changes they detect, and in their performance characteristics.</p>
<ul class="ng-scope">
<li>Watching <em>by reference</em> (<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">scope.$watch</a> <code><span class="pun">(</span><span class="pln">watchExpression</span><span class="pun">,</span><span class="pln"> listener</span><span class="pun">)</span></code>) detects a change when the whole value returned by the watch expression switches to a new value. If the value is an array or an object, changes inside it are not detected. This is the most efficient strategy.</li>
<li>Watching <em>collection contents</em> (<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watchCollection">scope.$watchCollection</a> <code><span class="pun">(</span><span class="pln">watchExpression</span><span class="pun">,</span><span class="pln"> listener</span><span class="pun">)</span></code>) detects changes that occur inside an array or an object: When items are added, removed, or reordered. The detection is shallow - it does not reach into nested collections. Watching collection contents is more expensive than watching by reference, because copies of the collection contents need to be maintained. However, the strategy attempts to minimize the amount of copying required.</li>
<li>Watching <em>by value</em> (<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">scope.$watch</a> <code><span class="pun">(</span><span class="pln">watchExpression</span><span class="pun">,</span><span class="pln"> listener</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span></code>) detects any change in an arbitrarily nested data structure. It is the most powerful change detection strategy, but also the most expensive. A full traversal of the nested data structure is needed on each digest, and a full copy of it needs to be held in memory.</li>
</ul>
<h2 id="integration-with-the-browser-event-loop" class="ng-scope">Integration with the browser event loop</h2>
<p class="ng-scope"><img class="pull-right" style="padding-left: 3em; padding-bottom: 1em;" src="./ng-guide-all3_files/concepts-runtime.png"></p>
<p class="ng-scope">The diagram and the example below describe how Angular interacts with the browser's event loop.</p>
<ol class="ng-scope">
<li>The browser's event-loop waits for an event to arrive. An event is a user interaction, timer event,
or network event (response from a server).</li>
<li>The event's callback gets executed. This enters the JavaScript context. The callback can
 modify the DOM structure.</li>
<li>Once the callback executes, the browser leaves the JavaScript context and
re-renders the view based on DOM changes.</li>
</ol>
<p class="ng-scope">Angular modifies the normal JavaScript flow by providing its own event processing loop. This
splits the JavaScript into classical and Angular execution context. Only operations which are
applied in the Angular execution context will benefit from Angular data-binding, exception handling,
property watching, etc... You can also use $apply() to enter the Angular execution context from JavaScript. Keep in
mind that in most places (controllers, services) $apply has already been called for you by the
directive which is handling the event. An explicit call to $apply is needed only when
implementing custom event callbacks, or when working with third-party library callbacks.</p>
<ol class="ng-scope">
<li>Enter the Angular execution context by calling <a href="#scope">scope</a><code><span class="pun">.</span></code><a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply">$apply</a><code><span class="pun">(</span><span class="pln">stimulusFn</span><span class="pun">)</span></code>, where <code><span class="pln">stimulusFn</span></code> is
the work you wish to do in the Angular execution context.</li>
<li>Angular executes the <code><span class="pln">stimulusFn</span><span class="pun">()</span></code>, which typically modifies application state.</li>
<li>Angular enters the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$digest">$digest</a> loop. The
loop is made up of two smaller loops which process <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$evalAsync">$evalAsync</a> queue and the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch</a> list. The <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$digest">$digest</a> loop keeps iterating until the model
stabilizes, which means that the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$evalAsync">$evalAsync</a> queue is empty and the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch</a> list does not detect any changes.</li>
<li>The <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$evalAsync">$evalAsync</a> queue is used to
schedule work which needs to occur outside of current stack frame, but before the browser's
view render. This is usually done with <code><span class="pln">setTimeout</span><span class="pun">(</span><span class="lit">0</span><span class="pun">)</span></code>, but the <code><span class="pln">setTimeout</span><span class="pun">(</span><span class="lit">0</span><span class="pun">)</span></code> approach
suffers from slowness and may cause view flickering since the browser renders the view after
each event.</li>
<li>The <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch</a> list is a set of expressions
which may have changed since last iteration. If a change is detected then the <code><span class="pln">$watch</span></code>
function is called which typically updates the DOM with the new value.</li>
<li>Once the Angular <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$digest">$digest</a> loop finishes
the execution leaves the Angular and JavaScript context. This is followed by the browser
re-rendering the DOM to reflect any changes.</li>
</ol>
<p class="ng-scope">Here is the explanation of how the <code><span class="typ">Hello</span><span class="pln"> world</span></code> example achieves the data-binding effect when the
user enters text into the text field.</p>
<ol class="ng-scope">
<li>During the compilation phase:<ol>
<li>the <a href="https://docs.angularjs.org/api/ng/directive/ngModel">ng-model</a> and <a href="https://docs.angularjs.org/api/ng/directive/input">input</a> <a href="#directive">directive</a> set up a <code><span class="pln">keydown</span></code> listener on the <code><span class="tag">&lt;input&gt;</span></code> control.</li>
<li>the <a href="https://docs.angularjs.org/api/ng/service/$interpolate">interpolation</a>
sets up a <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch</a> to be notified of
<code><span class="pln">name</span></code> changes.</li>
</ol>
</li>
<li>During the runtime phase:<ol>
<li>Pressing an '<code><span class="pln">X</span></code>' key causes the browser to emit a <code><span class="pln">keydown</span></code> event on the input control.</li>
<li>The <a href="https://docs.angularjs.org/api/ng/directive/input">input</a> directive
captures the change to the input's value and calls <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply">$apply</a><code><span class="pun">(</span><span class="str">"name = 'X';"</span><span class="pun">)</span></code> to update the
application model inside the Angular execution context.</li>
<li>Angular applies the <code><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'X'</span><span class="pun">;</span></code> to the model.</li>
<li>The <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$digest">$digest</a> loop begins</li>
<li>The <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch</a> list detects a change
on the <code><span class="pln">name</span></code> property and notifies the <a href="https://docs.angularjs.org/api/ng/service/$interpolate">interpolation</a>,
which in turn updates the DOM.</li>
<li>Angular exits the execution context, which in turn exits the <code><span class="pln">keydown</span></code> event and with it
the JavaScript execution context.</li>
<li>The browser re-renders the view with update text.</li>
</ol>
</li>
</ol>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="di" class="document-section"><span class="guide-doc">Dependency Injection</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/di.ngdoc?message=docs(guide%2FDependency%20Injection)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="dependency-injection" class="ng-scope">Dependency Injection</h1>
<p class="ng-scope">Dependency Injection (DI) is a software design pattern that deals with how components get hold of
their dependencies.</p>
<p class="ng-scope">The Angular injector subsystem is in charge of creating components, resolving their dependencies,
and providing them to other components as requested.</p>
<h2 id="using-dependency-injection" class="ng-scope">Using Dependency Injection</h2>
<p class="ng-scope">DI is pervasive throughout Angular. You can use it when defining components or when providing <code><span class="pln">run</span></code>
and <code><span class="pln">config</span></code> blocks for a module.</p>
<ul class="ng-scope">
<li><p>Components such as services, directives, filters, and animations are defined by an injectable
factory method or constructor function. These components can be injected with "service" and "value"
components as dependencies.</p>
</li>
<li><p>Controllers are defined by a constructor function, which can be injected with any of the "service"
and "value" components as dependencies, but they can also be provided with special dependencies. See
<a href="#di#controllers">Controllers</a> below for a list of these special dependencies.</p>
</li>
<li><p>The <code><span class="pln">run</span></code> method accepts a function, which can be injected with "service", "value" and "constant"
components as dependencies. Note that you cannot inject "providers" into <code><span class="pln">run</span></code> blocks.</p>
</li>
<li><p>The <code><span class="pln">config</span></code> method accepts a function, which can be injected with "provider" and "constant"
components as dependencies. Note that you cannot inject "service" or "value" components into
configuration.</p>
</li>
</ul>
<p class="ng-scope">See <a href="#module#module-loading-dependencies">Modules</a> for more details about <code><span class="pln">run</span></code> and <code><span class="pln">config</span></code>
blocks.</p>
<h3 id="factory-methods" class="ng-scope">Factory Methods</h3>
<p class="ng-scope">The way you define a directive, service, or filter is with a factory function.
The factory methods are registered with modules. The recommended way of declaring factories is:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'serviceId'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'depService'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">depService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'directiveName'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'depService'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">depService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="str">'filterName'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'depService'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">depService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<h3 id="module-methods" class="ng-scope">Module Methods</h3>
<p class="ng-scope">We can specify functions to run at configuration and run time for a module by calling the <code><span class="pln">config</span></code>
and <code><span class="pln">run</span></code> methods. These functions are injectable with dependencies just like the factory functions
above.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">config</span><span class="pun">([</span><span class="str">'depProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">depProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">run</span><span class="pun">([</span><span class="str">'depService'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">depService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<h3 id="controllers" class="ng-scope">Controllers</h3>
<p class="ng-scope">Controllers are "classes" or "constructor functions" that are responsible for providing the
application behavior that supports the declarative markup in the template. The recommended way of
declaring Controllers is using the array notation:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">someModule</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'dep1'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'dep2'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> dep1</span><span class="pun">,</span><span class="pln"> dep2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">aMethod </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">Unlike services, there can be many instances of the same type of controller in an application.</p>
<p class="ng-scope">Moreover, additional dependencies are made available to Controllers:</p>
<ul class="ng-scope">
<li><a href="#scope"><code><span class="pln">$scope</span></code></a>: Controllers are associated with an element in the DOM and so are
provided with access to the <a href="#scope">scope</a>. Other components (like services) only have
access to the <a href="https://docs.angularjs.org/api/ng/service/$rootScope"><code><span class="pln">$rootScope</span></code></a> service.</li>
<li><a href="https://docs.angularjs.org/api/ngRoute/provider/$routeProvider#when">resolves</a>: If a controller is instantiated as part of a route,
then any values that are resolved as part of the route are made available for injection into the
controller.</li>
</ul>
<h2 id="dependency-annotation" class="ng-scope">Dependency Annotation</h2>
<p class="ng-scope">Angular invokes certain functions (like service factories and controllers) via the injector.
You need to annotate these functions so that the injector knows what services to inject into
the function. There are three ways of annotating your code with service name information:</p>
<ul class="ng-scope">
<li>Using the inline array annotation (preferred)</li>
<li>Using the <code><span class="pln">$inject</span></code> property annotation</li>
<li>Implicitly from the function parameter names (has caveats)</li>
</ul>
<h3 id="inline-array-annotation" class="ng-scope">Inline Array Annotation</h3>
<p class="ng-scope">This is the preferred way to annotate application components. This is how the examples in the
documentation are written.</p>
<p class="ng-scope">For example:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">someModule</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'greeter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> greeter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">Here we pass an array whose elements consist of a list of strings (the names of the dependencies)
followed by the function itself.</p>
<p class="ng-scope">When using this type of annotation, take care to keep the annotation array in sync with the
parameters in the function declaration.</p>
<h3 id="-inject-property-annotation" class="ng-scope"><code><span class="pln">$inject</span></code> Property Annotation</h3>
<p class="ng-scope">To allow the minifiers to rename the function parameters and still be able to inject the right services,
the function needs to be annotated with the <code><span class="pln">$inject</span></code> property. The <code><span class="pln">$inject</span></code> property is an array
of service names to inject.</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> </span><span class="typ">MyController</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> greeter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="typ">MyController</span><span class="pun">.</span><span class="pln">$inject </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'greeter'</span><span class="pun">];</span><span class="pln">
someModule</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MyController</span><span class="pun">);</span></code></pre>
<p class="ng-scope">In this scenario the ordering of the values in the <code><span class="pln">$inject</span></code> array must match the ordering of the
parameters in <code><span class="typ">MyController</span></code>.</p>
<p class="ng-scope">Just like with the array annotation, you'll need to take care to keep the <code><span class="pln">$inject</span></code> in sync with
the parameters in the function declaration.</p>
<h3 id="implicit-annotation" class="ng-scope">Implicit Annotation</h3>
<div class="alert alert-danger ng-scope">
<strong>Careful:</strong> If you plan to <a href="http://en.wikipedia.org/wiki/Minification_(programming)">minify</a>
your code, your service names will get renamed and break your app.
</div>

<p class="ng-scope">The simplest way to get hold of the dependencies is to assume that the function parameter names
are the names of the dependencies.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">someModule</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> greeter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// ...</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Given a function the injector can infer the names of the services to inject by examining the
function declaration and extracting the parameter names. In the above example <code><span class="pln">$scope</span></code>, and
<code><span class="pln">greeter</span></code> are two services which need to be injected into the function.</p>
<p class="ng-scope">One advantage of this approach is that there's no array of names to keep in sync with the
function parameters. You can also freely reorder dependencies.</p>
<p class="ng-scope">However this method will not work with JavaScript minifiers/obfuscators because of how they
rename parameters.</p>
<p class="ng-scope">Tools like <a href="https://github.com/olov/ng-annotate">ng-annotate</a> let you use implicit dependency
annotations in your app and automatically add inline array annotations prior to minifying.
If you decide to take this approach, you probably want to use <code><span class="atn">ng-strict</span><span class="pun">-</span><span class="pln">di</span></code>.</p>
<p class="ng-scope">Because of these caveats, we recommend avoiding this style of annotation.</p>
<h2 id="using-strict-dependency-injection" class="ng-scope">Using Strict Dependency Injection</h2>
<p class="ng-scope">You can add an <code><span class="atn">ng-strict</span><span class="pun">-</span><span class="pln">di</span></code> directive on the same element as <code><span class="atn">ng-app</span></code> to opt into strict DI mode:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"myApp"</span><span class="pln"> </span><span class="atn">ng-strict-di</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;body&gt;</span><span class="pln">
  I can add: {{ 1 + 2 }}.
  </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p class="ng-scope">Strict mode throws an error whenever a service tries to use implicit annotations.</p>
<p class="ng-scope">Consider this module, which includes a <code><span class="pln">willBreak</span></code> service that uses implicit DI:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'willBreak'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$rootScope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// $rootScope is implicitly injected</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="pln">run</span><span class="pun">([</span><span class="str">'willBreak'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">willBreak</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Angular will throw when this runs</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">When the <code><span class="pln">willBreak</span></code> service is instantiated, Angular will throw an error because of strict mode.
This is useful when using a tool like <a href="https://github.com/olov/ng-annotate">ng-annotate</a> to
ensure that all of your application components have annotations.</p>
<p class="ng-scope">If you're using manual bootstrapping, you can also use strict DI by providing <code><span class="pln">strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span></code> in
the optional config argument:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'myApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<h2 id="why-dependency-injection-" class="ng-scope">Why Dependency Injection?</h2>
<p class="ng-scope">This section motivates and explains Angular's use of DI. For how to use DI, see above.</p>
<p class="ng-scope">For in-depth discussion about DI, see
<a href="http://en.wikipedia.org/wiki/Dependency_injection">Dependency Injection</a> at Wikipedia,
<a href="http://martinfowler.com/articles/injection.html">Inversion of Control</a> by Martin Fowler,
or read about DI in your favorite software design pattern book.</p>
<p class="ng-scope">There are only three ways a component (object or function) can get a hold of its dependencies:</p>
<ol class="ng-scope">
<li>The component can create the dependency, typically using the <code><span class="kwd">new</span></code> operator.</li>
<li>The component can look up the dependency, by referring to a global variable.</li>
<li>The component can have the dependency passed to it where it is needed.</li>
</ol>
<p class="ng-scope">The first two options of creating or looking up dependencies are not optimal because they hard
code the dependency to the component. This makes it difficult, if not impossible, to modify the
dependencies. This is especially problematic in tests, where it is often desirable to provide mock
dependencies for test isolation.</p>
<p class="ng-scope">The third option is the most viable, since it removes the responsibility of locating the
dependency from the component. The dependency is simply handed to the component.</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">function</span><span class="pln"> </span><span class="typ">SomeClass</span><span class="pun">(</span><span class="pln">greeter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">greeter </span><span class="pun">=</span><span class="pln"> greeter</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="typ">SomeClass</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">doSomething </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">greeter</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">(</span><span class="pln">name</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">In the above example <code><span class="typ">SomeClass</span></code> is not concerned with creating or locating the <code><span class="pln">greeter</span></code>
dependency, it is simply handed the <code><span class="pln">greeter</span></code> when it is instantiated.</p>
<p class="ng-scope">This is desirable, but it puts the responsibility of getting hold of the dependency on the
code that constructs <code><span class="typ">SomeClass</span></code>.</p>
<p class="ng-scope"><img class="pull-right" style="padding-left: 3em; padding-bottom: 1em;" src="./ng-guide-all3_files/concepts-module-injector.png"></p>
<p class="ng-scope">To manage the responsibility of dependency creation, each Angular application has an <a href="https://docs.angularjs.org/api/ng/function/angular.injector">injector</a>. The injector is a
<a href="http://en.wikipedia.org/wiki/Service_locator_pattern">service locator</a> that is responsible for
construction and lookup of dependencies.</p>
<p class="ng-scope">Here is an example of using the injector service:</p>
<pre class="ng-scope"><code class="lang-js"><span class="com">// Provide the wiring information in a module</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> myModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span></code></pre>
<p class="ng-scope">Teach the injector how to build a <code><span class="pln">greeter</span></code> service. Notice that <code><span class="pln">greeter</span></code> is dependent on the
<code><span class="pln">$window</span></code> service. The <code><span class="pln">greeter</span></code> service is an object that contains a <code><span class="pln">greet</span></code> method.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">myModule</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'greeter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$window</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    greet</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">text</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $window</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">(</span><span class="pln">text</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Create a new injector that can provide components defined in our <code><span class="pln">myModule</span></code> module and request our
<code><span class="pln">greeter</span></code> service from the injector. (This is usually done automatically by angular bootstrap).</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> injector </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">injector</span><span class="pun">([</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'ng'</span><span class="pun">]);</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> greeter </span><span class="pun">=</span><span class="pln"> injector</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'greeter'</span><span class="pun">);</span></code></pre>
<p class="ng-scope">Asking for dependencies solves the issue of hard coding, but it also means that the injector needs
to be passed throughout the application. Passing the injector breaks the
<a href="http://en.wikipedia.org/wiki/Law_of_Demeter">Law of Demeter</a>. To remedy this, we use a declarative
notation in our HTML templates, to hand the responsibility of creating components over to the
injector, as in this example:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MyController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"sayHello()"</span><span class="tag">&gt;</span><span class="pln">Hello</span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">function</span><span class="pln"> </span><span class="typ">MyController</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> greeter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">sayHello </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    greeter</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">(</span><span class="str">'Hello World'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">When Angular compiles the HTML, it processes the <code><span class="atn">ng-controller</span></code> directive, which in turn
asks the injector to create an instance of the controller and its dependencies.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">injector</span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">(</span><span class="typ">MyController</span><span class="pun">);</span></code></pre>
<p class="ng-scope">This is all done behind the scenes. Notice that by having the <code><span class="atn">ng-controller</span></code> ask the injector to
instantiate the class, it can satisfy all of the dependencies of <code><span class="typ">MyController</span></code> without the
controller ever knowing about the injector.</p>
<p class="ng-scope">This is the best outcome. The application code simply declares the dependencies it needs, without
having to deal with the injector. This setup does not break the Law of Demeter.</p>
<div class="alert alert-info ng-scope">
<strong>Note:</strong> Angular uses
<a href="http://misko.hevery.com/2009/02/19/constructor-injection-vs-setter-injection/"><strong>constructor injection</strong></a>.
</div>

</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="templates" class="document-section"><span class="guide-doc">Templates</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/templates.ngdoc?message=docs(guide%2FTemplates)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<p class="ng-scope">In Angular, templates are written with HTML that contains Angular-specific elements and attributes.
Angular combines the template with information from the model and controller to render the dynamic
view that a user sees in the browser.</p>
<p class="ng-scope">These are the types of Angular elements and attributes you can use:</p>
<ul class="ng-scope">
<li><a href="#directive">Directive</a>  An attribute or element that
augments an existing DOM element or represents a reusable DOM component.</li>
<li><a href="https://docs.angularjs.org/api/ng/service/$interpolate">Markup</a>  The double curly brace notation <code><span class="pun">{{</span><span class="pln"> </span><span class="pun">}}</span></code> to bind expressions
to elements is built-in Angular markup.</li>
<li><a href="#filter">Filter</a>  Formats data for display.</li>
<li><a href="#forms">Form controls</a>  Validates user input.</li>
</ul>
<p class="ng-scope">The following code snippet shows a template with <a href="#directive">directives</a> and
curly-brace <a href="#expression">expression</a> bindings:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="com">&lt;!-- Body tag augmented with ngController directive  --&gt;</span><span class="pln">
 </span><span class="tag">&lt;body</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MyController"</span><span class="tag">&gt;</span><span class="pln">
   </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"foo"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"bar"</span><span class="tag">&gt;</span><span class="pln">
   </span><span class="com">&lt;!-- Button tag with ng-click directive, and
          string expression 'buttonText'
          wrapped in "{{ }}" markup --&gt;</span><span class="pln">
   </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"changeFoo()"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">buttonText</span><span class="ang">}}</span><span class="tag">&lt;/button&gt;</span><span class="pln">
   </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p class="ng-scope">In a simple app, the template consists of HTML, CSS, and Angular directives contained
in just one HTML file (usually <code><span class="pln">index</span><span class="pun">.</span><span class="pln">html</span></code>).</p>
<p class="ng-scope">In a more complex app, you can display multiple views within one main page using "partials" 
segments of template located in separate HTML files. You can use the
<a href="https://docs.angularjs.org/api/ngRoute/directive/ngView">ngView</a> directive to load partials based on configuration passed
to the <a href="https://docs.angularjs.org/api/ngRoute/service/$route">$route</a> service. The <a href="https://docs.angularjs.org/tutorial/">angular tutorial</a> shows this
technique in steps seven and eight.</p>
<h2 id="related-topics" class="ng-scope">Related Topics</h2>
<ul class="ng-scope">
<li><a href="#filter">Filters</a></li>
<li><a href="#forms">Forms</a></li>
</ul>
<h2 id="related-api" class="ng-scope">Related API</h2>
<ul class="ng-scope">
<li><a href="https://docs.angularjs.org/api">API Reference</a></li>
</ul>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="expression" class="document-section"><span class="guide-doc">Expressions</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/expression.ngdoc?message=docs(guide%2FExpressions)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="angular-expressions" class="ng-scope">Angular Expressions</h1>
<p class="ng-scope">Angular expressions are JavaScript-like code snippets that are usually placed in bindings such as
<code><span class="pun">{{</span><span class="pln"> expression </span><span class="pun">}}</span></code>.</p>
<p class="ng-scope">For example, these are valid expressions in Angular:</p>
<ul class="ng-scope">
<li><code><span class="lit">1</span><span class="pun">+</span><span class="lit">2</span></code></li>
<li><code><span class="pln">a</span><span class="pun">+</span><span class="pln">b</span></code></li>
<li><code><span class="pln">user</span><span class="pun">.</span><span class="pln">name</span></code></li>
<li><code><span class="pln">items</span><span class="pun">[</span><span class="pln">index</span><span class="pun">]</span></code></li>
</ul>
<h2 id="angular-expressions-vs-javascript-expressions" class="ng-scope">Angular Expressions vs. JavaScript Expressions</h2>
<p class="ng-scope">Angular expressions are like JavaScript expressions with the following differences:</p>
<ul class="ng-scope">
<li><p><strong>Context:</strong> JavaScript expressions are evaluated against the global <code><span class="pln">window</span></code>.
In Angular, expressions are evaluated against a <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope"><code><span class="pln">scope</span></code></a> object.</p>
</li>
<li><p><strong>Forgiving:</strong> In JavaScript, trying to evaluate undefined properties generates <code><span class="typ">ReferenceError</span></code>
or <code><span class="typ">TypeError</span></code>. In Angular, expression evaluation is forgiving to <code><span class="kwd">undefined</span></code> and <code><span class="kwd">null</span></code>.</p>
</li>
<li><p><strong>No Control Flow Statements:</strong> You cannot use the following in an Angular expression:
conditionals, loops, or exceptions.</p>
</li>
<li><p><strong>No Function Declarations:</strong> You cannot declare functions in an Angular expression,
even inside <code><span class="atn">ng-init</span></code> directive.</p>
</li>
<li><p><strong>No RegExp Creation With Literal Notation:</strong> You cannot create regular expressions
in an Angular expression.</p>
</li>
<li><p><strong>No Comma And Void Operators:</strong> You cannot use <code><span class="pun">,</span></code> or <code><span class="kwd">void</span></code> in an Angular expression.</p>
</li>
<li><p><strong>Filters:</strong> You can use <a href="#filter">filters</a> within expressions to format data before
displaying it.</p>
</li>
</ul>
<p class="ng-scope">If you want to run more complex JavaScript code, you should make it a controller method and call
the method from your view. If you want to <code><span class="kwd">eval</span><span class="pun">()</span></code> an Angular expression yourself, use the
<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$eval"><code><span class="pln">$eval</span><span class="pun">()</span></code></a> method.</p>
<h2 id="example" class="ng-scope">Example</h2>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example23&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example23"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;span&gt;</span><span class="pln">
  1+2={{1+2}}
</span><span class="tag">&lt;/span&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should calculate expression in binding'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'1+2'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'1+2=3'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(16).html" name="example-example23"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">You can try evaluating different expressions here:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example24&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example24" module="expressionExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ExampleController"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"expressions"</span><span class="tag">&gt;</span><span class="pln">
  Expression:
  </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">'text'</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"expr"</span><span class="pln"> </span><span class="atn">size</span><span class="pun">=</span><span class="atv">"80"</span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"addExp(expr)"</span><span class="tag">&gt;</span><span class="pln">Evaluate</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;ul&gt;</span><span class="pln">
   </span><span class="tag">&lt;li</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"expr in exprs track by $index"</span><span class="tag">&gt;</span><span class="pln">
     [ </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">""</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"removeExp($index)"</span><span class="tag">&gt;</span><span class="pln">X</span><span class="tag">&lt;/a&gt;</span><span class="pln"> ]
     </span><span class="tag">&lt;tt&gt;</span><span class="ang">{{</span><span class="pln">expr</span><span class="ang">}}</span><span class="tag">&lt;/tt&gt;</span><span class="pln"> =&gt; </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$parent.$eval(expr)"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ul&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'expressionExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ExampleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> exprs </span><span class="pun">=</span><span class="pln"> $scope</span><span class="pun">.</span><span class="pln">exprs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">expr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'3*10|currency'</span><span class="pun">;</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">addExp </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">expr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    exprs</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">expr</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  $scope</span><span class="pun">.</span><span class="pln">removeExp </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    exprs</span><span class="pun">.</span><span class="pln">splice</span><span class="pun">(</span><span class="pln">index</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should allow user expression testing'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'.expressions button'</span><span class="pun">)).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> lis </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'.expressions ul'</span><span class="pun">)).</span><span class="pln">all</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">repeater</span><span class="pun">(</span><span class="str">'expr in exprs'</span><span class="pun">));</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">lis</span><span class="pun">.</span><span class="pln">count</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">lis</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="lit">0</span><span class="pun">).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'[ X ] 3*10|currency =&gt; $30.00'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(17).html" name="example-example24"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="context" class="ng-scope">Context</h2>
<p class="ng-scope">Angular does not use JavaScript's <code><span class="kwd">eval</span><span class="pun">()</span></code> to evaluate expressions. Instead Angular's
<a href="https://docs.angularjs.org/api/ng/service/$parse">$parse</a> service processes these expressions.</p>
<p class="ng-scope">Angular expressions do not have access to global variables like <code><span class="pln">window</span></code>, <code><span class="pln">document</span></code> or <code><span class="pln">location</span></code>.
This restriction is intentional. It prevents accidental access to the global state  a common source of subtle bugs.</p>
<p class="ng-scope">Instead use services like <code><span class="pln">$window</span></code> and <code><span class="pln">$location</span></code> in functions called from expressions. Such services
provide mockable access to globals.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example25&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example25" module="expressionExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"example2"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ExampleController"</span><span class="tag">&gt;</span><span class="pln">
  Name: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"name"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"greet()"</span><span class="tag">&gt;</span><span class="pln">Greet</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"window.alert('Should not see me')"</span><span class="tag">&gt;</span><span class="pln">Won't greet</span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'expressionExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ExampleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$window'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$window</span><span class="pun">,</span><span class="pln"> $scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'World'</span><span class="pun">;</span><span class="pln">

  $scope</span><span class="pun">.</span><span class="pln">greet </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $window</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">(</span><span class="str">'Hello '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> $scope</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should calculate expression in binding'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">browser</span><span class="pun">.</span><span class="kwd">params</span><span class="pun">.</span><span class="pln">browser </span><span class="pun">==</span><span class="pln"> </span><span class="str">'safari'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Safari can't handle dialogs.</span><span class="pln">
    </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'[ng-click="greet()"]'</span><span class="pun">)).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> alertDialog </span><span class="pun">=</span><span class="pln"> browser</span><span class="pun">.</span><span class="pln">switchTo</span><span class="pun">().</span><span class="pln">alert</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">alertDialog</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Hello World'</span><span class="pun">);</span><span class="pln">

  alertDialog</span><span class="pun">.</span><span class="pln">accept</span><span class="pun">();</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(18).html" name="example-example25"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="forgiving" class="ng-scope">Forgiving</h2>
<p class="ng-scope">Expression evaluation is forgiving to undefined and null. In JavaScript, evaluating <code><span class="pln">a</span><span class="pun">.</span><span class="pln">b</span><span class="pun">.</span><span class="pln">c</span></code> throws
an exception if <code><span class="pln">a</span></code> is not an object. While this makes sense for a general purpose language, the
expression evaluations are primarily used for data binding, which often look like this:</p>
<pre class="ng-scope"><code><span class="pun">{{</span><span class="pln">a</span><span class="pun">.</span><span class="pln">b</span><span class="pun">.</span><span class="pln">c</span><span class="pun">}}</span></code></pre>
<p class="ng-scope">It makes more sense to show nothing than to throw an exception if <code><span class="pln">a</span></code> is undefined (perhaps we are
waiting for the server response, and it will become defined soon). If expression evaluation wasn't
forgiving we'd have to write bindings that clutter the code, for example: <code><span class="pun">{{((</span><span class="pln">a</span><span class="pun">||{}).</span><span class="pln">b</span><span class="pun">||{}).</span><span class="pln">c</span><span class="pun">}}</span></code></p>
<p class="ng-scope">Similarly, invoking a function <code><span class="pln">a</span><span class="pun">.</span><span class="pln">b</span><span class="pun">.</span><span class="pln">c</span><span class="pun">()</span></code> on <code><span class="kwd">undefined</span></code> or <code><span class="kwd">null</span></code> simply returns <code><span class="kwd">undefined</span></code>.</p>
<h2 id="no-control-flow-statements" class="ng-scope">No Control Flow Statements</h2>
<p class="ng-scope">Apart from the ternary operator (<code><span class="pln">a </span><span class="pun">?</span><span class="pln"> b </span><span class="pun">:</span><span class="pln"> c</span></code>), you cannot write a control flow statement in an
expression. The reason behind this is core to the Angular philosophy that application logic should
be in controllers, not the views. If you need a real conditional, loop, or to throw from a view
expression, delegate to a JavaScript method instead.</p>
<h2 id="no-function-declarations-or-regexp-creation-with-literal-notation" class="ng-scope">No function declarations or RegExp creation with literal notation</h2>
<p class="ng-scope">You can't declare functions or create regular expressions from within AngularJS expressions. This is
to avoid complex model transformation logic inside templates. Such logic is better placed in a
controller or in a dedicated filter where it can be tested properly.</p>
<h2 id="-event-" class="ng-scope"><code><span class="pln">$event</span></code></h2>
<p class="ng-scope">Directives like <a href="https://docs.angularjs.org/api/ng/directive/ngClick"><code><span class="pln">ngClick</span></code></a> and <a href="https://docs.angularjs.org/api/ng/directive/ngFocus"><code><span class="pln">ngFocus</span></code></a>
expose a <code><span class="pln">$event</span></code> object within the scope of that expression. The object is an instance of a <a href="http://api.jquery.com/category/events/event-object/">jQuery
Event Object</a> when jQuery is present or a
similar jqLite object.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example26&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example26" module="eventExampleApp"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"EventController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"clickMe($event)"</span><span class="tag">&gt;</span><span class="pln">Event</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;p&gt;&lt;code&gt;</span><span class="pln">$event</span><span class="tag">&lt;/code&gt;</span><span class="pln">: </span><span class="tag">&lt;pre&gt;</span><span class="ang"> {{</span><span class="pln">$event | json</span><span class="ang">}}</span><span class="tag">&lt;/pre&gt;&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;p&gt;&lt;code&gt;</span><span class="pln">clickEvent</span><span class="tag">&lt;/code&gt;</span><span class="pln">: </span><span class="tag">&lt;pre&gt;</span><span class="ang">{{</span><span class="pln">clickEvent | json</span><span class="ang">}}</span><span class="tag">&lt;/pre&gt;&lt;/p&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'eventExampleApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
controller</span><span class="pun">(</span><span class="str">'EventController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/*
   * expose the event object to the scope
   */</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">clickMe </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">clickEvent</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">clickEvent </span><span class="pun">=</span><span class="pln"> simpleKeys</span><span class="pun">(</span><span class="pln">clickEvent</span><span class="pun">);</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">clickEvent</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="com">/*
   * return a copy of an object with only non-object keys
   * we need this to avoid circular references
   */</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> simpleKeys </span><span class="pun">(</span><span class="pln">original</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">keys</span><span class="pun">(</span><span class="pln">original</span><span class="pun">).</span><span class="pln">reduce</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">obj</span><span class="pun">,</span><span class="pln"> key</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      obj</span><span class="pun">[</span><span class="pln">key</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> original</span><span class="pun">[</span><span class="pln">key</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="str">'object'</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">'{ ... }'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> original</span><span class="pun">[</span><span class="pln">key</span><span class="pun">];</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> obj</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(19).html" name="example-example26"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Note in the example above how we can pass in <code><span class="pln">$event</span></code> to <code><span class="pln">clickMe</span></code>, but how it does not show up
in <code><span class="pun">{{</span><span class="pln">$event</span><span class="pun">}}</span></code>. This is because <code><span class="pln">$event</span></code> is outside the scope of that binding.</p>
<h2 id="one-time-binding" class="ng-scope">One-time binding</h2>
<p class="ng-scope">An expression that starts with <code><span class="pun">::</span></code> is considered a one-time expression. One-time expressions
will stop recalculating once they are stable, which happens after the first digest if the expression
result is a non-undefined value (see value stabilization algorithm below).</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example27&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example27" module="oneTimeBidingExampleApp"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"EventController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"clickMe($event)"</span><span class="tag">&gt;</span><span class="pln">Click Me</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;p</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"one-time-binding-example"</span><span class="tag">&gt;</span><span class="pln">One time binding: {{::name}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;p</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"normal-binding-example"</span><span class="tag">&gt;</span><span class="pln">Normal binding: {{name}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'oneTimeBidingExampleApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
controller</span><span class="pun">(</span><span class="str">'EventController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> counter </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> names </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'Igor'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Misko'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Chirayu'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Lucas'</span><span class="pun">];</span><span class="pln">
  </span><span class="com">/*
   * expose the event object to the scope
   */</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">clickMe </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">clickEvent</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> names</span><span class="pun">[</span><span class="pln">counter </span><span class="pun">%</span><span class="pln"> names</span><span class="pun">.</span><span class="pln">length</span><span class="pun">];</span><span class="pln">
    counter</span><span class="pun">++;</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should freeze binding after its value has stabilized'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> oneTimeBiding </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">id</span><span class="pun">(</span><span class="str">'one-time-binding-example'</span><span class="pun">));</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> normalBinding </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">id</span><span class="pun">(</span><span class="str">'normal-binding-example'</span><span class="pun">));</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">oneTimeBiding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'One time binding:'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">normalBinding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Normal binding:'</span><span class="pun">);</span><span class="pln">
  element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">buttonText</span><span class="pun">(</span><span class="str">'Click Me'</span><span class="pun">)).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">oneTimeBiding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'One time binding: Igor'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">normalBinding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Normal binding: Igor'</span><span class="pun">);</span><span class="pln">
  element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">buttonText</span><span class="pun">(</span><span class="str">'Click Me'</span><span class="pun">)).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">oneTimeBiding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'One time binding: Igor'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">normalBinding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Normal binding: Misko'</span><span class="pun">);</span><span class="pln">

  element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">buttonText</span><span class="pun">(</span><span class="str">'Click Me'</span><span class="pun">)).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">
  element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">buttonText</span><span class="pun">(</span><span class="str">'Click Me'</span><span class="pun">)).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">oneTimeBiding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'One time binding: Igor'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">normalBinding</span><span class="pun">.</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Normal binding: Lucas'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(20).html" name="example-example27"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h3 id="why-this-feature" class="ng-scope">Why this feature</h3>
<p class="ng-scope">The main purpose of one-time binding expression is to provide a way to create a binding
that gets deregistered and frees up resources once the binding is stabilized.
Reducing the number of expressions being watched makes the digest loop faster and allows more
information to be displayed at the same time.</p>
<h3 id="value-stabilization-algorithm" class="ng-scope">Value stabilization algorithm</h3>
<p class="ng-scope">One-time binding expressions will retain the value of the expression at the end of the
digest cycle as long as that value is not undefined. If the value of the expression is set
within the digest loop and later, within the same digest loop, it is set to undefined,
then the expression is not fulfilled and will remain watched.</p>
<ol class="ng-scope">
<li>Given an expression that starts with <code><span class="pun">::</span></code>, when a digest loop is entered and expression
is dirty-checked, store the value as V</li>
<li>If V is not undefined, mark the result of the expression as stable and schedule a task
to deregister the watch for this expression when we exit the digest loop</li>
<li>Process the digest loop as normal</li>
<li>When digest loop is done and all the values have settled process the queue of watch
deregistration tasks. For each watch to be deregistered check if it still evaluates
to value that is not <code><span class="kwd">undefined</span></code>. If that's the case, deregister the watch. Otherwise
keep dirty-checking the watch in the future digest loops by following the same
algorithm starting from step 1</li>
</ol>
<h3 id="how-to-benefit-from-one-time-binding" class="ng-scope">How to benefit from one-time binding</h3>
<p class="ng-scope">If the expression will not change once set, it is a candidate for one-time binding.
Here are three example cases.</p>
<p class="ng-scope">When interpolating text or attributes:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"attr: {{::color}}"</span><span class="tag">&gt;</span><span class="pln">text: {{::name}}</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">When using a directive with bidirectional binding and the parameters will not change:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">someModule</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'someDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pun">,</span><span class="pln">
      color</span><span class="pun">:</span><span class="pln"> </span><span class="str">'@'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'{{name}}: {{color}}'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">some-directive</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"::myName"</span><span class="pln"> </span><span class="atn">color</span><span class="pun">=</span><span class="atv">"My color is {{::myColor}}"</span><span class="tag">&gt;&lt;/div&gt;</span></code></pre>
<p class="ng-scope">When using a directive that takes an expression:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;ul&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"item in ::items"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">item.name</span><span class="ang">}};</span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span></code></pre>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="filter" class="document-section"><span class="guide-doc">Filters</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/filter.ngdoc?message=docs(guide%2FFilters)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<p class="ng-scope">A filter formats the value of an expression for display to the user. They can be used in view templates,
controllers or services and it is easy to define your own filter.</p>
<p class="ng-scope">The underlying API is the <a href="https://docs.angularjs.org/api/ng/provider/$filterProvider"><code><span class="pln">filterProvider</span></code></a>.</p>
<h2 id="using-filters-in-view-templates" class="ng-scope">Using filters in view templates</h2>
<p class="ng-scope">Filters can be applied to expressions in view templates using the following syntax:</p>
<pre class="ng-scope"><code><span class="pun">{{</span><span class="pln"> expression </span><span class="pun">|</span><span class="pln"> filter </span><span class="pun">}}</span></code></pre>
<p class="ng-scope">E.g. the markup <code><span class="pun">{{</span><span class="pln"> </span><span class="lit">12</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> currency </span><span class="pun">}}</span></code> formats the number 12 as a currency using the <a href="https://docs.angularjs.org/api/ng/filter/currency"><code><span class="pln">currency</span></code></a>
filter. The resulting value is <code><span class="pln">$12</span><span class="pun">.</span><span class="lit">00</span></code>.</p>
<p class="ng-scope">Filters can be applied to the result of another filter. This is called "chaining" and uses
the following syntax:</p>
<pre class="ng-scope"><code><span class="pun">{{</span><span class="pln"> expression </span><span class="pun">|</span><span class="pln"> filter1 </span><span class="pun">|</span><span class="pln"> filter2 </span><span class="pun">|</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">}}</span></code></pre>
<p class="ng-scope">Filters may have arguments. The syntax for this is</p>
<pre class="ng-scope"><code><span class="pun">{{</span><span class="pln"> expression </span><span class="pun">|</span><span class="pln"> filter</span><span class="pun">:</span><span class="pln">argument1</span><span class="pun">:</span><span class="pln">argument2</span><span class="pun">:...</span><span class="pln"> </span><span class="pun">}}</span></code></pre>
<p class="ng-scope">E.g. the markup <code><span class="pun">{{</span><span class="pln"> </span><span class="lit">1234</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> number</span><span class="pun">:</span><span class="lit">2</span><span class="pln"> </span><span class="pun">}}</span></code> formats the number 1234 with 2 decimal points using the
<a href="https://docs.angularjs.org/api/ng/filter/number"><code><span class="pln">number</span></code></a> filter. The resulting value is <code><span class="lit">1</span><span class="pun">,</span><span class="lit">234.00</span></code>.</p>
<h2 id="using-filters-in-controllers-services-and-directives" class="ng-scope">Using filters in controllers, services, and directives</h2>
<p class="ng-scope">You can also use filters in controllers, services, and directives. For this, inject a dependency
with the name <code><span class="tag">&lt;filterName&gt;</span><span class="pln">Filter</span></code> to your controller/service/directive. E.g. using the dependency
<code><span class="pln">numberFilter</span></code> will inject the number filter. The injected argument is a function that takes the
value to format as first argument and filter parameters starting with the second argument.</p>
<p class="ng-scope">The example below uses the filter called <a href="https://docs.angularjs.org/api/ng/filter/filter"><code><span class="pln">filter</span></code></a>.
This filter reduces arrays into sub arrays based on
conditions. The filter can be applied in the view template with markup like
<code><span class="pun">{{</span><span class="pln">ctrl</span><span class="pun">.</span><span class="pln">array </span><span class="pun">|</span><span class="pln"> filter</span><span class="pun">:</span><span class="str">'a'</span><span class="pun">}}</span></code>, which would do a fulltext search for "a".
However, using a filter in a view template will reevaluate the filter on
every digest, which can be costly if the array is big.</p>
<p class="ng-scope">The example below therefore calls the filter directly in the controller.
By this, the controller is able to call the filter only when needed (e.g. when the data is loaded from the backend
or the filter expression is changed).</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example28&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example28" module="FilterInControllerModule"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"FilterController as ctrl"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    All entries:
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"entry in ctrl.array"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">entry.name</span><span class="ang">}} </span><span class="tag">&lt;/span&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Entries that contain an "a":
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"entry in ctrl.filteredArray"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">entry.name</span><span class="ang">}} </span><span class="tag">&lt;/span&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'FilterInControllerModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
controller</span><span class="pun">(</span><span class="str">'FilterController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'filterFilter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">filterFilter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">array </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Tobias'</span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Jeff'</span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Brian'</span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Igor'</span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'James'</span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Brad'</span><span class="pun">}</span><span class="pln">
  </span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">filteredArray </span><span class="pun">=</span><span class="pln"> filterFilter</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">array</span><span class="pun">,</span><span class="pln"> </span><span class="str">'a'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(21).html" name="example-example28"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="creating-custom-filters" class="ng-scope">Creating custom filters</h2>
<p class="ng-scope">Writing your own filter is very easy: just register a new filter factory function with
your module. Internally, this uses the <a href="https://docs.angularjs.org/api/ng/provider/$filterProvider"><code><span class="pln">filterProvider</span></code></a>.
This factory function should return a new filter function which takes the input value
as the first argument. Any filter arguments are passed in as additional arguments to the filter
function.</p>
<p class="ng-scope">The filter function should be a <a href="http://en.wikipedia.org/wiki/Pure_function">pure function</a>, which
means that it should be stateless and idempotent. Angular relies on these properties and executes
the filter only when the inputs to the function change.</p>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> filter names must be valid angular expression identifiers, such as <code><span class="pln">uppercase</span></code> or <code><span class="pln">orderBy</span></code>.
Names with special characters, such as hyphens and dots, are not allowed.
</div>

<p class="ng-scope">The following sample filter reverses a text string. In addition, it conditionally makes the
text upper-case.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example29&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example29" module="myReverseFilterApp"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MyController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"greeting"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="tag">&gt;&lt;br&gt;</span><span class="pln">
  No filter: {{greeting}}</span><span class="tag">&lt;br&gt;</span><span class="pln">
  Reverse: {{greeting|reverse}}</span><span class="tag">&lt;br&gt;</span><span class="pln">
  Reverse + uppercase: {{greeting|reverse:true}}</span><span class="tag">&lt;br&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myReverseFilterApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="str">'reverse'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">input</span><span class="pun">,</span><span class="pln"> uppercase</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    input </span><span class="pun">=</span><span class="pln"> input </span><span class="pun">||</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> </span><span class="kwd">out</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> input</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">out</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> input</span><span class="pun">.</span><span class="pln">charAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">out</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="com">// conditional based on optional argument</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">uppercase</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">out</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">out</span><span class="pun">.</span><span class="pln">toUpperCase</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">out</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">greeting </span><span class="pun">=</span><span class="pln"> </span><span class="str">'hello'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(22).html" name="example-example29"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="stateful-filters" class="ng-scope">Stateful filters</h2>
<p class="ng-scope">It is strongly discouraged to write filters that are stateful, because the execution of those can't
be optimized by Angular, which often leads to performance issues. Many stateful filters can be
converted into stateless filters just by exposing the hidden state as a model and turning it into an
argument for the filter.</p>
<p class="ng-scope">If you however do need to write a stateful filter, you have to mark the filter as <code><span class="pln">$stateful</span></code>, which
means that it will be executed one or more times during the each <code><span class="pln">$digest</span></code> cycle.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example30&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example30" module="myStatefulFilterApp"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MyController"</span><span class="tag">&gt;</span><span class="pln">
  Input: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"greeting"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="tag">&gt;&lt;br&gt;</span><span class="pln">
  Decoration: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"decoration.symbol"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="tag">&gt;&lt;br&gt;</span><span class="pln">
  No filter: {{greeting}}</span><span class="tag">&lt;br&gt;</span><span class="pln">
  Decorated: {{greeting | decorate}}</span><span class="tag">&lt;br&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myStatefulFilterApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="str">'decorate'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'decoration'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">decoration</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> decorateFilter</span><span class="pun">(</span><span class="pln">input</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> decoration</span><span class="pun">.</span><span class="pln">symbol </span><span class="pun">+</span><span class="pln"> input </span><span class="pun">+</span><span class="pln"> decoration</span><span class="pun">.</span><span class="pln">symbol</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  decorateFilter</span><span class="pun">.</span><span class="pln">$stateful </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> decorateFilter</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'decoration'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> decoration</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">greeting </span><span class="pun">=</span><span class="pln"> </span><span class="str">'hello'</span><span class="pun">;</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">decoration </span><span class="pun">=</span><span class="pln"> decoration</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'decoration'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">symbol</span><span class="pun">:</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(24).html" name="example-example30"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="testing-custom-filters" class="ng-scope">Testing custom filters</h2>
<p class="ng-scope">See the <a href="http://docs.angularjs.org/tutorial/step_09#test">phonecat tutorial</a> for an example.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="forms" class="document-section"><span class="guide-doc">Forms</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/forms.ngdoc?message=docs(guide%2FForms)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<p class="ng-scope">Controls (<code><span class="pln">input</span></code>, <code><span class="kwd">select</span></code>, <code><span class="pln">textarea</span></code>) are ways for a user to enter data.
A Form is a collection of controls for the purpose of grouping related controls together.</p>
<p class="ng-scope">Form and controls provide validation services, so that the user can be notified of invalid input.
This provides a better user experience, because the user gets instant feedback on how to
correct the error. Keep in mind that while client-side validation plays an important role
in providing good user experience, it can easily be circumvented and thus can not be trusted.
Server-side validation is still necessary for a secure application.</p>
<h1 id="simple-form" class="ng-scope">Simple form</h1>
<p class="ng-scope">The key directive in understanding two-way data-binding is <a href="https://docs.angularjs.org/api/ng/directive/ngModel">ngModel</a>.
The <code><span class="pln">ngModel</span></code> directive provides the two-way data-binding by synchronizing the model to the view,
as well as view to the model. In addition it provides an <a href="https://docs.angularjs.org/api/ng/type/ngModel.NgModelController">API</a>
for other directives to augment its behavior.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example31&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example31" module="formExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ExampleController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">novalidate</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"simple-form"</span><span class="tag">&gt;</span><span class="pln">
    Name: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.name"</span><span class="pln"> </span><span class="tag">/&gt;&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    E-mail: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.email"</span><span class="pln"> </span><span class="tag">/&gt;&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    Gender: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"radio"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.gender"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"male"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">male
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"radio"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.gender"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"female"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">female</span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"reset()"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"Reset"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"update(user)"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"Save"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/form&gt;</span><span class="pln">
  </span><span class="tag">&lt;pre&gt;</span><span class="pln">form = {{user | json}}</span><span class="tag">&lt;/pre&gt;</span><span class="pln">
  </span><span class="tag">&lt;pre&gt;</span><span class="pln">master = {{master | json}}</span><span class="tag">&lt;/pre&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">

</span><span class="tag">&lt;script&gt;</span><span class="pln">
  angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'formExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ExampleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">master </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">

      $scope</span><span class="pun">.</span><span class="pln">update </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">master </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">

      $scope</span><span class="pun">.</span><span class="pln">reset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">user </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">master</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">

      $scope</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}]);</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(25).html" name="example-example31"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Note that <code><span class="pln">novalidate</span></code> is used to disable browser's native form validation.</p>
<p class="ng-scope">The value of <code><span class="pln">ngModel</span></code> won't be set unless it passes validation for the input field.
For example: inputs of type <code><span class="pln">email</span></code> must have a value in the form of <code><span class="pln">user@domain</span></code>.</p>
<h1 id="using-css-classes" class="ng-scope">Using CSS classes</h1>
<p class="ng-scope">To allow styling of form as well as controls, <code><span class="pln">ngModel</span></code>  adds these CSS classes:</p>
<ul class="ng-scope">
<li><code><span class="atn">ng-valid</span></code>: the model is valid</li>
<li><code><span class="atn">ng-invalid</span></code>: the model is invalid</li>
<li><code><span class="atn">ng-valid</span><span class="pun">-[</span><span class="pln">key</span><span class="pun">]</span></code>: for each valid key added by <code><span class="pln">$setValidity</span></code></li>
<li><code><span class="atn">ng-invalid</span><span class="pun">-[</span><span class="pln">key</span><span class="pun">]</span></code>: for each invalid key added by <code><span class="pln">$setValidity</span></code></li>
<li><code><span class="atn">ng-pristine</span></code>: the control hasn't been interacted with yet</li>
<li><code><span class="atn">ng-dirty</span></code>: the control has been interacted with</li>
<li><code><span class="atn">ng-touched</span></code>: the control has been blurred</li>
<li><code><span class="atn">ng-untouched</span></code>: the control hasn't been blurred</li>
<li><code><span class="atn">ng-pending</span></code>: any <code><span class="pln">$asyncValidators</span></code> are unfulfilled</li>
</ul>
<p class="ng-scope">The following example uses the CSS to display validity of each form control.
In the example both <code><span class="pln">user</span><span class="pun">.</span><span class="pln">name</span></code> and <code><span class="pln">user</span><span class="pun">.</span><span class="pln">email</span></code> are required, but are rendered
with red background only after the input is blurred (loses focus).
This ensures that the user is not distracted with an error until after interacting with the control,
and failing to satisfy its validity.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example32&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example32" module="formExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ExampleController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">novalidate</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"css-form"</span><span class="tag">&gt;</span><span class="pln">
    Name: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.name"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">/&gt;&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    E-mail: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.email"</span><span class="pln"> </span><span class="atn">required</span><span class="pln"> </span><span class="tag">/&gt;&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    Gender: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"radio"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.gender"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"male"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">male
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"radio"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.gender"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"female"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">female</span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"reset()"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"Reset"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"update(user)"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"Save"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/form&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">

</span><span class="tag">&lt;style</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/css"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">css-form input</span><span class="pun">.</span><span class="pln">ng-invalid</span><span class="pun">.</span><span class="pln">ng-touched </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">background-color</span><span class="pun">:</span><span class="pln"> </span><span class="lit">#FA787E</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="pun">.</span><span class="pln">css-form input</span><span class="pun">.</span><span class="pln">ng-valid</span><span class="pun">.</span><span class="pln">ng-touched </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">background-color</span><span class="pun">:</span><span class="pln"> </span><span class="lit">#78FA89</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="tag">&lt;/style&gt;</span><span class="pln">

</span><span class="tag">&lt;script&gt;</span><span class="pln">
  angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'formExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ExampleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">master </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">

      $scope</span><span class="pun">.</span><span class="pln">update </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">master </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">

      $scope</span><span class="pun">.</span><span class="pln">reset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">user </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">master</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">

      $scope</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}]);</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(26).html" name="example-example32"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="binding-to-form-and-control-state" class="ng-scope">Binding to form and control state</h1>
<p class="ng-scope">A form is an instance of <a href="https://docs.angularjs.org/api/ng/type/form.FormController">FormController</a>.
The form instance can optionally be published into the scope using the <code><span class="pln">name</span></code> attribute.</p>
<p class="ng-scope">Similarly, an input control that has the <a href="https://docs.angularjs.org/api/ng/directive/ngModel">ngModel</a> directive holds an
instance of <a href="https://docs.angularjs.org/api/ng/type/ngModel.NgModelController">NgModelController</a>. Such a control instance
can be published as a property of the form instance using the <code><span class="pln">name</span></code> attribute on the input control.
The name attribute specifies the name of the property on the form instance.</p>
<p class="ng-scope">This implies that the internal state of both the form and the control is available for binding in
the view using the standard binding primitives.</p>
<p class="ng-scope">This allows us to extend the above example with these features:</p>
<ul class="ng-scope">
<li>Custom error message displayed after the user interacted with a control (i.e. when <code><span class="pln">$touched</span></code> is set)</li>
<li>Custom error message displayed upon submitting the form (<code><span class="pln">$submitted</span></code> is set), even if the user
didn't interact with a control</li>
</ul>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example33&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example33" module="formExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ExampleController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"form"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"css-form"</span><span class="pln"> </span><span class="atn">novalidate</span><span class="tag">&gt;</span><span class="pln">
    Name:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.name"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"uName"</span><span class="pln"> </span><span class="atn">required</span><span class="pun">=</span><span class="atv">""</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.$submitted || form.uName.$touched"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.uName.$error.required"</span><span class="tag">&gt;</span><span class="pln">Tell us your name.</span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">

    E-mail:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.email"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"uEmail"</span><span class="pln"> </span><span class="atn">required</span><span class="pun">=</span><span class="atv">""</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.$submitted || form.uEmail.$touched"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.uEmail.$error.required"</span><span class="tag">&gt;</span><span class="pln">Tell us your email.</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.uEmail.$error.email"</span><span class="tag">&gt;</span><span class="pln">This is not a valid email.</span><span class="tag">&lt;/span&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">

    Gender:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"radio"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.gender"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"male"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">male
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"radio"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.gender"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"female"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">female
    </span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"checkbox"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.agree"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"userAgree"</span><span class="pln"> </span><span class="atn">required</span><span class="pun">=</span><span class="atv">""</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">

    I agree:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"user.agree"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.agreeSign"</span><span class="pln"> </span><span class="atn">required</span><span class="pun">=</span><span class="atv">""</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.$submitted || form.userAgree.$touched"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"!user.agree || !user.agreeSign"</span><span class="tag">&gt;</span><span class="pln">Please agree and sign.</span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">

    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"reset(form)"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"Reset"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"update(user)"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"Save"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/form&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'formExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ExampleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">master </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">

  $scope</span><span class="pun">.</span><span class="pln">update </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">master </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  $scope</span><span class="pun">.</span><span class="pln">reset </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">form</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">form</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      form</span><span class="pun">.</span><span class="pln">$setPristine</span><span class="pun">();</span><span class="pln">
      form</span><span class="pun">.</span><span class="pln">$setUntouched</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">user </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">copy</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">master</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  $scope</span><span class="pun">.</span><span class="pln">reset</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(27).html" name="example-example33"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="custom-model-update-triggers" class="ng-scope">Custom model update triggers</h1>
<p class="ng-scope">By default, any change to the content will trigger a model update and form validation. You can
override this behavior using the <a href="https://docs.angularjs.org/api/ng/directive/ngModelOptions">ngModelOptions</a> directive to
bind only to specified list of events. I.e. <code><span class="atn">ng-model</span><span class="pun">-</span><span class="pln">options</span><span class="pun">=</span><span class="str">"{ updateOn: 'blur' }"</span></code> will update
and validate only after the control loses focus. You can set several events using a space delimited
list. I.e. <code><span class="atn">ng-model</span><span class="pun">-</span><span class="pln">options</span><span class="pun">=</span><span class="str">"{ updateOn: 'mousedown blur' }"</span></code></p>
<p class="ng-scope"><img alt="animation showing debounced input" src="./ng-guide-all3_files/forms-update-on-blur.gif"></p>
<p class="ng-scope">If you want to keep the default behavior and just add new events that may trigger the model update
and validation, add "default" as one of the specified events.</p>
<p class="ng-scope">I.e. <code><span class="atn">ng-model</span><span class="pun">-</span><span class="pln">options</span><span class="pun">=</span><span class="str">"{ updateOn: 'default blur' }"</span></code></p>
<p class="ng-scope">The following example shows how to override immediate updates. Changes on the inputs within the form
will update the model only when the control loses focus (blur event).</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example34&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example34" module="customTriggerExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ExampleController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;form&gt;</span><span class="pln">
    Name:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.name"</span><span class="pln"> </span><span class="atn">ng-model-options</span><span class="pun">=</span><span class="atv">"{ updateOn: 'blur' }"</span><span class="pln"> </span><span class="tag">/&gt;&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    Other data:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.data"</span><span class="pln"> </span><span class="tag">/&gt;&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/form&gt;</span><span class="pln">
  </span><span class="tag">&lt;pre&gt;</span><span class="pln">username = "{{user.name}}"</span><span class="tag">&lt;/pre&gt;</span><span class="pln">
  </span><span class="tag">&lt;pre&gt;</span><span class="pln">userdata = "{{user.data}}"</span><span class="tag">&lt;/pre&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'customTriggerExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ExampleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">user </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(28).html" name="example-example34"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="non-immediate-debounced-model-updates" class="ng-scope">Non-immediate (debounced) model updates</h1>
<p class="ng-scope">You can delay the model update/validation by using the <code><span class="pln">debounce</span></code> key with the
<a href="https://docs.angularjs.org/api/ng/directive/ngModelOptions">ngModelOptions</a> directive. This delay will also apply to
parsers, validators and model flags like <code><span class="pln">$dirty</span></code> or <code><span class="pln">$pristine</span></code>.</p>
<p class="ng-scope"><img alt="animation showing debounced input" src="./ng-guide-all3_files/forms-debounce.gif"></p>
<p class="ng-scope">I.e. <code><span class="atn">ng-model</span><span class="pun">-</span><span class="pln">options</span><span class="pun">=</span><span class="str">"{ debounce: 500 }"</span></code> will wait for half a second since
the last content change before triggering the model update and form validation.</p>
<p class="ng-scope">If custom triggers are used, custom debouncing timeouts can be set for each event using an object
in <code><span class="pln">debounce</span></code>. This can be useful to force immediate updates on some specific circumstances
(like blur events).</p>
<p class="ng-scope">I.e. <code><span class="atn">ng-model</span><span class="pun">-</span><span class="pln">options</span><span class="pun">=</span><span class="str">"{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }"</span></code></p>
<p class="ng-scope">If those attributes are added to an element, they will be applied to all the child elements and
controls that inherit from it unless they are overridden.</p>
<p class="ng-scope">This example shows how to debounce model changes. Model will be updated only 250 milliseconds
after last change.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example35&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example35" module="debounceExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"ExampleController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;form&gt;</span><span class="pln">
    Name:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"user.name"</span><span class="pln"> </span><span class="atn">ng-model-options</span><span class="pun">=</span><span class="atv">"{ debounce: 250 }"</span><span class="pln"> </span><span class="tag">/&gt;&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/form&gt;</span><span class="pln">
  </span><span class="tag">&lt;pre&gt;</span><span class="pln">username = "{{user.name}}"</span><span class="tag">&lt;/pre&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'debounceExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'ExampleController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">user </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(29).html" name="example-example35"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="custom-validation" class="ng-scope">Custom Validation</h1>
<p class="ng-scope">Angular provides basic implementation for most common HTML5 <a href="https://docs.angularjs.org/api/ng/directive/input">input</a>
types: (<a href="https://docs.angularjs.org/api/ng/input/input[text]">text</a>, <a href="https://docs.angularjs.org/api/ng/input/input[number]">number</a>, <a href="https://docs.angularjs.org/api/ng/input/input[url]">url</a>,
<a href="https://docs.angularjs.org/api/ng/input/input[email]">email</a>, <a href="https://docs.angularjs.org/api/ng/input/input[date]">date</a>, <a href="https://docs.angularjs.org/api/ng/input/input[radio]">radio</a>, <a href="https://docs.angularjs.org/api/ng/input/input[checkbox]">checkbox</a>),
as well as some directives for validation (<code><span class="pln">required</span></code>, <code><span class="pln">pattern</span></code>, <code><span class="pln">minlength</span></code>, <code><span class="pln">maxlength</span></code>,
<code><span class="pln">min</span></code>, <code><span class="pln">max</span></code>).</p>
<p class="ng-scope">With a custom directive, you can add your own validation functions to the <code><span class="pln">$validators</span></code> object on
the <a href="https://docs.angularjs.org/api/ng/type/ngModel.NgModelController"><code><span class="pln">ngModelController</span></code></a>. To get a hold of the controller,
you require it in the directive as shown in the example below.</p>
<p class="ng-scope">Each function in the <code><span class="pln">$validators</span></code> object receives the <code><span class="pln">modelValue</span></code> and the <code><span class="pln">viewValue</span></code>
as parameters. Angular will then call <code><span class="pln">$setValidity</span></code> internally with the function's return value
(<code><span class="kwd">true</span></code>: valid, <code><span class="kwd">false</span></code>: invalid). The validation functions are executed every time an input
is changed (<code><span class="pln">$setViewValue</span></code> is called) or whenever the bound <code><span class="pln">model</span></code> changes.
Validation happens after successfully running <code><span class="pln">$parsers</span></code> and <code><span class="pln">$formatters</span></code>, respectively.
Failed validators are stored by key in
<a href="https://docs.angularjs.org/api/ng/type/ngModel.NgModelController#$error"><code><span class="pln">ngModelController</span><span class="pun">.</span><span class="pln">$error</span></code></a>.</p>
<p class="ng-scope">Additionally, there is the <code><span class="pln">$asyncValidators</span></code> object which handles asynchronous validation,
such as making an <code><span class="pln">$http</span></code> request to the backend. Functions added to the object must return
a promise that must be <code><span class="pln">resolved</span></code> when valid or <code><span class="pln">rejected</span></code> when invalid.
In-progress async validations are stored by key in
<a href="https://docs.angularjs.org/api/ng/type/ngModel.NgModelController#$pending"><code><span class="pln">ngModelController</span><span class="pun">.</span><span class="pln">$pending</span></code></a>.</p>
<p class="ng-scope">In the following example we create two directives:</p>
<ul class="ng-scope">
<li><p>An <code><span class="pln">integer</span></code> directive that validates whether the input is a valid integer. For example,
<code><span class="lit">1.23</span></code> is an invalid value, since it contains a fraction. Note that we validate the viewValue
(the string value of the control), and not the modelValue. This is because input[number] converts
the viewValue to a number when running the <code><span class="pln">$parsers</span></code>.</p>
</li>
<li><p>A <code><span class="pln">username</span></code> directive that asynchronously checks if a user-entered value is already taken.
We mock the server request with a <code><span class="pln">$q</span></code> deferred.</p>
</li>
</ul>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example36&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example36" module="form-example1"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"form"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"css-form"</span><span class="pln"> </span><span class="atn">novalidate</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Size (integer 0 - 10):
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"number"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"size"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"size"</span><span class="pln">
           </span><span class="atn">min</span><span class="pun">=</span><span class="atv">"0"</span><span class="pln"> </span><span class="atn">max</span><span class="pun">=</span><span class="atv">"10"</span><span class="pln"> </span><span class="atn">integer</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="ang">{{</span><span class="pln">size</span><span class="ang">}}</span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.size.$error.integer"</span><span class="tag">&gt;</span><span class="pln">The value is not a valid integer!</span><span class="tag">&lt;/span&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.size.$error.min || form.size.$error.max"</span><span class="tag">&gt;</span><span class="pln">
      The value must be in range 0 to 10!</span><span class="tag">&lt;/span&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">

  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Username:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"name"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"name"</span><span class="pln"> </span><span class="atn">username</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="ang">{{</span><span class="pln">name</span><span class="ang">}}</span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.name.$pending.username"</span><span class="tag">&gt;</span><span class="pln">Checking if this name is available...</span><span class="tag">&lt;/span&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.name.$error.username"</span><span class="tag">&gt;</span><span class="pln">This username is already taken!</span><span class="tag">&lt;/span&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">

</span><span class="tag">&lt;/form&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="kwd">var</span><span class="pln"> app </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'form-example1'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="kwd">var</span><span class="pln"> INTEGER_REGEXP </span><span class="pun">=</span><span class="pln"> </span><span class="str">/^\-?\d+$/</span><span class="pun">;</span><span class="pln">
app</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'integer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">require</span><span class="pun">:</span><span class="pln"> </span><span class="str">'ngModel'</span><span class="pun">,</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> ctrl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      ctrl</span><span class="pun">.</span><span class="pln">$validators</span><span class="pun">.</span><span class="pln">integer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">,</span><span class="pln"> viewValue</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ctrl</span><span class="pun">.</span><span class="pln">$isEmpty</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="com">// consider empty models to be valid</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">INTEGER_REGEXP</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">viewValue</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="com">// it is valid</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="com">// it is invalid</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

app</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'username'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$q</span><span class="pun">,</span><span class="pln"> $timeout</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">require</span><span class="pun">:</span><span class="pln"> </span><span class="str">'ngModel'</span><span class="pun">,</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> ctrl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> usernames </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'Jim'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'John'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Jill'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Jackie'</span><span class="pun">];</span><span class="pln">

      ctrl</span><span class="pun">.</span><span class="pln">$asyncValidators</span><span class="pun">.</span><span class="pln">username </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">,</span><span class="pln"> viewValue</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ctrl</span><span class="pun">.</span><span class="pln">$isEmpty</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="com">// consider empty model valid</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> $q</span><span class="pun">.</span><span class="kwd">when</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="kwd">var</span><span class="pln"> </span><span class="kwd">def</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> $q</span><span class="pun">.</span><span class="pln">defer</span><span class="pun">();</span><span class="pln">

        $timeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="com">// Mock a delayed response</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">usernames</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">)</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// The username is available</span><span class="pln">
            </span><span class="kwd">def</span><span class="pun">.</span><span class="pln">resolve</span><span class="pun">();</span><span class="pln">
          </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">def</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">();</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">

        </span><span class="pun">},</span><span class="pln"> </span><span class="lit">2000</span><span class="pun">);</span><span class="pln">

        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">def</span><span class="pun">.</span><span class="pln">promise</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(30).html" name="example-example36"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="modifying-built-in-validators" class="ng-scope">Modifying built-in validators</h1>
<p class="ng-scope">Since Angular itself uses <code><span class="pln">$validators</span></code>, you can easily replace or remove built-in validators,
should you find it necessary. The following example shows you how to overwrite the email validator
in <code><span class="pln">input</span><span class="pun">[</span><span class="pln">email</span><span class="pun">]</span></code> from a custom directive so that it requires a specific top-level domain,
<code><span class="pln">example</span><span class="pun">.</span><span class="pln">com</span></code> to be present.
Note that you can alternatively use <code><span class="atn">ng-pattern</span></code> to further restrict the validation.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example37&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example37" module="form-example-modify-validators"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"form"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"css-form"</span><span class="pln"> </span><span class="atn">novalidate</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    Overwritten Email:
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"email"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"myEmail"</span><span class="pln"> </span><span class="atn">overwrite-email</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"overwrittenEmail"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"form.overwrittenEmail.$error.email"</span><span class="tag">&gt;</span><span class="pln">This email format is invalid!</span><span class="tag">&lt;/span&gt;&lt;br&gt;</span><span class="pln">
    Model: {{myEmail}}
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/form&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="kwd">var</span><span class="pln"> app </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'form-example-modify-validators'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

app</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'overwriteEmail'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> EMAIL_REGEXP </span><span class="pun">=</span><span class="pln"> </span><span class="str">/^[a-z0-9!#$%&amp;'*+/=?^_`{|}~.-]+@example\.com$/</span><span class="pln">i</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">require</span><span class="pun">:</span><span class="pln"> </span><span class="str">'ngModel'</span><span class="pun">,</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> ctrl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// only apply the validator if ngModel is present and Angular has added the email validator</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ctrl </span><span class="pun">&amp;&amp;</span><span class="pln"> ctrl</span><span class="pun">.</span><span class="pln">$validators</span><span class="pun">.</span><span class="pln">email</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

        </span><span class="com">// this will overwrite the default Angular email validator</span><span class="pln">
        ctrl</span><span class="pun">.</span><span class="pln">$validators</span><span class="pun">.</span><span class="pln">email </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> ctrl</span><span class="pun">.</span><span class="pln">$isEmpty</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> EMAIL_REGEXP</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">modelValue</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(31).html" name="example-example37"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="implementing-custom-form-controls-using-ngmodel-" class="ng-scope">Implementing custom form controls (using <code><span class="pln">ngModel</span></code>)</h1>
<p class="ng-scope">Angular implements all of the basic HTML form controls (<a href="https://docs.angularjs.org/api/ng/directive/input">input</a>,
<a href="https://docs.angularjs.org/api/ng/directive/select">select</a>, <a href="https://docs.angularjs.org/api/ng/directive/textarea">textarea</a>),
which should be sufficient for most cases. However, if you need more flexibility,
you can write your own form control as a directive.</p>
<p class="ng-scope">In order for custom control to work with <code><span class="pln">ngModel</span></code> and to achieve two-way data-binding it needs to:</p>
<ul class="ng-scope">
<li>implement <code><span class="pln">$render</span></code> method, which is responsible for rendering the data after it passed the
<a href="https://docs.angularjs.org/api/ng/type/ngModel.NgModelController#$formatters"><code><span class="typ">NgModelController</span><span class="pun">.</span><span class="pln">$formatters</span></code></a>,</li>
<li>call <code><span class="pln">$setViewValue</span></code> method, whenever the user interacts with the control and model
needs to be updated. This is usually done inside a DOM Event listener.</li>
</ul>
<p class="ng-scope">See <a href="#directive"><code><span class="pln">$compileProvider</span><span class="pun">.</span><span class="pln">directive</span></code></a> for more info.</p>
<p class="ng-scope">The following example shows how to add two-way data-binding to contentEditable elements.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example38&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example38" module="form-example2"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">contentEditable</span><span class="pun">=</span><span class="atv">"true"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"content"</span><span class="pln"> </span><span class="atn">title</span><span class="pun">=</span><span class="atv">"Click to edit"</span><span class="tag">&gt;</span><span class="pln">Some</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;pre&gt;</span><span class="pln">model = {{content}}</span><span class="tag">&lt;/pre&gt;</span><span class="pln">

</span><span class="tag">&lt;style</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/css"</span><span class="tag">&gt;</span><span class="pln">
  div</span><span class="pun">[</span><span class="pln">contentEditable</span><span class="pun">]</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">cursor</span><span class="pun">:</span><span class="pln"> pointer</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">background-color</span><span class="pun">:</span><span class="pln"> </span><span class="lit">#D0D0D0</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="tag">&lt;/style&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'form-example2'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'contenteditable'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">require</span><span class="pun">:</span><span class="pln"> </span><span class="str">'ngModel'</span><span class="pun">,</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> ctrl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// view -&gt; model</span><span class="pln">
      elm</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'blur'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        scope</span><span class="pun">.</span><span class="pln">$apply</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          ctrl</span><span class="pun">.</span><span class="pln">$setViewValue</span><span class="pun">(</span><span class="pln">elm</span><span class="pun">.</span><span class="pln">html</span><span class="pun">());</span><span class="pln">
        </span><span class="pun">});</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">

      </span><span class="com">// model -&gt; view</span><span class="pln">
      ctrl</span><span class="pun">.</span><span class="pln">$render </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        elm</span><span class="pun">.</span><span class="pln">html</span><span class="pun">(</span><span class="pln">ctrl</span><span class="pun">.</span><span class="pln">$viewValue</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">

      </span><span class="com">// load init value from DOM</span><span class="pln">
      ctrl</span><span class="pun">.</span><span class="pln">$setViewValue</span><span class="pun">(</span><span class="pln">elm</span><span class="pun">.</span><span class="pln">html</span><span class="pun">());</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(32).html" name="example-example38"></iframe>
  </div>
</div>


<p class="ng-scope"></p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="directive" class="document-section"><span class="guide-doc">Directives</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/directive.ngdoc?message=docs(guide%2FDirectives)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="creating-custom-directives" class="ng-scope">Creating Custom Directives</h1>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> this guide is targeted towards developers who are already familiar with AngularJS basics.
If you're just getting started, we recommend the <a href="https://docs.angularjs.org/tutorial/">tutorial</a> first.
If you're looking for the <strong>directives API</strong>, we recently moved it to <a href="https://docs.angularjs.org/api/ng/service/$compile"><code><span class="pln">$compile</span></code></a>.
</div>


<p class="ng-scope">This document explains when you'd want to create your own directives in your AngularJS app, and
how to implement them.</p>
<h2 id="what-are-directives-" class="ng-scope">What are Directives?</h2>
<p class="ng-scope">At a high level, directives are markers on a DOM element (such as an attribute, element
name, comment or CSS class) that tell AngularJS's <strong>HTML compiler</strong> (<a href="https://docs.angularjs.org/api/ng/service/$compile"><code><span class="pln">$compile</span></code></a>) to
attach a specified behavior to that DOM element or even transform the DOM element and its children.</p>
<p class="ng-scope">Angular comes with a set of these directives built-in, like <code><span class="pln">ngBind</span></code>, <code><span class="pln">ngModel</span></code>, and <code><span class="pln">ngClass</span></code>.
Much like you create controllers and services, you can create your own directives for Angular to use.
When Angular <a href="#bootstrap">bootstraps</a> your application, the
<a href="#compiler">HTML compiler</a> traverses the DOM matching directives against the DOM elements.</p>
<div class="alert alert-info ng-scope">
<strong>What does it mean to "compile" an HTML template?</strong>

For AngularJS, "compilation" means attaching event listeners to the HTML to make it interactive.
The reason we use the term "compile" is that the recursive process of attaching directives
mirrors the process of compiling source code in
<a href="http://en.wikipedia.org/wiki/Compiled_languages">compiled programming languages</a>.
</div>


<h2 id="matching-directives" class="ng-scope">Matching Directives</h2>
<p class="ng-scope">Before we can write a directive, we need to know how Angular's <a href="#compiler">HTML compiler</a>
determines when to use a given directive.</p>
<p class="ng-scope">In the following example, we say that the <code><span class="tag">&lt;input&gt;</span></code> element <strong>matches</strong> the <code><span class="pln">ngModel</span></code> directive.</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"foo"</span><span class="tag">&gt;</span></code></pre>
<p class="ng-scope">The following also <strong>matches</strong> <code><span class="pln">ngModel</span></code>:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">data-ng:model</span><span class="pun">=</span><span class="atv">"foo"</span><span class="tag">&gt;</span></code></pre>
<p class="ng-scope">Angular <strong>normalizes</strong> an element's tag and attribute name to determine which elements match which
directives. We typically refer to directives by their case-sensitive
<a href="http://en.wikipedia.org/wiki/CamelCase">camelCase</a> <strong>normalized</strong> name (e.g. <code><span class="pln">ngModel</span></code>).
However, since HTML is case-insensitive, we refer to directives in the DOM by lower-case
forms, typically using <a href="http://en.wikipedia.org/wiki/Letter_case#Computers">dash-delimited</a>
attributes on DOM elements (e.g. <code><span class="atn">ng-model</span></code>).</p>
<p class="ng-scope">The <strong>normalization</strong> process is as follows:</p>
<ol class="ng-scope">
<li>Strip <code><span class="pln">x</span><span class="pun">-</span></code> and <code><span class="pln">data</span><span class="pun">-</span></code> from the front of the element/attributes.</li>
<li>Convert the <code><span class="pun">:</span></code>, <code><span class="pun">-</span></code>, or <code><span class="pln">_</span></code>-delimited name to <code><span class="pln">camelCase</span></code>.</li>
</ol>
<p class="ng-scope">For example, the following forms are all equivalent and match the <a href="https://docs.angularjs.org/api/ng/directive/ngBind"><code><span class="pln">ngBind</span></code></a> directive:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example9&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example9" module="docsBindExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  Hello </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">'name'</span><span class="tag">&gt;</span><span class="pln"> </span><span class="tag">&lt;hr/&gt;</span><span class="pln">
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br/&gt;</span><span class="pln">
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng:bind</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br/&gt;</span><span class="pln">
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng_bind</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br/&gt;</span><span class="pln">
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">data-ng-bind</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br/&gt;</span><span class="pln">
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">x-ng-bind</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br/&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsBindExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Max Karl Ernst Ludwig Planck (April 23, 1858  October 4, 1947)'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should show off bindings'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'div[ng-controller="Controller"] span[ng-bind]'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">())</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'Max Karl Ernst Ludwig Planck (April 23, 1858  October 4, 1947)'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(44).html" name="example-example9"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Prefer using the dash-delimited format (e.g. <code><span class="atn">ng-bind</span></code> for <code><span class="pln">ngBind</span></code>).
If you want to use an HTML validating tool, you can instead use the <code><span class="pln">data</span></code>-prefixed version (e.g.
<code><span class="pln">data</span><span class="pun">-</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">bind</span></code> for <code><span class="pln">ngBind</span></code>).
The other forms shown above are accepted for legacy reasons but we advise you to avoid them.
</div>

<p class="ng-scope"><code><span class="pln">$compile</span></code> can match directives based on element names, attributes, class names, as well as comments.</p>
<p class="ng-scope">All of the Angular-provided directives match attribute name, tag name, comments, or class name.
The following demonstrates the various ways a directive (<code><span class="pln">myDir</span></code> in this case) can be referenced
from within a template:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;my-dir&gt;&lt;/my-dir&gt;</span><span class="pln">
</span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">my-dir</span><span class="pun">=</span><span class="atv">"exp"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln">
</span><span class="com">&lt;!-- directive: my-dir exp --&gt;</span><span class="pln">
</span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"my-dir: exp;"</span><span class="tag">&gt;&lt;/span&gt;</span></code></pre>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Prefer using directives via tag name and attributes over comment and class names.
Doing so generally makes it easier to determine what directives a given element matches.
</div>

<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Comment directives were commonly used in places where the DOM API limits the
ability to create directives that spanned multiple elements (e.g. inside <code><span class="tag">&lt;table&gt;</span></code> elements).
AngularJS 1.2 introduces <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat"><code><span class="atn">ng-repeat</span><span class="pun">-</span><span class="pln">start</span></code> and <code><span class="atn">ng-repeat</span><span class="pun">-</span><span class="kwd">end</span></code></a>
as a better solution to this problem. Developers are encouraged to use this over custom comment
directives when possible.
</div>



<h3 id="text-and-attribute-bindings" class="ng-scope">Text and attribute bindings</h3>
<p class="ng-scope">During the compilation process the <a href="https://docs.angularjs.org/api/ng/service/$compile">compiler</a> matches text and attributes
using the <a href="https://docs.angularjs.org/api/ng/service/$interpolate">$interpolate</a> service to see if they contain embedded
expressions. These expressions are registered as <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">watches</a>
and will update as part of normal <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$digest">digest</a> cycle. An
example of interpolation is shown below:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">ng-href</span><span class="pun">=</span><span class="atv">"img/{{username}}.jpg"</span><span class="tag">&gt;</span><span class="pln">Hello {{username}}!</span><span class="tag">&lt;/a&gt;</span></code></pre>
<h3 id="-ngattr-attribute-bindings" class="ng-scope"><code><span class="pln">ngAttr</span></code> attribute bindings</h3>
<p class="ng-scope">Web browsers are sometimes picky about what values they consider valid for attributes.</p>
<p class="ng-scope">For example, considering this template:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;svg&gt;</span><span class="pln">
  </span><span class="tag">&lt;circle</span><span class="pln"> </span><span class="atn">cx</span><span class="pun">=</span><span class="atv">"{{cx}}"</span><span class="tag">&gt;&lt;/circle&gt;</span><span class="pln">
</span><span class="tag">&lt;/svg&gt;</span></code></pre>
<p class="ng-scope">We would expect Angular to be able to bind to this, but when we check the console we see
something like <code><span class="typ">Error</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Invalid</span><span class="pln"> value </span><span class="kwd">for</span><span class="pln"> attribute cx</span><span class="pun">=</span><span class="str">"{{cx}}"</span></code>. Because of the SVG DOM API's
restrictions, you cannot simply write <code><span class="pln">cx</span><span class="pun">=</span><span class="str">"{{cx}}"</span></code>.</p>
<p class="ng-scope">With <code><span class="atn">ng-attr</span><span class="pun">-</span><span class="pln">cx</span></code> you can work around this problem.</p>
<p class="ng-scope">If an attribute with a binding is prefixed with the <code><span class="pln">ngAttr</span></code> prefix (denormalized as <code><span class="atn">ng-attr</span><span class="pun">-</span></code>)
then during the binding it will be applied to the corresponding unprefixed attribute. This allows
you to bind to attributes that would otherwise be eagerly processed by browsers
(e.g. an SVG element's <code><span class="pln">circle</span><span class="pun">[</span><span class="pln">cx</span><span class="pun">]</span></code> attributes). When using <code><span class="pln">ngAttr</span></code>, the <code><span class="pln">allOrNothing</span></code> flag of
<a href="https://docs.angularjs.org/api/ng/service/$interpolate">$interpolate</a> is used, so if any expression in the interpolated string
results in <code><span class="kwd">undefined</span></code>, the attribute is removed and not added to the element.</p>
<p class="ng-scope">For example, we could fix the example above by instead writing:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;svg&gt;</span><span class="pln">
  </span><span class="tag">&lt;circle</span><span class="pln"> </span><span class="atn">ng-attr-cx</span><span class="pun">=</span><span class="atv">"{{cx}}"</span><span class="tag">&gt;&lt;/circle&gt;</span><span class="pln">
</span><span class="tag">&lt;/svg&gt;</span></code></pre>
<p class="ng-scope">If one wants to modify a camelcased attribute (SVG elements have valid camelcased attributes), such as <code><span class="pln">viewBox</span></code> on the <code><span class="pln">svg</span></code> element, one can use underscores to denote that the attribute to bind to is naturally camelcased.</p>
<p class="ng-scope">For example, to bind to <code><span class="pln">viewBox</span></code>, we can write:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;svg</span><span class="pln"> </span><span class="atn">ng-attr-view_box</span><span class="pun">=</span><span class="atv">"{{viewBox}}"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/svg&gt;</span></code></pre>
<h2 id="creating-directives" class="ng-scope">Creating Directives</h2>
<p class="ng-scope">First let's talk about the <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#directive">API for registering directives</a>. Much like
controllers, directives are registered on modules. To register a directive, you use the
<code><span class="kwd">module</span><span class="pun">.</span><span class="pln">directive</span></code> API. <code><span class="kwd">module</span><span class="pun">.</span><span class="pln">directive</span></code> takes the
<a href="#directive#matching-directives">normalized</a> directive name
followed by a <strong>factory function.</strong> This factory function should return an object with the different
options to tell <code><span class="pln">$compile</span></code> how the directive should behave when matched.</p>
<p class="ng-scope">The factory function is invoked only once when the
<a href="https://docs.angularjs.org/api/ng/service/$compile">compiler</a> matches the directive for the first time. You can perform any
initialization work here. The function is invoked using
<a href="https://docs.angularjs.org/api/auto/service/$injector#invoke">$injector.invoke</a> which makes it injectable just like a
controller.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Prefer using the definition object over returning a function.
</div>


<p class="ng-scope">We'll go over a few common examples of directives, then dive deep into the different options
and compilation process.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> In order to avoid collisions with some future standard, it's best to prefix your own
directive names. For instance, if you created a <code><span class="tag">&lt;carousel&gt;</span></code> directive, it would be problematic if HTML7
introduced the same element. A two or three letter prefix (e.g. <code><span class="pln">btfCarousel</span></code>) works well. Similarly, do
not prefix your own directives with <code><span class="pln">ng</span></code> or they might conflict with directives included in a future
version of Angular.
</div>

<p class="ng-scope">For the following examples, we'll use the prefix <code><span class="kwd">my</span></code> (e.g. <code><span class="pln">myCustomer</span></code>).</p>
<h3 id="template-expanding-directive" class="ng-scope">Template-expanding directive</h3>
<p class="ng-scope">Let's say you have a chunk of your template that represents a customer's information. This template
is repeated many times in your code. When you change it in one place, you have to change it in
several others. This is a good opportunity to use a directive to simplify your template.</p>
<p class="ng-scope">Let's create a directive that simply replaces its contents with a static template:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example10&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example10" module="docsSimpleDirective"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsSimpleDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">customer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Naomi'</span><span class="pun">,</span><span class="pln">
    address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1600 Amphitheatre'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCustomer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Name: {{customer.name}} Address: {{customer.address}}'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">my-customer</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(2).html" name="example-example10"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Notice that we have bindings in this directive. After <code><span class="pln">$compile</span></code> compiles and links
<code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">my-customer</span><span class="tag">&gt;&lt;/div&gt;</span></code>, it will try to match directives on the element's children. This means you
can compose directives of other directives. We'll see how to do that in
<a href="#directive#creating-directives-that-communicate">an example</a>
below.</p>
<p class="ng-scope">In the example above we in-lined the value of the <code><span class="kwd">template</span></code> option, but this will become annoying
as the size of your template grows.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Unless your template is very small, it's typically better to break it apart into
its own HTML file and load it with the <code><span class="pln">templateUrl</span></code> option.
</div>

<p class="ng-scope">If you are familiar with <code><span class="pln">ngInclude</span></code>, <code><span class="pln">templateUrl</span></code> works just like it. Here's the same example
using <code><span class="pln">templateUrl</span></code> instead:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example11&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example11" module="docsTemplateUrlDirective"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-customer.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsTemplateUrlDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">customer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Naomi'</span><span class="pun">,</span><span class="pln">
    address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1600 Amphitheatre'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCustomer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-customer.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">my-customer</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-customer.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-customer.html</span>
      <pre><code><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span><span class="pln"> </span><span class="typ">Address</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(3).html" name="example-example11"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope"><code><span class="pln">templateUrl</span></code> can also be a function which returns the URL of an HTML template to be loaded and
used for the directive. Angular will call the <code><span class="pln">templateUrl</span></code> function with two parameters: the
element that the directive was called on, and an <code><span class="pln">attr</span></code> object associated with that element.</p>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> You do not currently have the ability to access scope variables from the <code><span class="pln">templateUrl</span></code>
function, since the template is requested before the scope is initialized.
</div>

<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example12&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example12" module="docsTemplateUrlDirective"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    customer-name.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    customer-address.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsTemplateUrlDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">customer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Naomi'</span><span class="pun">,</span><span class="pln">
    address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1600 Amphitheatre'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCustomer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> attr</span><span class="pun">){</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'customer-'</span><span class="pun">+</span><span class="pln">attr</span><span class="pun">.</span><span class="pln">type</span><span class="pun">+</span><span class="str">'.html'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">my-customer</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">my-customer</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"address"</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="customer-name.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">customer-name.html</span>
      <pre><code><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span></code></pre>
    </div>

    <div class="runnable-example-file" name="customer-address.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">customer-address.html</span>
      <pre><code><span class="typ">Address</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(4).html" name="example-example12"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> When you create a directive, it is restricted to attribute and elements only by default. In order to
create directives that are triggered by class name, you need to use the <code><span class="pln">restrict</span></code> option.
</div>

<p class="ng-scope">The <code><span class="pln">restrict</span></code> option is typically set to:</p>
<ul class="ng-scope">
<li><code><span class="str">'A'</span></code> - only matches attribute name</li>
<li><code><span class="str">'E'</span></code> - only matches element name</li>
<li><code><span class="str">'C'</span></code> - only matches class name</li>
</ul>
<p class="ng-scope">These restrictions can all be combined as needed:</p>
<ul class="ng-scope">
<li><code><span class="str">'AEC'</span></code> - matches either attribute or element or class name</li>
</ul>
<p class="ng-scope">Let's change our directive to use <code><span class="pln">restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span></code>:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example13&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example13" module="docsRestrictDirective"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-customer.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsRestrictDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">customer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Naomi'</span><span class="pun">,</span><span class="pln">
    address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1600 Amphitheatre'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCustomer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-customer.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-customer&gt;&lt;/my-customer&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-customer.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-customer.html</span>
      <pre><code><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span><span class="pln"> </span><span class="typ">Address</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(5).html" name="example-example13"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">For more on the
<a href="https://docs.angularjs.org/api/ng/service/$compile#directive-definition-object"><code><span class="pln">restrict</span></code></a>
property, see the
<a href="https://docs.angularjs.org/api/ng/service/$compile#directive-definition-object">API docs</a>.</p>
<div class="alert alert-info ng-scope">
<strong>When should I use an attribute versus an element?</strong>

Use an element when you are creating a component that is in control of the template. The common case
for this is when you are creating a Domain-Specific Language for parts of your template.

Use an attribute when you are decorating an existing element with new functionality.
</div>

<p class="ng-scope">Using an element for the <code><span class="pln">myCustomer</span></code> directive is clearly the right choice because you're not
decorating an element with some "customer" behavior; you're defining the core behavior of the
element as a customer component.</p>
<h3 id="isolating-the-scope-of-a-directive" class="ng-scope">Isolating the Scope of a Directive</h3>
<p class="ng-scope">Our <code><span class="pln">myCustomer</span></code> directive above is great, but it has a fatal flaw. We can only use it once within a
given scope.</p>
<p class="ng-scope">In its current implementation, we'd need to create a different controller each time in order to
re-use such a directive:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example14&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example14" module="docsScopeProblemExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-customer.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsScopeProblemExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'NaomiController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">customer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Naomi'</span><span class="pun">,</span><span class="pln">
    address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1600 Amphitheatre'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'IgorController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">customer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Igor'</span><span class="pun">,</span><span class="pln">
    address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'123 Somewhere'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCustomer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-customer.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"NaomiController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-customer&gt;&lt;/my-customer&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;hr&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"IgorController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-customer&gt;&lt;/my-customer&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-customer.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-customer.html</span>
      <pre><code><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span><span class="pln"> </span><span class="typ">Address</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(6).html" name="example-example14"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">This is clearly not a great solution.</p>
<p class="ng-scope">What we want to be able to do is separate the scope inside a directive from the scope
outside, and then map the outer scope to a directive's inner scope. We can do this by creating what
we call an <strong>isolate scope</strong>. To do this, we can use a directive's <code><span class="pln">scope</span></code> option:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example15&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example15" module="docsIsolateScopeDirective"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-customer-iso.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsIsolateScopeDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">naomi </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Naomi'</span><span class="pun">,</span><span class="pln"> address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1600 Amphitheatre'</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">igor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Igor'</span><span class="pun">,</span><span class="pln"> address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'123 Somewhere'</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCustomer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      customerInfo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'=info'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-customer-iso.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-customer</span><span class="pln"> </span><span class="atn">info</span><span class="pun">=</span><span class="atv">"naomi"</span><span class="tag">&gt;&lt;/my-customer&gt;</span><span class="pln">
  </span><span class="tag">&lt;hr&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-customer</span><span class="pln"> </span><span class="atn">info</span><span class="pun">=</span><span class="atv">"igor"</span><span class="tag">&gt;&lt;/my-customer&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-customer-iso.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-customer-iso.html</span>
      <pre><code><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customerInfo</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span><span class="pln"> </span><span class="typ">Address</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customerInfo</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(7).html" name="example-example15"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Looking at <code><span class="pln">index</span><span class="pun">.</span><span class="pln">html</span></code>, the first <code><span class="tag">&lt;my-customer&gt;</span></code> element binds the <code><span class="pln">info</span></code> attribute to <code><span class="pln">naomi</span></code>,
which we have exposed on our controller's scope. The second binds <code><span class="pln">info</span></code> to <code><span class="pln">igor</span></code>.</p>
<p class="ng-scope">Let's take a closer look at the scope option:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="com">//...</span><span class="pln">
scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  customerInfo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'=info'</span><span class="pln">
</span><span class="pun">},</span><span class="pln">
</span><span class="com">//...</span></code></pre>
<p class="ng-scope">The <strong>scope option</strong> is an object that contains a property for each isolate scope binding.  In this
case it has just one property:</p>
<ul class="ng-scope">
<li>Its name (<code><span class="pln">customerInfo</span></code>) corresponds to the
directive's <strong>isolate scope</strong> property <code><span class="pln">customerInfo</span></code>.</li>
<li>Its value (<code><span class="pun">=</span><span class="pln">info</span></code>) tells <code><span class="pln">$compile</span></code> to bind to the <code><span class="pln">info</span></code> attribute.</li>
</ul>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> These <code><span class="pun">=</span><span class="pln">attr</span></code> attributes in the <code><span class="pln">scope</span></code> option of directives are normalized just like
directive names. To bind to the attribute in <code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">bind-to-this</span><span class="pun">=</span><span class="atv">"thing"</span><span class="tag">&gt;</span></code>, you'd specify a binding
of <code><span class="pun">=</span><span class="pln">bindToThis</span></code>.
</div>

<p class="ng-scope">For cases where the attribute name is the same as the value you want to bind to inside the
directive's scope, you can use this shorthand syntax:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pun">...</span><span class="pln">
scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// same as '=customer'</span><span class="pln">
  customer</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pln">
</span><span class="pun">},</span><span class="pln">
</span><span class="pun">...</span></code></pre>
<p class="ng-scope">Besides making it possible to bind different data to the scope inside a directive, using an isolated
scope has another effect.</p>
<p class="ng-scope">We can show this by adding another property, <code><span class="pln">vojta</span></code>, to our scope and trying to access it from
within our directive's template:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example16&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example16" module="docsIsolationExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-customer-plus-vojta.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsIsolationExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">naomi </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Naomi'</span><span class="pun">,</span><span class="pln"> address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1600 Amphitheatre'</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">vojta </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Vojta'</span><span class="pun">,</span><span class="pln"> address</span><span class="pun">:</span><span class="pln"> </span><span class="str">'3456 Somewhere Else'</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCustomer'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      customerInfo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'=info'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-customer-plus-vojta.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-customer</span><span class="pln"> </span><span class="atn">info</span><span class="pun">=</span><span class="atv">"naomi"</span><span class="tag">&gt;&lt;/my-customer&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-customer-plus-vojta.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-customer-plus-vojta.html</span>
      <pre><code><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customerInfo</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span><span class="pln"> </span><span class="typ">Address</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">customerInfo</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span><span class="pln">
</span><span class="str">&lt;hr&gt;</span><span class="pln">
</span><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">vojta</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span><span class="pln"> </span><span class="typ">Address</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{{</span><span class="pln">vojta</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(8).html" name="example-example16"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Notice that <code><span class="pun">{{</span><span class="pln">vojta</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span></code> and <code><span class="pun">{{</span><span class="pln">vojta</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}}</span></code> are empty, meaning they are undefined.
Although we defined <code><span class="pln">vojta</span></code> in the controller, it's not available within the directive.</p>
<p class="ng-scope">As the name suggests, the <strong>isolate scope</strong> of the directive isolates everything except models that
you've explicitly added to the <code><span class="pln">scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{}</span></code> hash object. This is helpful when building reusable
components because it prevents a component from changing your model state except for the models
that you explicitly pass in.</p>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> Normally, a scope prototypically inherits from its parent. An isolated scope does not.
See the <a href="https://docs.angularjs.org/api/ng/service/$compile#directive-definition-object">"Directive Definition Object - scope"</a> section for more information about isolate scopes.
</div>

<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Use the <code><span class="pln">scope</span></code> option to create isolate scopes when making components that you
want to reuse throughout your app.
</div>


<h3 id="creating-a-directive-that-manipulates-the-dom" class="ng-scope">Creating a Directive that Manipulates the DOM</h3>
<p class="ng-scope">In this example we will build a directive that displays the current time.
Once a second, it updates the DOM to reflect the current time.</p>
<p class="ng-scope">Directives that want to modify the DOM typically use the <code><span class="pln">link</span></code> option.
<code><span class="pln">link</span></code> takes a function with the following signature, <code><span class="kwd">function</span><span class="pln"> link</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">}</span></code>
where:</p>
<ul class="ng-scope">
<li><code><span class="pln">scope</span></code> is an Angular scope object.</li>
<li><code><span class="pln">element</span></code> is the jqLite-wrapped element that this directive matches.</li>
<li><code><span class="pln">attrs</span></code> is a hash object with key-value pairs of normalized attribute names and their
corresponding attribute values.</li>
</ul>
<p class="ng-scope">In our <code><span class="pln">link</span></code> function, we want to update the displayed time once a second, or whenever a user
changes the time formatting string that our directive binds to. We will use the <code><span class="pln">$interval</span></code> service
to call a handler on a regular basis. This is easier than using <code><span class="pln">$timeout</span></code> but also works better with
end-to-end testing, where we want to ensure that all <code><span class="pln">$timeout</span></code>s have completed before completing the test.
We also want to remove the <code><span class="pln">$interval</span></code> if the directive is deleted so we don't introduce a memory leak.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example17&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example17" module="docsTimeDirective"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsTimeDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">format </span><span class="pun">=</span><span class="pln"> </span><span class="str">'M/d/yy h:mm:ss a'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myCurrentTime'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$interval'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'dateFilter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$interval</span><span class="pun">,</span><span class="pln"> dateFilter</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> link</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> format</span><span class="pun">,</span><span class="pln">
        timeoutId</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">function</span><span class="pln"> updateTime</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      element</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="pln">dateFilter</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Date</span><span class="pun">(),</span><span class="pln"> format</span><span class="pun">));</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    scope</span><span class="pun">.</span><span class="pln">$watch</span><span class="pun">(</span><span class="pln">attrs</span><span class="pun">.</span><span class="pln">myCurrentTime</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      format </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">;</span><span class="pln">
      updateTime</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    element</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'$destroy'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $interval</span><span class="pun">.</span><span class="pln">cancel</span><span class="pun">(</span><span class="pln">timeoutId</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    </span><span class="com">// start the UI update process; save the timeoutId for canceling</span><span class="pln">
    timeoutId </span><span class="pun">=</span><span class="pln"> $interval</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      updateTime</span><span class="pun">();</span><span class="pln"> </span><span class="com">// update DOM</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> link
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  Date format: </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"format"</span><span class="tag">&gt;</span><span class="pln"> </span><span class="tag">&lt;hr/&gt;</span><span class="pln">
  Current time is: </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">my-current-time</span><span class="pun">=</span><span class="atv">"format"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(9).html" name="example-example17"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">There are a couple of things to note here.
Just like the <code><span class="kwd">module</span><span class="pun">.</span><span class="pln">controller</span></code> API, the function argument in <code><span class="kwd">module</span><span class="pun">.</span><span class="pln">directive</span></code> is dependency
injected. Because of this, we can use <code><span class="pln">$interval</span></code> and <code><span class="pln">dateFilter</span></code> inside our directive's <code><span class="pln">link</span></code>
function.</p>
<p class="ng-scope">We register an event <code><span class="pln">element</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'$destroy'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...)</span></code>. What fires this <code><span class="pln">$destroy</span></code> event?</p>
<p class="ng-scope">There are a few special events that AngularJS emits. When a DOM node that has been compiled
with Angular's compiler is destroyed, it emits a <code><span class="pln">$destroy</span></code> event. Similarly, when an AngularJS
scope is destroyed, it broadcasts a <code><span class="pln">$destroy</span></code> event to listening scopes.</p>
<p class="ng-scope">By listening to this event, you can remove event listeners that might cause memory leaks.
Listeners registered to scopes and elements are automatically cleaned up when they are destroyed,
but if you registered a listener on a service, or registered a listener on a DOM node that isn't
being deleted, you'll have to clean it up yourself or you risk introducing a memory leak.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Directives should clean up after themselves. You can use
<code><span class="pln">element</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'$destroy'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...)</span></code> or <code><span class="pln">scope</span><span class="pun">.</span><span class="pln">$on</span><span class="pun">(</span><span class="str">'$destroy'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...)</span></code> to run a clean-up function when the
directive is removed.
</div>


<h3 id="creating-a-directive-that-wraps-other-elements" class="ng-scope">Creating a Directive that Wraps Other Elements</h3>
<p class="ng-scope">We've seen that you can pass in models to a directive using the isolate scope, but sometimes
it's desirable to be able to pass in an entire template rather than a string or an object.
Let's say that we want to create a "dialog box" component. The dialog box should be able to
wrap any arbitrary content.</p>
<p class="ng-scope">To do this, we need to use the <code><span class="pln">transclude</span></code> option.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example18&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example18" module="docsTransclusionDirective"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-dialog.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsTransclusionDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Tobias'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myDialog'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-dialog.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-dialog&gt;</span><span class="pln">Check out the contents, {{name}}!</span><span class="tag">&lt;/my-dialog&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-dialog.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-dialog.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"alert"</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(10).html" name="example-example18"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">What does this <code><span class="pln">transclude</span></code> option do, exactly? <code><span class="pln">transclude</span></code> makes the contents of a directive with
this option have access to the scope <strong>outside</strong> of the directive rather than inside.</p>
<p class="ng-scope">To illustrate this, see the example below. Notice that we've added a <code><span class="pln">link</span></code> function in <code><span class="pln">script</span><span class="pun">.</span><span class="pln">js</span></code>
that redefines <code><span class="pln">name</span></code> as <code><span class="typ">Jeff</span></code>. What do you think the <code><span class="pun">{{</span><span class="pln">name</span><span class="pun">}}</span></code> binding will resolve to now?</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example19&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example19" module="docsTransclusionExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-dialog.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsTransclusionExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Tobias'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myDialog'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-dialog.html'</span><span class="pun">,</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Jeff'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-dialog&gt;</span><span class="pln">Check out the contents, {{name}}!</span><span class="tag">&lt;/my-dialog&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-dialog.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-dialog.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"alert"</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(11).html" name="example-example19"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Ordinarily, we would expect that <code><span class="pun">{{</span><span class="pln">name</span><span class="pun">}}</span></code> would be <code><span class="typ">Jeff</span></code>. However, we see in this example that
the <code><span class="pun">{{</span><span class="pln">name</span><span class="pun">}}</span></code> binding is still <code><span class="typ">Tobias</span></code>.</p>
<p class="ng-scope">The <code><span class="pln">transclude</span></code> option changes the way scopes are nested. It makes it so that the <strong>contents</strong> of a
transcluded directive have whatever scope is outside the directive, rather than whatever scope is on
the inside. In doing so, it gives the contents access to the outside scope.</p>
<p class="ng-scope">Note that if the directive did not create its own scope, then <code><span class="pln">scope</span></code> in <code><span class="pln">scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Jeff'</span><span class="pun">;</span></code> would
reference the outside scope and we would see <code><span class="typ">Jeff</span></code> in the output.</p>
<p class="ng-scope">This behavior makes sense for a directive that wraps some content, because otherwise you'd have to
pass in each model you wanted to use separately. If you have to pass in each model that you want to
use, then you can't really have arbitrary contents, can you?</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> only use <code><span class="pln">transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span></code> when you want to create a directive that wraps
arbitrary content.
</div>

<p class="ng-scope">Next, we want to add buttons to this dialog box, and allow someone using the directive to bind their
own behavior to it.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example20&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example20" module="docsIsoFnBindExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-dialog-close.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsIsoFnBindExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'Controller'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$timeout'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $timeout</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Tobias'</span><span class="pun">;</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">hideDialog </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">dialogIsHidden </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    $timeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">dialogIsHidden </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="lit">2000</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myDialog'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="str">'close'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;onClose'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-dialog-close.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"Controller"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-dialog</span><span class="pln"> </span><span class="atn">ng-hide</span><span class="pun">=</span><span class="atv">"dialogIsHidden"</span><span class="pln"> </span><span class="atn">on-close</span><span class="pun">=</span><span class="atv">"hideDialog()"</span><span class="tag">&gt;</span><span class="pln">
    Check out the contents, {{name}}!
  </span><span class="tag">&lt;/my-dialog&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-dialog-close.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-dialog-close.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"alert"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"close"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"close()"</span><span class="tag">&gt;</span><span class="pln">&amp;times;</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(13).html" name="example-example20"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">We want to run the function we pass by invoking it from the directive's scope, but have it run
in the context of the scope where it's registered.</p>
<p class="ng-scope">We saw earlier how to use <code><span class="pun">=</span><span class="pln">attr</span></code> in the <code><span class="pln">scope</span></code> option, but in the above example, we're using
<code><span class="pun">&amp;</span><span class="pln">attr</span></code> instead.  The <code><span class="pun">&amp;</span></code> binding allows a directive to trigger evaluation of an expression in
the context of the original scope, at a specific time.  Any legal expression is allowed, including
an expression which contains a function call.  Because of this, <code><span class="pun">&amp;</span></code> bindings are ideal for binding
callback functions to directive behaviors.</p>
<p class="ng-scope">When the user clicks the <code><span class="pln">x</span></code> in the dialog, the directive's <code><span class="pln">close</span></code> function is called, thanks to
<code><span class="atn">ng-click</span><span class="pun">.</span></code>  This call to <code><span class="pln">close</span></code> on the isolated scope actually evaluates the expression
<code><span class="pln">hideDialog</span><span class="pun">()</span></code> in the context of the original scope, thus running <code><span class="typ">Controller</span></code>'s <code><span class="pln">hideDialog</span></code>
function.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> use <code><span class="pun">&amp;</span><span class="pln">attr</span></code> in the <code><span class="pln">scope</span></code> option when you want your directive
to expose an API for binding to behaviors.
</div>


<h3 id="creating-a-directive-that-adds-event-listeners" class="ng-scope">Creating a Directive that Adds Event Listeners</h3>
<p class="ng-scope">Previously, we used the <code><span class="pln">link</span></code> function to create a directive that manipulated its
DOM elements. Building upon that example, let's make a directive that reacts to events on
its elements.</p>
<p class="ng-scope">For instance, what if we wanted to create a directive that lets a user drag an
element?</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example21&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example21" module="dragModule"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'dragModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myDraggable'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$document'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$document</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> startX </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> startY </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

    element</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln">
     position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'relative'</span><span class="pun">,</span><span class="pln">
     border</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1px solid red'</span><span class="pun">,</span><span class="pln">
     backgroundColor</span><span class="pun">:</span><span class="pln"> </span><span class="str">'lightgrey'</span><span class="pun">,</span><span class="pln">
     cursor</span><span class="pun">:</span><span class="pln"> </span><span class="str">'pointer'</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    element</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'mousedown'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// Prevent default dragging of selected content</span><span class="pln">
      </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span><span class="pln">
      startX </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">pageX </span><span class="pun">-</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
      startY </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">pageY </span><span class="pun">-</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'mousemove'</span><span class="pun">,</span><span class="pln"> mousemove</span><span class="pun">);</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'mouseup'</span><span class="pun">,</span><span class="pln"> mouseup</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    </span><span class="kwd">function</span><span class="pln"> mousemove</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      y </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">pageY </span><span class="pun">-</span><span class="pln"> startY</span><span class="pun">;</span><span class="pln">
      x </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">pageX </span><span class="pun">-</span><span class="pln"> startX</span><span class="pun">;</span><span class="pln">
      element</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln">
        top</span><span class="pun">:</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> </span><span class="str">'px'</span><span class="pun">,</span><span class="pln">
        left</span><span class="pun">:</span><span class="pln">  x </span><span class="pun">+</span><span class="pln"> </span><span class="str">'px'</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">function</span><span class="pln"> mouseup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">off</span><span class="pun">(</span><span class="str">'mousemove'</span><span class="pun">,</span><span class="pln"> mousemove</span><span class="pun">);</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">off</span><span class="pun">(</span><span class="str">'mouseup'</span><span class="pun">,</span><span class="pln"> mouseup</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">my-draggable</span><span class="tag">&gt;</span><span class="pln">Drag ME</span><span class="tag">&lt;/span&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(14).html" name="example-example21"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h3 id="creating-directives-that-communicate" class="ng-scope">Creating Directives that Communicate</h3>
<p class="ng-scope">You can compose any directives by using them within templates.</p>
<p class="ng-scope">Sometimes, you want a component that's built from a combination of directives.</p>
<p class="ng-scope">Imagine you want to have a container with tabs in which the contents of the container correspond
to which tab is active.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example22&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example22" module="docsTabsExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-tabs.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    my-pane.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'docsTabsExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myTabs'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> panes </span><span class="pun">=</span><span class="pln"> $scope</span><span class="pun">.</span><span class="pln">panes </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">

      $scope</span><span class="pun">.</span><span class="kwd">select</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">pane</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        angular</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">panes</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">pane</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          pane</span><span class="pun">.</span><span class="pln">selected </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">});</span><span class="pln">
        pane</span><span class="pun">.</span><span class="pln">selected </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">

      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">addPane </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">pane</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">panes</span><span class="pun">.</span><span class="pln">length </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          $scope</span><span class="pun">.</span><span class="kwd">select</span><span class="pun">(</span><span class="pln">pane</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        panes</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">pane</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-tabs.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myPane'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">require</span><span class="pun">:</span><span class="pln"> </span><span class="str">'^myTabs'</span><span class="pun">,</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      title</span><span class="pun">:</span><span class="pln"> </span><span class="str">'@'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> tabsCtrl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      tabsCtrl</span><span class="pun">.</span><span class="pln">addPane</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-pane.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;my-tabs&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-pane</span><span class="pln"> </span><span class="atn">title</span><span class="pun">=</span><span class="atv">"Hello"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;h4&gt;</span><span class="pln">Hello</span><span class="tag">&lt;/h4&gt;</span><span class="pln">
    </span><span class="tag">&lt;p&gt;</span><span class="pln">Lorem ipsum dolor sit amet</span><span class="tag">&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;/my-pane&gt;</span><span class="pln">
  </span><span class="tag">&lt;my-pane</span><span class="pln"> </span><span class="atn">title</span><span class="pun">=</span><span class="atv">"World"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;h4&gt;</span><span class="pln">World</span><span class="tag">&lt;/h4&gt;</span><span class="pln">
    </span><span class="tag">&lt;em&gt;</span><span class="pln">Mauris elementum elementum enim at suscipit.</span><span class="tag">&lt;/em&gt;</span><span class="pln">
    </span><span class="tag">&lt;p&gt;&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"i = i + 1"</span><span class="tag">&gt;</span><span class="pln">counter: {{i || 0}}</span><span class="tag">&lt;/a&gt;&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;/my-pane&gt;</span><span class="pln">
</span><span class="tag">&lt;/my-tabs&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-tabs.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-tabs.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"tabbable"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"nav nav-tabs"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;li</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"pane in panes"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{active:pane.selected}"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">""</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"select(pane)"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">pane.title</span><span class="ang">}}</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ul&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"tab-content"</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="my-pane.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">my-pane.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"tab-pane"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"selected"</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(15).html" name="example-example22"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">The <code><span class="pln">myPane</span></code> directive has a <code><span class="kwd">require</span></code> option with value <code><span class="pun">^</span><span class="pln">myTabs</span></code>. When a directive uses this
option, <code><span class="pln">$compile</span></code> will throw an error unless the specified controller is found. The <code><span class="pun">^</span></code> prefix
means that this directive searches for the controller on its parents (without the <code><span class="pun">^</span></code> prefix, the
directive would look for the controller on just its own element).</p>
<p class="ng-scope">So where does this <code><span class="pln">myTabs</span></code> controller come from? Directives can specify controllers using
the unsurprisingly named <code><span class="pln">controller</span></code> option. As you can see, the <code><span class="pln">myTabs</span></code> directive uses this
option. Just like <code><span class="pln">ngController</span></code>, this option attaches a controller to the template of the directive.</p>
<p class="ng-scope">If it is necessary to reference the controller or any functions bound to the controller's scope in
the template, you can use the option <code><span class="pln">controllerAs</span></code> to specify the name of the controller as an alias.
The directive needs to define a scope for this configuration to be used. This is particularly useful
in the case when the directive is used as a component.</p>
<p class="ng-scope">Looking back at <code><span class="pln">myPane</span></code>'s definition, notice the last argument in its <code><span class="pln">link</span></code> function: <code><span class="pln">tabsCtrl</span></code>.
When a directive requires a controller, it receives that controller as the fourth argument of its
<code><span class="pln">link</span></code> function. Taking advantage of this, <code><span class="pln">myPane</span></code> can call the <code><span class="pln">addPane</span></code> function of <code><span class="pln">myTabs</span></code>.</p>
<p class="ng-scope">If multiple controllers are required, the <code><span class="kwd">require</span></code> option of the directive can take an array argument.
The corresponding parameter being sent to the <code><span class="pln">link</span></code> function will also be an array.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'docsTabsExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myPane'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    require</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'^myTabs'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'^ngModel'</span><span class="pun">],</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      title</span><span class="pun">:</span><span class="pln"> </span><span class="str">'@'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">,</span><span class="pln"> controllers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> tabsCtrl </span><span class="pun">=</span><span class="pln"> controllers</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln">
          modelCtrl </span><span class="pun">=</span><span class="pln"> controllers</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">

      tabsCtrl</span><span class="pun">.</span><span class="pln">addPane</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-pane.html'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Savvy readers may be wondering what the difference is between <code><span class="pln">link</span></code> and <code><span class="pln">controller</span></code>.
The basic difference is that <code><span class="pln">controller</span></code> can expose an API, and <code><span class="pln">link</span></code> functions can interact with
controllers using <code><span class="kwd">require</span></code>.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> use <code><span class="pln">controller</span></code> when you want to expose an API to other directives.
Otherwise use <code><span class="pln">link</span></code>.
</div>

<h3 id="summary" class="ng-scope">Summary</h3>
<p class="ng-scope">Here we've seen the main use cases for directives. Each of these samples acts as a good starting
point for creating your own directives.</p>
<p class="ng-scope">You might also be interested in an in-depth explanation of the compilation process that's
available in the <a href="#compiler">compiler guide</a>.</p>
<p class="ng-scope">The <a href="https://docs.angularjs.org/api/ng/service/$compile"><code><span class="pln">$compile</span></code> API</a> page has a comprehensive list of directive options for
reference.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="animations" class="document-section"><span class="guide-doc">Animations</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/animations.ngdoc?message=docs(guide%2FAnimations)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="animations" class="ng-scope">Animations</h1>
<p class="ng-scope">AngularJS 1.3 provides animation hooks for common directives such as <code><span class="pln">ngRepeat</span></code>, <code><span class="pln">ngSwitch</span></code>, and <code><span class="pln">ngView</span></code>, as well as custom directives
via the <code><span class="pln">$animate</span></code> service. These animation hooks are set in place to trigger animations during the life cycle of various directives and when
triggered, will attempt to perform a CSS Transition, CSS Keyframe Animation or a JavaScript callback Animation (depending on if an animation is
placed on the given directive). Animations can be placed using vanilla CSS by following the naming conventions set in place by AngularJS
or with JavaScript code when it's defined as a factory.</p>
<p class="ng-scope">Animations are not available unless you include the <a href="https://docs.angularjs.org/api/ngAnimate"><code><span class="pln">ngAnimate</span></code> module</a> as a dependency within your application.</p>
<p class="ng-scope">Below is a quick example of animations being enabled for <code><span class="pln">ngShow</span></code> and <code><span class="pln">ngHide</span></code>:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example3&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example3" module="ngAnimate" deps="angular-animate.js" animations="true"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    animations.css  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-init</span><span class="pun">=</span><span class="atv">"checked=true"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;label&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"checkbox"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"checked"</span><span class="pln"> </span><span class="atn">style</span><span class="pun">=</span><span class="atv">"</span><span class="kwd">float</span><span class="pun">:</span><span class="pln">left</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">margin-right</span><span class="pun">:</span><span class="lit">10px</span><span class="pun">;</span><span class="atv">"</span><span class="tag">&gt;</span><span class="pln"> Is Visible...
  </span><span class="tag">&lt;/label&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"check-element sample-show-hide"</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"checked"</span><span class="pln"> </span><span class="atn">style</span><span class="pun">=</span><span class="atv">"</span><span class="kwd">clear</span><span class="pun">:</span><span class="pln">both</span><span class="pun">;</span><span class="atv">"</span><span class="tag">&gt;</span><span class="pln">
    Visible...
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="animations.css" language="css" type="css" style=""><span style="font-size: 22px; font-family: Share-Bold;">animations.css</span>
      <pre><code><span class="pun">.</span><span class="pln">sample</span><span class="pun">-</span><span class="pln">show</span><span class="pun">-</span><span class="pln">hide </span><span class="pun">{</span><span class="pln">
  padding</span><span class="pun">:</span><span class="lit">10px</span><span class="pun">;</span><span class="pln">
  border</span><span class="pun">:</span><span class="lit">1px</span><span class="pln"> solid black</span><span class="pun">;</span><span class="pln">
  background</span><span class="pun">:</span><span class="pln">white</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">.</span><span class="pln">sample</span><span class="pun">-</span><span class="pln">show</span><span class="pun">-</span><span class="pln">hide </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">-</span><span class="pln">webkit</span><span class="pun">-</span><span class="pln">transition</span><span class="pun">:</span><span class="pln">all linear </span><span class="lit">0.5s</span><span class="pun">;</span><span class="pln">
  transition</span><span class="pun">:</span><span class="pln">all linear </span><span class="lit">0.5s</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">.</span><span class="pln">sample</span><span class="pun">-</span><span class="pln">show</span><span class="pun">-</span><span class="pln">hide</span><span class="pun">.</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">hide </span><span class="pun">{</span><span class="pln">
  opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(23).html" name="example-example3"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="installation" class="ng-scope">Installation</h2>
<p class="ng-scope">See the <a href="https://docs.angularjs.org/api/ngAnimate">API docs for <code><span class="pln">ngAnimate</span></code></a> for instructions on installing the module.</p>
<p class="ng-scope">You may also want to setup a separate CSS file for defining CSS-based animations.</p>
<h2 id="how-they-work" class="ng-scope">How they work</h2>
<p class="ng-scope">Animations in AngularJS are completely based on CSS classes. As long as you have a CSS class attached to a HTML element within
your website, you can apply animations to it. Lets say for example that we have an HTML template with a repeater in it like so:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"item in items"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"repeated-item"</span><span class="tag">&gt;</span><span class="pln">
  {{ item.id }}
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">As you can see, the <code><span class="pun">.</span><span class="pln">repeated</span><span class="pun">-</span><span class="pln">item</span></code> class is present on the element that will be repeated and this class will be
used as a reference within our application's CSS and/or JavaScript animation code to tell AngularJS to perform an animation.</p>
<p class="ng-scope">As ngRepeat does its thing, each time a new item is added into the list, ngRepeat will add
a <code><span class="atn">ng-enter</span></code> class name to the element that is being added. When removed it will apply a <code><span class="atn">ng-leave</span></code> class name and when moved around
it will apply a <code><span class="atn">ng-move</span></code> class name.</p>
<p class="ng-scope">Taking a look at the following CSS code, we can see some transition and keyframe animation code set for each of those events that
occur when ngRepeat triggers them:</p>
<pre class="ng-scope"><code class="lang-css" style="font-weight: bold; color: black;"><span class="com">/*
  We're using CSS transitions for when
  the enter and move events are triggered
  for the element that has the .repeated-item
  class
*/</span><span class="pln">
</span><span class="pun">.</span><span class="pln">repeated-item</span><span class="pun">.</span><span class="pln">ng-enter</span><span class="pun">,</span><span class="pln"> </span><span class="pun">.</span><span class="pln">repeated-item</span><span class="pun">.</span><span class="pln">ng-move </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">-webkit-transition</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> linear all</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">-moz-transition</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> linear all</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">-o-transition</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> linear all</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">transition</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> linear all</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">/*
 The ng-enter-active and ng-move-active
 are where the transition destination properties
 are set so that the animation knows what to
 animate.
*/</span><span class="pln">
</span><span class="pun">.</span><span class="pln">repeated-item</span><span class="pun">.</span><span class="pln">ng-enter</span><span class="pun">.</span><span class="pln">ng-enter-active</span><span class="pun">,</span><span class="pln">
</span><span class="pun">.</span><span class="pln">repeated-item</span><span class="pun">.</span><span class="pln">ng-move</span><span class="pun">.</span><span class="pln">ng-move-active </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">/*
  We're using CSS keyframe animations for when
  the leave event is triggered for the element
  that has the .repeated-item class
*/</span><span class="pln">
</span><span class="pun">.</span><span class="pln">repeated-item</span><span class="pun">.</span><span class="pln">ng-leave </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">-webkit-animation</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> my_animation</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">-moz-animation</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> my_animation</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">-o-animation</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> my_animation</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">animation</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> my_animation</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">@</span><span class="pln">keyframes my_animation </span><span class="pun">{</span><span class="pln">
  from </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  to </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">/*
  Unfortunately each browser vendor requires
  its own definition of keyframe animation code...
*/</span><span class="pln">
</span><span class="pun">@-</span><span class="pln">webkit-keyframes my_animation </span><span class="pun">{</span><span class="pln">
  from </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  to </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">@-</span><span class="pln">moz-keyframes my_animation </span><span class="pun">{</span><span class="pln">
  from </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  to </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">@-</span><span class="pln">o-keyframes my_animation </span><span class="pun">{</span><span class="pln">
  from </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  to </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">The same approach to animation can be used using JavaScript code (<strong>jQuery is used within to perform animations</strong>):</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">myModule</span><span class="pun">.</span><span class="pln">animation</span><span class="pun">(</span><span class="str">'.repeated-item'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    enter </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> done</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      element</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'opacity'</span><span class="pun">,</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
      jQuery</span><span class="pun">(</span><span class="pln">element</span><span class="pun">).</span><span class="pln">animate</span><span class="pun">({</span><span class="pln">
        opacity</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> done</span><span class="pun">);</span><span class="pln">

      </span><span class="com">// optional onDone or onCancel callback</span><span class="pln">
      </span><span class="com">// function to handle any post-animation</span><span class="pln">
      </span><span class="com">// cleanup operations</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">isCancelled</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">isCancelled</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          jQuery</span><span class="pun">(</span><span class="pln">element</span><span class="pun">).</span><span class="pln">stop</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    leave </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> done</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      element</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'opacity'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
      jQuery</span><span class="pun">(</span><span class="pln">element</span><span class="pun">).</span><span class="pln">animate</span><span class="pun">({</span><span class="pln">
        opacity</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> done</span><span class="pun">);</span><span class="pln">

      </span><span class="com">// optional onDone or onCancel callback</span><span class="pln">
      </span><span class="com">// function to handle any post-animation</span><span class="pln">
      </span><span class="com">// cleanup operations</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">isCancelled</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">isCancelled</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          jQuery</span><span class="pun">(</span><span class="pln">element</span><span class="pun">).</span><span class="pln">stop</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    move </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> done</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      element</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'opacity'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
      jQuery</span><span class="pun">(</span><span class="pln">element</span><span class="pun">).</span><span class="pln">animate</span><span class="pun">({</span><span class="pln">
        opacity</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> done</span><span class="pun">);</span><span class="pln">

      </span><span class="com">// optional onDone or onCancel callback</span><span class="pln">
      </span><span class="com">// function to handle any post-animation</span><span class="pln">
      </span><span class="com">// cleanup operations</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">isCancelled</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">isCancelled</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          jQuery</span><span class="pun">(</span><span class="pln">element</span><span class="pun">).</span><span class="pln">stop</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">

    </span><span class="com">// you can also capture these animation events</span><span class="pln">
    addClass </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> className</span><span class="pun">,</span><span class="pln"> done</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    removeClass </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> className</span><span class="pun">,</span><span class="pln"> done</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">With these generated CSS class names present on the element at the time, AngularJS automatically
figures out whether to perform a CSS and/or JavaScript animation. If both CSS and JavaScript animation
code is present, and match the CSS class name on the element, then AngularJS will run both animations at the same time.</p>
<h2 id="class-and-ngclass-animation-hooks" class="ng-scope">Class and ngClass animation hooks</h2>
<p class="ng-scope">AngularJS also pays attention to CSS class changes on elements by triggering the <strong>add</strong> and <strong>remove</strong> hooks.
This means that if a CSS class is added to or removed from an element then an animation can be executed in between,
before the CSS class addition or removal is finalized. (Keep in mind that AngularJS will only be
able to capture class changes if an <strong>expression</strong> or the <strong>ng-class</strong> directive is used on the element.)</p>
<p class="ng-scope">The example below shows how to perform animations during class changes:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example4&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example4" module="ngAnimate" deps="angular-animate.js" animations="true"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    style.css  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;p&gt;</span><span class="pln">
  </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"set"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"myCssVar='css-class'"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"clear"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"myCssVar=''"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;br&gt;</span><span class="pln">
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"myCssVar"</span><span class="tag">&gt;</span><span class="pln">CSS-Animated Text</span><span class="tag">&lt;/span&gt;</span><span class="pln">
</span><span class="tag">&lt;/p&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="style.css" language="css" type="css" style=""><span style="font-size: 22px; font-family: Share-Bold;">style.css</span>
      <pre><code><span class="pun">.</span><span class="pln">css</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add</span><span class="pun">,</span><span class="pln"> </span><span class="pun">.</span><span class="pln">css</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">remove </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">-</span><span class="pln">webkit</span><span class="pun">-</span><span class="pln">transition</span><span class="pun">:</span><span class="pln">all cubic</span><span class="pun">-</span><span class="pln">bezier</span><span class="pun">(</span><span class="lit">0.250</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.460</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.450</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.940</span><span class="pun">)</span><span class="pln"> </span><span class="lit">0.5s</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">-</span><span class="pln">moz</span><span class="pun">-</span><span class="pln">transition</span><span class="pun">:</span><span class="pln">all cubic</span><span class="pun">-</span><span class="pln">bezier</span><span class="pun">(</span><span class="lit">0.250</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.460</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.450</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.940</span><span class="pun">)</span><span class="pln"> </span><span class="lit">0.5s</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">-</span><span class="pln">o</span><span class="pun">-</span><span class="pln">transition</span><span class="pun">:</span><span class="pln">all cubic</span><span class="pun">-</span><span class="pln">bezier</span><span class="pun">(</span><span class="lit">0.250</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.460</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.450</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.940</span><span class="pun">)</span><span class="pln"> </span><span class="lit">0.5s</span><span class="pun">;</span><span class="pln">
  transition</span><span class="pun">:</span><span class="pln">all cubic</span><span class="pun">-</span><span class="pln">bezier</span><span class="pun">(</span><span class="lit">0.250</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.460</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.450</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0.940</span><span class="pun">)</span><span class="pln"> </span><span class="lit">0.5s</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">.</span><span class="pln">css</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">,</span><span class="pln">
</span><span class="pun">.</span><span class="pln">css</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add</span><span class="pun">.</span><span class="pln">css</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add</span><span class="pun">-</span><span class="pln">active </span><span class="pun">{</span><span class="pln">
  color</span><span class="pun">:</span><span class="pln"> red</span><span class="pun">;</span><span class="pln">
  font</span><span class="pun">-</span><span class="pln">size</span><span class="pun">:</span><span class="lit">3em</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">.</span><span class="pln">css</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">remove</span><span class="pun">.</span><span class="pln">css</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">remove</span><span class="pun">-</span><span class="pln">active </span><span class="pun">{</span><span class="pln">
  font</span><span class="pun">-</span><span class="pln">size</span><span class="pun">:</span><span class="lit">1.0em</span><span class="pun">;</span><span class="pln">
  color</span><span class="pun">:</span><span class="pln">black</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(34).html" name="example-example4"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Although the CSS is a little different then what we saw before, the idea is the same.</p>
<h2 id="which-directives-support-animations-" class="ng-scope">Which directives support animations?</h2>
<p class="ng-scope">A handful of common AngularJS directives support and trigger animation hooks whenever any major event occurs during its life cycle.
The table below explains in detail which animation events are triggered</p>
<table class="ng-scope table table-bordered table-striped code-table">
<thead>
<tr>
<th>Directive</th>
<th>Supported Animations</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.angularjs.org/api/ng/directive/ngRepeat#animations">ngRepeat</a></td>
<td>enter, leave, and move</td>
</tr>
<tr>
<td><a href="https://docs.angularjs.org/api/ngRoute/directive/ngView#animations">ngView</a></td>
<td>enter and leave</td>
</tr>
<tr>
<td><a href="https://docs.angularjs.org/api/ng/directive/ngInclude#animations">ngInclude</a></td>
<td>enter and leave</td>
</tr>
<tr>
<td><a href="https://docs.angularjs.org/api/ng/directive/ngSwitch#animations">ngSwitch</a></td>
<td>enter and leave</td>
</tr>
<tr>
<td><a href="https://docs.angularjs.org/api/ng/directive/ngIf#animations">ngIf</a></td>
<td>enter and leave</td>
</tr>
<tr>
<td><a href="https://docs.angularjs.org/api/ng/directive/ngClass#animations" class="ng-binding">ngClass or </a></td>
<td>add and remove</td>
</tr>
<tr>
<td><a href="https://docs.angularjs.org/api/ng/directive/ngShow#animations">ngShow &amp; ngHide</a></td>
<td>add and remove (the ng-hide class value)</td>
</tr>
</tbody>
</table>
<p class="ng-scope">For a full breakdown of the steps involved during each animation event, refer to the <a href="https://docs.angularjs.org/api/ngAnimate/service/$animate">API docs</a>.</p>
<h2 id="how-do-i-use-animations-in-my-own-directives-" class="ng-scope">How do I use animations in my own directives?</h2>
<p class="ng-scope">Animations within custom directives can also be established by injecting <code><span class="pln">$animate</span></code> directly into your directive and
making calls to it when needed.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">myModule</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'my-directive'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$animate'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$animate</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    element</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">hasClass</span><span class="pun">(</span><span class="str">'clicked'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $animate</span><span class="pun">.</span><span class="pln">removeClass</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> </span><span class="str">'clicked'</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $animate</span><span class="pun">.</span><span class="pln">addClass</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> </span><span class="str">'clicked'</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<h2 id="more-about-animations" class="ng-scope">More about animations</h2>
<p class="ng-scope">For a full breakdown of each method available on <code><span class="pln">$animate</span></code>, see the <a href="https://docs.angularjs.org/api/ngAnimate/service/$animate">API documentation</a>.</p>
<p class="ng-scope">To see a complete demo, see the <a href="https://docs.angularjs.org/tutorial/step_12">animation step within the AngularJS phonecat tutorial</a>.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="module" class="document-section"><span class="guide-doc">Modules</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/module.ngdoc?message=docs(guide%2FModules)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="what-is-a-module-" class="ng-scope">What is a Module?</h1>
<p class="ng-scope">You can think of a module as a container for the different parts of your app  controllers,
services, filters, directives, etc.</p>
<h1 id="why-" class="ng-scope">Why?</h1>
<p class="ng-scope">Most applications have a main method that instantiates and wires together the different parts of
the application.</p>
<p class="ng-scope">Angular apps don't have a main method. Instead modules declaratively specify how an application
should be bootstrapped. There are several advantages to this approach:</p>
<ul class="ng-scope">
<li>The declarative process is easier to understand.</li>
<li>You can package code as reusable modules.</li>
<li>The modules can be loaded in any order (or even in parallel) because modules delay execution.</li>
<li>Unit tests only have to load relevant modules, which keeps them fast.</li>
<li>End-to-end tests can use modules to override configuration.</li>
</ul>
<h1 id="the-basics" class="ng-scope">The Basics</h1>
<p class="ng-scope">I'm in a hurry. How do I get a Hello World module working?</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example39&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example39" ng-app-included="true"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"myApp"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    {{ 'World' | greet }}
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="com">// declare a module</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> myAppModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// configure the module.</span><span class="pln">
</span><span class="com">// in this example we will create a greeting filter</span><span class="pln">
myAppModule</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="str">'greet'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'Hello, '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">'!'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should add Hello to the name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">"'World' | greet"</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Hello, World!'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(33).html" name="example-example39"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">Important things to notice:</p>
<ul class="ng-scope">
<li>The <a href="https://docs.angularjs.org/api/ng/type/angular.Module">Module</a> API</li>
<li>The reference to <code><span class="pln">myApp</span></code> module in <code><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"myApp"</span><span class="tag">&gt;</span></code>.
This is what bootstraps the app using your module.</li>
<li>The empty array in <code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span></code>.
This array is the list of modules <code><span class="pln">myApp</span></code> depends on.</li>
</ul>
<h1 id="recommended-setup" class="ng-scope">Recommended Setup</h1>
<p class="ng-scope">While the example above is simple, it will not scale to large applications. Instead we recommend
that you break your application to multiple modules like this:</p>
<ul class="ng-scope">
<li>A module for each feature</li>
<li>A module for each reusable component (especially directives and filters)</li>
<li>And an application level module which depends on the above modules and contains any
initialization code.</li>
</ul>
<p class="ng-scope">We've also
<a href="http://blog.angularjs.org/2014/02/an-angularjs-style-guide-and-best.html">written a document</a>
on how we organize large apps at Google.</p>
<p class="ng-scope">The above is a suggestion. Tailor it to your needs.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example40&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example40" module="xmpl"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"XmplController"</span><span class="tag">&gt;</span><span class="pln">
  {{ greeting }}
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'xmpl.service'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">

  </span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'greeter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    salutation</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Hello'</span><span class="pun">,</span><span class="pln">
    localize</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">localization</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">salutation </span><span class="pun">=</span><span class="pln"> localization</span><span class="pun">.</span><span class="pln">salutation</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    greet</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">salutation </span><span class="pun">+</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">'!'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">})</span><span class="pln">

  </span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'user'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    load</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'xmpl.directive'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'xmpl.filter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'xmpl'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'xmpl.service'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'xmpl.directive'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'xmpl.filter'</span><span class="pun">])</span><span class="pln">

  </span><span class="pun">.</span><span class="pln">run</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">greeter</span><span class="pun">,</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// This is effectively part of the main method initialization code</span><span class="pln">
    greeter</span><span class="pun">.</span><span class="pln">localize</span><span class="pun">({</span><span class="pln">
      salutation</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Bonjour'</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    user</span><span class="pun">.</span><span class="pln">load</span><span class="pun">(</span><span class="str">'World'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">})</span><span class="pln">

  </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'XmplController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> greeter</span><span class="pun">,</span><span class="pln"> user</span><span class="pun">){</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">greeting </span><span class="pun">=</span><span class="pln"> greeter</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">(</span><span class="pln">user</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="pln">it</span><span class="pun">(</span><span class="str">'should add Hello to the name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">"greeting"</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'Bonjour World!'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(35).html" name="example-example40"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="module-loading-dependencies" class="ng-scope">Module Loading &amp; Dependencies</h1>
<p class="ng-scope">A module is a collection of configuration and run blocks which get applied to the application
during the bootstrap process. In its simplest form the module consist of a collection of two kinds
of blocks:</p>
<ol class="ng-scope">
<li><strong>Configuration blocks</strong> - get executed during the provider registrations and configuration
phase. Only providers and constants can be injected into configuration blocks. This is to
prevent accidental instantiation of services before they have been fully configured.</li>
<li><strong>Run blocks</strong> - get executed after the injector is created and are used to kickstart the
application. Only instances and constants can be injected into run blocks. This is to prevent
further system configuration during application run time.</li>
</ol>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
config</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">injectables</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// provider-injector</span><span class="pln">
  </span><span class="com">// This is an example of config block.</span><span class="pln">
  </span><span class="com">// You can have as many of these as you want.</span><span class="pln">
  </span><span class="com">// You can only inject Providers (not instances)</span><span class="pln">
  </span><span class="com">// into config blocks.</span><span class="pln">
</span><span class="pun">}).</span><span class="pln">
run</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">injectables</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// instance-injector</span><span class="pln">
  </span><span class="com">// This is an example of a run block.</span><span class="pln">
  </span><span class="com">// You can have as many of these as you want.</span><span class="pln">
  </span><span class="com">// You can only inject instances (not Providers)</span><span class="pln">
  </span><span class="com">// into run blocks</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<h2 id="configuration-blocks" class="ng-scope">Configuration Blocks</h2>
<p class="ng-scope">There are some convenience methods on the module which are equivalent to the <code><span class="pln">config</span></code> block. For
example:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
  value</span><span class="pun">(</span><span class="str">'a'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">123</span><span class="pun">).</span><span class="pln">
  factory</span><span class="pun">(</span><span class="str">'a'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">123</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}).</span><span class="pln">
  directive</span><span class="pun">(</span><span class="str">'directiveName'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...).</span><span class="pln">
  filter</span><span class="pun">(</span><span class="str">'filterName'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...);</span><span class="pln">

</span><span class="com">// is same as</span><span class="pln">

angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
  config</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">,</span><span class="pln"> $compileProvider</span><span class="pun">,</span><span class="pln"> $filterProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $provide</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'a'</span><span class="pun">,</span><span class="pln"> </span><span class="lit">123</span><span class="pun">);</span><span class="pln">
    $provide</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'a'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">123</span><span class="pun">;</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
    $compileProvider</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'directiveName'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...);</span><span class="pln">
    $filterProvider</span><span class="pun">.</span><span class="kwd">register</span><span class="pun">(</span><span class="str">'filterName'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...);</span><span class="pln">
  </span><span class="pun">});</span></code></pre>
<div class="alert alert-info ng-scope">
When bootstrapping, first Angular applies all constant definitions.
Then Angular applies configuration blocks in the same order they were registered.
</div>

<h2 id="run-blocks" class="ng-scope">Run Blocks</h2>
<p class="ng-scope">Run blocks are the closest thing in Angular to the main method. A run block is the code which
needs to run to kickstart the application. It is executed after all of the services have been
configured and the injector has been created. Run blocks typically contain code which is hard
to unit-test, and for this reason should be declared in isolated modules, so that they can be
ignored in the unit-tests.</p>
<h2 id="dependencies" class="ng-scope">Dependencies</h2>
<p class="ng-scope">Modules can list other modules as their dependencies. Depending on a module implies that the required
module needs to be loaded before the requiring module is loaded. In other words the configuration
blocks of the required modules execute before the configuration blocks of the requiring module.
The same is true for the run blocks. Each module can only be loaded once, even if multiple other
modules require it.</p>
<h2 id="asynchronous-loading" class="ng-scope">Asynchronous Loading</h2>
<p class="ng-scope">Modules are a way of managing $injector configuration, and have nothing to do with loading of
scripts into a VM. There are existing projects which deal with script loading, which may be used
with Angular. Because modules do nothing at load time they can be loaded into the VM in any order
and thus script loaders can take advantage of this property and parallelize the loading process.</p>
<h2 id="creation-versus-retrieval" class="ng-scope">Creation versus Retrieval</h2>
<p class="ng-scope">Beware that using <code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span></code> will create the module <code><span class="pln">myModule</span></code> and overwrite any
existing module named <code><span class="pln">myModule</span></code>. Use <code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">)</span></code> to retrieve an existing module.</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> myModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// add some directives and services</span><span class="pln">
myModule</span><span class="pun">.</span><span class="pln">service</span><span class="pun">(</span><span class="str">'myService'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...);</span><span class="pln">
myModule</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myDirective'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...);</span><span class="pln">

</span><span class="com">// overwrites both myService and myDirective by creating a new module</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> myModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myModule'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// throws an error because myOtherModule has yet to be defined</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> myModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myOtherModule'</span><span class="pun">);</span></code></pre>
<h1 id="unit-testing" class="ng-scope">Unit Testing</h1>
<p class="ng-scope">A unit test is a way of instantiating a subset of an application to apply stimulus to it.
Small, structured modules help keep unit tests concise and focused.</p>
<div class="did you know... ng-scope">
Each module can only be loaded once per injector.
Usually an Angular app has only one injector and modules are only loaded once.
Each test has its own injector and modules are loaded multiple times.
</div>

<p class="ng-scope">In all of these examples we are going to assume this module definition:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'greetMod'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">

factory</span><span class="pun">(</span><span class="str">'alert'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$window</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">text</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $window</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">(</span><span class="pln">text</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}).</span><span class="pln">

value</span><span class="pun">(</span><span class="str">'salutation'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Hello'</span><span class="pun">).</span><span class="pln">

factory</span><span class="pun">(</span><span class="str">'greet'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">alert</span><span class="pun">,</span><span class="pln"> salutation</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    alert</span><span class="pun">(</span><span class="pln">salutation </span><span class="pun">+</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">'!'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Let's write some tests to show how to override configuration in tests.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// load application module (`greetMod`) then load a special</span><span class="pln">
  </span><span class="com">// test module which overrides `$window` with a mock version,</span><span class="pln">
  </span><span class="com">// so that calling `window.alert()` will not block the test</span><span class="pln">
  </span><span class="com">// runner with a real alert box.</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="str">'greetMod'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $provide</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'$window'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      alert</span><span class="pun">:</span><span class="pln"> jasmine</span><span class="pun">.</span><span class="pln">createSpy</span><span class="pun">(</span><span class="str">'alert'</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  </span><span class="com">// inject() will create the injector and inject the `greet` and</span><span class="pln">
  </span><span class="com">// `$window` into the tests.</span><span class="pln">
  it</span><span class="pun">(</span><span class="str">'should alert on $window'</span><span class="pun">,</span><span class="pln"> inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">greet</span><span class="pun">,</span><span class="pln"> $window</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    greet</span><span class="pun">(</span><span class="str">'World'</span><span class="pun">);</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">$window</span><span class="pun">.</span><span class="pln">alert</span><span class="pun">).</span><span class="pln">toHaveBeenCalledWith</span><span class="pun">(</span><span class="str">'Hello World!'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  </span><span class="com">// this is another way of overriding configuration in the</span><span class="pln">
  </span><span class="com">// tests using inline `module` and `inject` methods.</span><span class="pln">
  it</span><span class="pun">(</span><span class="str">'should alert using the alert service'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> alertSpy </span><span class="pun">=</span><span class="pln"> jasmine</span><span class="pun">.</span><span class="pln">createSpy</span><span class="pun">(</span><span class="str">'alert'</span><span class="pun">);</span><span class="pln">
    module</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $provide</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'alert'</span><span class="pun">,</span><span class="pln"> alertSpy</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">greet</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      greet</span><span class="pun">(</span><span class="str">'World'</span><span class="pun">);</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">alertSpy</span><span class="pun">).</span><span class="pln">toHaveBeenCalledWith</span><span class="pun">(</span><span class="str">'Hello World!'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="compiler" class="document-section"><span class="guide-doc">HTML Compiler</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/compiler.ngdoc?message=docs(guide%2FHTML%20Compiler)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="html-compiler" class="ng-scope">HTML Compiler</h1>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> this guide is targeted towards developers who are already familiar with AngularJS basics.

If you're just getting started, we recommend the <a href="https://docs.angularjs.org/tutorial/">tutorial</a> first.
If you just want to create custom directives, we recommend the <a href="#directive">directives guide</a>.
If you want a deeper look into Angular's compilation process, you're in the right place.
</div>


<h2 id="overview" class="ng-scope">Overview</h2>
<p class="ng-scope">Angular's <a href="https://docs.angularjs.org/api/ng/service/$compile">HTML compiler</a> allows the developer to teach the
browser new HTML syntax. The compiler allows you to attach behavior to any HTML element or attribute
and even create new HTML elements or attributes with custom behavior. Angular calls these behavior
extensions <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#directive">directives</a>.</p>
<p class="ng-scope">HTML has a lot of constructs for formatting the HTML for static documents in a declarative fashion.
For example if something needs to be centered, there is no need to provide instructions to the
browser how the window size needs to be divided in half so that the center is found, and that this
center needs to be aligned with the text's center. Simply add an <code><span class="pln">align</span><span class="pun">=</span><span class="str">"center"</span></code> attribute to any
element to achieve the desired behavior. Such is the power of declarative language.</p>
<p class="ng-scope">However, the declarative language is also limited, as it does not allow you to teach the browser new
syntax. For example, there is no easy way to get the browser to align the text at 1/3 the position
instead of 1/2. What is needed is a way to teach the browser new HTML syntax.</p>
<p class="ng-scope">Angular comes pre-bundled with common directives which are useful for building any app. We also
expect that you will create directives that are specific to your app. These extensions become a
Domain Specific Language for building your application.</p>
<p class="ng-scope">All of this compilation takes place in the web browser; no server side or pre-compilation step is
involved.</p>
<h2 id="compiler" class="ng-scope">Compiler</h2>
<p class="ng-scope">Compiler is an Angular service which traverses the DOM looking for attributes. The compilation
process happens in two phases.</p>
<ol class="ng-scope">
<li><p><strong>Compile:</strong> traverse the DOM and collect all of the directives. The result is a linking
function.</p>
</li>
<li><p><strong>Link:</strong> combine the directives with a scope and produce a live view. Any changes in the
scope model are reflected in the view, and any user interactions with the view are reflected
in the scope model. This makes the scope model the single source of truth.</p>
</li>
</ol>
<p class="ng-scope">Some directives such as <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat"><code><span class="atn">ng-repeat</span></code></a> clone DOM elements once
for each item in a collection. Having a compile and link phase improves performance since the
cloned template only needs to be compiled once, and then linked once for each clone instance.</p>
<h2 id="directive" class="ng-scope">Directive</h2>
<p class="ng-scope">A directive is a behavior which should be triggered when specific HTML constructs are encountered
during the compilation process. The directives can be placed in element names, attributes, class
names, as well as comments. Here are some equivalent examples of invoking the <a href="https://docs.angularjs.org/api/ng/directive/ngBind"><code><span class="atn">ng-bind</span></code></a> directive.</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"exp"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln">
</span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"ng-bind: exp;"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln">
</span><span class="tag">&lt;ng-bind&gt;&lt;/ng-bind&gt;</span><span class="pln">
</span><span class="com">&lt;!-- directive: ng-bind exp --&gt;</span></code></pre>
<p class="ng-scope">A directive is just a function which executes when the compiler encounters it in the DOM. See <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#directive">directive API</a> for in-depth documentation on how
to write directives.</p>
<p class="ng-scope">Here is a directive which makes any element draggable. Notice the <code><span class="pln">draggable</span></code> attribute on the
<code><span class="tag">&lt;span&gt;</span></code> element.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example5&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example5" module="drag"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="script.js" language="js" type="js" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'drag'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]).</span><span class="pln">
directive</span><span class="pun">(</span><span class="str">'draggable'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$document</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> startX </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> startY </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    element</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln">
     position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'relative'</span><span class="pun">,</span><span class="pln">
     border</span><span class="pun">:</span><span class="pln"> </span><span class="str">'1px solid red'</span><span class="pun">,</span><span class="pln">
     backgroundColor</span><span class="pun">:</span><span class="pln"> </span><span class="str">'lightgrey'</span><span class="pun">,</span><span class="pln">
     cursor</span><span class="pun">:</span><span class="pln"> </span><span class="str">'pointer'</span><span class="pun">,</span><span class="pln">
     display</span><span class="pun">:</span><span class="pln"> </span><span class="str">'block'</span><span class="pun">,</span><span class="pln">
     width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'65px'</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    element</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'mousedown'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// Prevent default dragging of selected content</span><span class="pln">
      </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span><span class="pln">
      startX </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">screenX </span><span class="pun">-</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
      startY </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">screenY </span><span class="pun">-</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'mousemove'</span><span class="pun">,</span><span class="pln"> mousemove</span><span class="pun">);</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'mouseup'</span><span class="pun">,</span><span class="pln"> mouseup</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    </span><span class="kwd">function</span><span class="pln"> mousemove</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      y </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">screenY </span><span class="pun">-</span><span class="pln"> startY</span><span class="pun">;</span><span class="pln">
      x </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">screenX </span><span class="pun">-</span><span class="pln"> startX</span><span class="pun">;</span><span class="pln">
      element</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln">
        top</span><span class="pun">:</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> </span><span class="str">'px'</span><span class="pun">,</span><span class="pln">
        left</span><span class="pun">:</span><span class="pln">  x </span><span class="pun">+</span><span class="pln"> </span><span class="str">'px'</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">function</span><span class="pln"> mouseup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">off</span><span class="pun">(</span><span class="str">'mousemove'</span><span class="pun">,</span><span class="pln"> mousemove</span><span class="pun">);</span><span class="pln">
      $document</span><span class="pun">.</span><span class="pln">off</span><span class="pun">(</span><span class="str">'mouseup'</span><span class="pun">,</span><span class="pln"> mouseup</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="index.html" language="html" type="html" style=""><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">draggable</span><span class="tag">&gt;</span><span class="pln">Drag ME</span><span class="tag">&lt;/span&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(40).html" name="example-example5"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">The presence of the <code><span class="pln">draggable</span></code> attribute on any element gives the element new behavior.
We extended the vocabulary of the browser in a way which is natural to anyone who is familiar with the principles of HTML.</p>
<h2 id="understanding-view" class="ng-scope">Understanding View</h2>
<p class="ng-scope">Most other templating systems consume a static string template and
combine it with data, resulting in a new string. The resulting text is then <code><span class="pln">innerHTML</span></code>ed into
an element.</p>
<p class="ng-scope"><img src="./ng-guide-all3_files/One_Way_Data_Binding.png"></p>
<p class="ng-scope">This means that any changes to the data need to be re-merged with the template and then
<code><span class="pln">innerHTML</span></code>ed into the DOM. Some of the issues with this approach are:</p>
<ol class="ng-scope">
<li>reading user input and merging it with data</li>
<li>clobbering user input by overwriting it</li>
<li>managing the whole update process</li>
<li>lack of behavior expressiveness</li>
</ol>
<p class="ng-scope">Angular is different. The Angular compiler consumes the DOM, not string templates.
The result is a linking function, which when combined with a scope model results in a live view. The
view and scope model bindings are transparent. The developer does not need to make any special calls to update
the view. And because <code><span class="pln">innerHTML</span></code> is not used, you won't accidentally clobber user input.
Furthermore, Angular directives can contain not just text bindings, but behavioral constructs as
well.</p>
<p class="ng-scope"><img src="./ng-guide-all3_files/Two_Way_Data_Binding.png"></p>
<p class="ng-scope">The Angular approach produces a stable DOM. The DOM element instance bound to a model
item instance does not change for the lifetime of the binding. This means that the code can get
hold of the elements and register event handlers and know that the reference will not be destroyed
by template data merge.</p>
<h2 id="how-directives-are-compiled" class="ng-scope">How directives are compiled</h2>
<p class="ng-scope">It's important to note that Angular operates on DOM nodes rather than strings. Usually, you don't
notice this restriction because when a page loads, the web browser parses HTML into the DOM automatically.</p>
<p class="ng-scope">HTML compilation happens in three phases:</p>
<ol class="ng-scope">
<li><p><a href="https://docs.angularjs.org/api/ng/service/$compile"><code><span class="pln">$compile</span></code></a> traverses the DOM and matches directives.</p>
<p>If the compiler finds that an element matches a directive, then the directive is added to the list of
directives that match the DOM element. A single element may match multiple directives.</p>
</li>
<li><p>Once all directives matching a DOM element have been identified, the compiler sorts the directives
by their <code><span class="pln">priority</span></code>.</p>
<p>Each directive's <code><span class="pln">compile</span></code> functions are executed. Each <code><span class="pln">compile</span></code> function has a chance to
modify the DOM. Each <code><span class="pln">compile</span></code> function returns a <code><span class="pln">link</span></code> function. These functions are composed into
a "combined" link function, which invokes each directive's returned <code><span class="pln">link</span></code> function.</p>
</li>
<li><p><code><span class="pln">$compile</span></code> links the template with the scope by calling the combined linking function from the previous step.
This in turn will call the linking function of the individual directives, registering listeners on the elements
and setting up <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch"><code><span class="pln">$watch</span></code>s</a> with the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope"><code><span class="pln">scope</span></code></a>
as each directive is configured to do.</p>
</li>
</ol>
<p class="ng-scope">The result of this is a live binding between the scope and the DOM. So at this point, a change in
a model on the compiled scope will be reflected in the DOM.</p>
<p class="ng-scope">Below is the corresponding code using the <code><span class="pln">$compile</span></code> service.
This should help give you an idea of what Angular does internally.</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> $compile </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln"> </span><span class="com">// injected into your code</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> scope </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> parent </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln"> </span><span class="com">// DOM element where the compiled template can be appended</span><span class="pln">

</span><span class="kwd">var</span><span class="pln"> html </span><span class="pun">=</span><span class="pln"> </span><span class="str">'&lt;div ng-bind="exp"&gt;&lt;/div&gt;'</span><span class="pun">;</span><span class="pln">

</span><span class="com">// Step 1: parse HTML into DOM element</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> template </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">element</span><span class="pun">(</span><span class="pln">html</span><span class="pun">);</span><span class="pln">

</span><span class="com">// Step 2: compile the template</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> linkFn </span><span class="pun">=</span><span class="pln"> $compile</span><span class="pun">(</span><span class="pln">template</span><span class="pun">);</span><span class="pln">

</span><span class="com">// Step 3: link the compiled template with the scope.</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> element </span><span class="pun">=</span><span class="pln"> linkFn</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">);</span><span class="pln">

</span><span class="com">// Step 4: Append to DOM (optional)</span><span class="pln">
parent</span><span class="pun">.</span><span class="pln">appendChild</span><span class="pun">(</span><span class="pln">element</span><span class="pun">);</span></code></pre>
<h3 id="the-difference-between-compile-and-link" class="ng-scope">The difference between Compile and Link</h3>
<p class="ng-scope">At this point you may wonder why the compile process has separate compile and link phases. The
short answer is that compile and link separation is needed any time a change in a model causes
a change in the <strong>structure</strong> of the DOM.</p>
<p class="ng-scope">It's rare for directives to have a <strong>compile function</strong>, since most directives are concerned with
working with a specific DOM element instance rather than changing its overall structure.</p>
<p class="ng-scope">Directives often have a <strong>link function</strong>. A link function allows the directive to register
listeners to the specific cloned DOM element instance as well as to copy content into the DOM
from the scope.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> Any operation which can be shared among the instance of directives should be
moved to the compile function for performance reasons.
</div>

<h4 id="an-example-of-compile-versus-link-" class="ng-scope">An Example of "Compile" Versus "Link"</h4>
<p class="ng-scope">To understand, let's look at a real-world example with <code><span class="pln">ngRepeat</span></code>:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="pln">Hello {{user.name}}, you have these actions:
</span><span class="tag">&lt;ul&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"action in user.actions"</span><span class="tag">&gt;</span><span class="pln">
    {{action.description}}
  </span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span></code></pre>
<p class="ng-scope">When the above example is compiled, the compiler visits every node and looks for directives.</p>
<p class="ng-scope"><code><span class="pun">{{</span><span class="pln">user</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span></code> matches the <a href="https://docs.angularjs.org/api/ng/service/$interpolate">interpolation directive</a>
and <code><span class="atn">ng-repeat</span></code> matches the <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat"><code><span class="pln">ngRepeat</span></code> directive</a>.</p>
<p class="ng-scope">But <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat">ngRepeat</a> has a dilemma.</p>
<p class="ng-scope">It needs to be able to clone new <code><span class="tag">&lt;li&gt;</span></code> elements for every <code><span class="pln">action</span></code> in <code><span class="pln">user</span><span class="pun">.</span><span class="pln">actions</span></code>.
This initially seems trivial, but it becomes more complicated when you consider that <code><span class="pln">user</span><span class="pun">.</span><span class="pln">actions</span></code>
might have items added to it later. This means that it needs to save a clean copy of the <code><span class="tag">&lt;li&gt;</span></code>
element for cloning purposes.</p>
<p class="ng-scope">As new <code><span class="pln">action</span></code>s are inserted, the template <code><span class="tag">&lt;li&gt;</span></code> element needs to be cloned and inserted into <code><span class="pln">ul</span></code>.
But cloning the <code><span class="tag">&lt;li&gt;</span></code> element is not enough. It also needs to compile the <code><span class="tag">&lt;li&gt;</span></code> so that its
directives, like <code><span class="pun">{{</span><span class="pln">action</span><span class="pun">.</span><span class="pln">description</span><span class="pun">}}</span></code>, evaluate against the right <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope">scope</a>.</p>
<p class="ng-scope">A naive approach to solving this problem would be to simply insert a copy of the <code><span class="tag">&lt;li&gt;</span></code> element and
then compile it.
The problem with this approach is that compiling on every <code><span class="tag">&lt;li&gt;</span></code> element that we clone would duplicate
a lot of the work. Specifically, we'd be traversing <code><span class="tag">&lt;li&gt;</span></code> each time before cloning it to find the
directives. This would cause the compilation process to be slower, in turn making applications
less responsive when inserting new nodes.</p>
<p class="ng-scope">The solution is to break the compilation process into two phases:</p>
<p class="ng-scope">the <strong>compile phase</strong> where all of the directives are identified and sorted by priority,
and a <strong>linking phase</strong> where any work which "links" a specific instance of the
<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope">scope</a> and the specific instance of an <code><span class="tag">&lt;li&gt;</span></code> is performed.</p>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> <em>Link</em> means setting up listeners on the DOM and setting up <code><span class="pln">$watch</span></code> on the Scope to
keep the two in sync.
</div>

<p class="ng-scope"><a href="https://docs.angularjs.org/api/ng/directive/ngRepeat"><code><span class="pln">ngRepeat</span></code></a> works by preventing the compilation process from
descending into the <code><span class="tag">&lt;li&gt;</span></code> element so it can make a clone of the original and handle inserting
and removing DOM nodes itself.</p>
<p class="ng-scope">Instead the <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat"><code><span class="pln">ngRepeat</span></code></a> directive compiles <code><span class="tag">&lt;li&gt;</span></code> separately.
The result of the <code><span class="tag">&lt;li&gt;</span></code> element compilation is a linking function which contains all of the
directives contained in the <code><span class="tag">&lt;li&gt;</span></code> element, ready to be attached to a specific clone of the <code><span class="tag">&lt;li&gt;</span></code>
element.</p>
<p class="ng-scope">At runtime the <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat"><code><span class="pln">ngRepeat</span></code></a> watches the expression and as items
are added to the array it clones the <code><span class="tag">&lt;li&gt;</span></code> element, creates a new
<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope">scope</a> for the cloned <code><span class="tag">&lt;li&gt;</span></code> element and calls the link function
on the cloned <code><span class="tag">&lt;li&gt;</span></code>.</p>
<h3 id="understanding-how-scopes-work-with-transcluded-directives" class="ng-scope">Understanding How Scopes Work with Transcluded Directives</h3>
<p class="ng-scope">One of the most common use cases for directives is to create reusable components.</p>
<p class="ng-scope">Below is a pseudo code showing how a simplified dialog component may work.</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"show=true"</span><span class="tag">&gt;</span><span class="pln">show</span><span class="tag">&lt;/button&gt;</span><span class="pln">

  </span><span class="tag">&lt;dialog</span><span class="pln"> </span><span class="atn">title</span><span class="pun">=</span><span class="atv">"Hello {{username}}."</span><span class="pln">
          </span><span class="atn">visible</span><span class="pun">=</span><span class="atv">"show"</span><span class="pln">
          </span><span class="atn">on-cancel</span><span class="pun">=</span><span class="atv">"show = false"</span><span class="pln">
          </span><span class="atn">on-ok</span><span class="pun">=</span><span class="atv">"show = false; doSomething()"</span><span class="tag">&gt;</span><span class="pln">
     Body goes here: {{username}} is {{title}}.
  </span><span class="tag">&lt;/dialog&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">Clicking on the "show" button will open the dialog. The dialog will have a title, which is
data bound to <code><span class="pln">username</span></code>, and it will also have a body which we would like to transclude
into the dialog.</p>
<p class="ng-scope">Here is an example of what the template definition for the <code><span class="pln">dialog</span></code> widget may look like.</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"visible"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;h3&gt;</span><span class="ang">{{</span><span class="pln">title</span><span class="ang">}}</span><span class="tag">&lt;/h3&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"body"</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"footer"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"onOk()"</span><span class="tag">&gt;</span><span class="pln">Save changes</span><span class="tag">&lt;/button&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"onCancel()"</span><span class="tag">&gt;</span><span class="pln">Close</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">This will not render properly, unless we do some scope magic.</p>
<p class="ng-scope">The first issue we have to solve is that the dialog box template expects <code><span class="pln">title</span></code> to be defined.
But we would like the template's scope property <code><span class="pln">title</span></code> to be the result of interpolating the
<code><span class="tag">&lt;dialog&gt;</span></code> element's <code><span class="pln">title</span></code> attribute (i.e. <code><span class="str">"Hello {{username}}"</span></code>). Furthermore, the buttons expect
the <code><span class="pln">onOk</span></code> and <code><span class="pln">onCancel</span></code> functions to be present in the scope. This limits the usefulness of the
widget. To solve the mapping issue we use the <code><span class="pln">scope</span></code> to create local variables which the template
expects as follows:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  title</span><span class="pun">:</span><span class="pln"> </span><span class="str">'@'</span><span class="pun">,</span><span class="pln">             </span><span class="com">// the title uses the data-binding from the parent scope</span><span class="pln">
  onOk</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pun">,</span><span class="pln">              </span><span class="com">// create a delegate onOk function</span><span class="pln">
  onCancel</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pun">,</span><span class="pln">          </span><span class="com">// create a delegate onCancel function</span><span class="pln">
  visible</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pln">            </span><span class="com">// set up visible to accept data-binding</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">Creating local properties on widget scope creates two problems:</p>
<ol class="ng-scope">
<li><p>isolation - if the user forgets to set <code><span class="pln">title</span></code> attribute of the dialog widget the dialog
template will bind to parent scope property. This is unpredictable and undesirable.</p>
</li>
<li><p>transclusion - the transcluded DOM can see the widget locals, which may overwrite the
properties which the transclusion needs for data-binding. In our example the <code><span class="pln">title</span></code>
property of the widget clobbers the <code><span class="pln">title</span></code> property of the transclusion.</p>
</li>
</ol>
<p class="ng-scope">To solve the issue of lack of isolation, the directive declares a new <code><span class="pln">isolated</span></code> scope. An
isolated scope does not prototypically inherit from the parent scope, and therefore we don't have
to worry about accidentally clobbering any properties.</p>
<p class="ng-scope">However <code><span class="pln">isolated</span></code> scope creates a new problem: if a transcluded DOM is a child of the widget
isolated scope then it will not be able to bind to anything. For this reason the transcluded scope
is a child of the original scope, before the widget created an isolated scope for its local
variables. This makes the transcluded and widget isolated scope siblings.</p>
<p class="ng-scope">This may seem to be unexpected complexity, but it gives the widget user and developer the least
surprise.</p>
<p class="ng-scope">Therefore the final directive definition looks something like this:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    title</span><span class="pun">:</span><span class="pln"> </span><span class="str">'@'</span><span class="pun">,</span><span class="pln">             </span><span class="com">// the title uses the data-binding from the parent scope</span><span class="pln">
    onOk</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pun">,</span><span class="pln">              </span><span class="com">// create a delegate onOk function</span><span class="pln">
    onCancel</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pun">,</span><span class="pln">          </span><span class="com">// create a delegate onCancel function</span><span class="pln">
    visible</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pln">            </span><span class="com">// set up visible to accept data-binding</span><span class="pln">
</span><span class="pun">},</span><span class="pln">
restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
replace</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span></code></pre>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="providers" class="document-section"><span class="guide-doc">Providers</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/providers.ngdoc?message=docs(guide%2FProviders)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="providers" class="ng-scope">Providers</h1>
<p class="ng-scope">Each web application you build is composed of objects that collaborate to get stuff done. These
objects need to be instantiated and wired together for the app to work. In Angular apps most of
these objects are instantiated and wired together automatically by the <a href="https://docs.angularjs.org/api/auto/service/$injector">injector service</a>.</p>
<p class="ng-scope">The injector creates two types of objects, <strong>services</strong> and <strong>specialized objects</strong>.</p>
<p class="ng-scope">Services are objects whose API is defined by the developer writing the service.</p>
<p class="ng-scope">Specialized objects conform to a specific Angular framework API. These objects are one of
controllers, directives, filters or animations.</p>
<p class="ng-scope">The injector needs to know how to create these objects. You tell it by registering a "recipe" for
creating your object with the injector. There are five recipe types.</p>
<p class="ng-scope">The most verbose, but also the most comprehensive one is a Provider recipe. The remaining four
recipe types  Value, Factory, Service and Constant  are just syntactic sugar on top of a provider
recipe.</p>
<p class="ng-scope">Let's take a look at the different scenarios for creating and using services via various recipe
types. We'll start with the simplest case possible where various places in your code need a shared
string and we'll accomplish this via Value recipe.</p>
<h2 id="note-a-word-on-modules" class="ng-scope">Note:  A Word on Modules</h2>
<p class="ng-scope">In order for the injector to know how to create and wire together all of these objects, it needs
a registry of "recipes". Each recipe has an identifier of the object and the description of how to
create this object.</p>
<p class="ng-scope">Each recipe belongs to an <a href="https://docs.angularjs.org/api/ng/type/angular.Module">Angular module</a>. An Angular module is a bag
that holds one or more recipes. And since manually keeping track of module dependencies is no fun,
a module can contain information about dependencies on other modules as well.</p>
<p class="ng-scope">When an Angular application starts with a given application module, Angular creates a new instance
of injector, which in turn creates a registry of recipes as a union of all recipes defined in the
core "ng" module, application module and its dependencies. The injector then consults the recipe
registry when it needs to create an object for your application.</p>
<h2 id="value-recipe" class="ng-scope">Value Recipe</h2>
<p class="ng-scope">Let's say that we want to have a very simple service called "clientId" that provides a string
representing an authentication id used for some remote API. You would define it like this:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">
myApp</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'clientId'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'a12345654321x'</span><span class="pun">);</span></code></pre>
<p class="ng-scope">Notice how we created an Angular module called <code><span class="pln">myApp</span></code>, and specified that this module definition
contains a "recipe" for constructing the <code><span class="pln">clientId</span></code> service, which is a simple string in this case.</p>
<p class="ng-scope">And this is how you would display it via Angular's data-binding:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'DemoController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'clientId'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">DemoController</span><span class="pun">(</span><span class="pln">clientId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">clientId </span><span class="pun">=</span><span class="pln"> clientId</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"myApp"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;body</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"DemoController as demo"</span><span class="tag">&gt;</span><span class="pln">
    Client ID: {{demo.clientId}}
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p class="ng-scope">In this example, we've used the Value recipe to define the value to provide when <code><span class="typ">DemoController</span></code>
asks for the service with id "clientId".</p>
<p class="ng-scope">On to more complex examples!</p>
<h2 id="factory-recipe" class="ng-scope">Factory Recipe</h2>
<p class="ng-scope">The Value recipe is very simple to write, but lacks some important features we often need when
creating services.  Let's now look at the Value recipe's more powerful sibling, the Factory. The
Factory recipe adds the following abilities:</p>
<ul class="ng-scope">
<li>ability to use other services (have dependencies)</li>
<li>service initialization</li>
<li>delayed/lazy initialization</li>
</ul>
<p class="ng-scope">The Factory recipe constructs a new service using a function with zero or more arguments (these
are dependencies on other services). The return value of this function is the service instance
created by this recipe.</p>
<p class="ng-scope">Note: All services in Angular are singletons. That means that the injector uses each recipe at most
once to create the object. The injector then caches the reference for all future needs.</p>
<p class="ng-scope">Since a Factory is a more powerful version of the Value recipe, the same service can be constructed with it.
Using our previous <code><span class="pln">clientId</span></code> Value recipe example, we can rewrite it as a Factory recipe like this:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'clientId'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> clientIdFactory</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'a12345654321x'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">But given that the token is just a string literal, sticking with the Value recipe is still more
appropriate as it makes the code easier to follow.</p>
<p class="ng-scope">Let's say, however, that we would also like to create a service that computes a token used for
authentication against a remote API. This token will be called <code><span class="pln">apiToken</span></code> and will be computed
based on the <code><span class="pln">clientId</span></code> value and a secret stored in the browser's local storage:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'apiToken'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'clientId'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> apiTokenFactory</span><span class="pun">(</span><span class="pln">clientId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> encrypt </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">data1</span><span class="pun">,</span><span class="pln"> data2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// NSA-proof encryption algorithm:</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">data1 </span><span class="pun">+</span><span class="pln"> </span><span class="str">':'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> data2</span><span class="pun">).</span><span class="pln">toUpperCase</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> secret </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">localStorage</span><span class="pun">.</span><span class="pln">getItem</span><span class="pun">(</span><span class="str">'myApp.secret'</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> apiToken </span><span class="pun">=</span><span class="pln"> encrypt</span><span class="pun">(</span><span class="pln">clientId</span><span class="pun">,</span><span class="pln"> secret</span><span class="pun">);</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> apiToken</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">In the code above, we see how the <code><span class="pln">apiToken</span></code> service is defined via the Factory recipe that depends
on the <code><span class="pln">clientId</span></code> service. The factory service then uses NSA-proof encryption to produce an authentication
token.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> name the factory functions as <code><span class="tag">&lt;serviceId&gt;</span><span class="pln">Factory</span></code>
(e.g., apiTokenFactory). While this naming convention is not required, it helps when navigating the codebase
or looking at stack traces in the debugger.
</div>

<p class="ng-scope">Just like with the Value recipe, the Factory recipe can create a service of any type, whether it be a
primitive, object literal, function, or even an instance of a custom type.</p>
<h2 id="service-recipe" class="ng-scope">Service Recipe</h2>
<p class="ng-scope">JavaScript developers often use custom types to write object-oriented code. Let's explore how we
could launch a unicorn into space via our <code><span class="pln">unicornLauncher</span></code> service which is an instance of a
custom type:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">function</span><span class="pln"> </span><span class="typ">UnicornLauncher</span><span class="pun">(</span><span class="pln">apiToken</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">launchedCount </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">launch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Make a request to the remote API and include the apiToken</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">launchedCount</span><span class="pun">++;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">We are now ready to launch unicorns, but notice that UnicornLauncher depends on our <code><span class="pln">apiToken</span></code>.
We can satisfy this dependency on <code><span class="pln">apiToken</span></code> using the Factory recipe:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'unicornLauncher'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">"apiToken"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">apiToken</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UnicornLauncher</span><span class="pun">(</span><span class="pln">apiToken</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">This is, however, exactly the use-case that the Service recipe is the most suitable for.</p>
<p class="ng-scope">The Service recipe produces a service just like the Value or Factory recipes, but it does so by
<em>invoking a constructor with the <code><span class="kwd">new</span></code> operator</em>. The constructor can take zero or more arguments,
which represent dependencies needed by the instance of this type.</p>
<p class="ng-scope">Note: Service recipes follow a design pattern called <a href="http://www.martinfowler.com/articles/injection.html#ConstructorInjectionWithPicocontainer">constructor
injection</a>.</p>
<p class="ng-scope">Since we already have a constructor for our UnicornLauncher type, we can replace the Factory recipe
above with a Service recipe like this:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">service</span><span class="pun">(</span><span class="str">'unicornLauncher'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">"apiToken"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">UnicornLauncher</span><span class="pun">]);</span></code></pre>
<p class="ng-scope">Much simpler!</p>
<p class="ng-scope">Note: Yes, we have called one of our service recipes 'Service'. We regret this and know that we'll
be somehow punished for our misdeed. It's like we named one of our offspring 'Child'. Boy,
that would mess with the teachers.</p>
<h2 id="provider-recipe" class="ng-scope">Provider Recipe</h2>
<p class="ng-scope">As already mentioned in the intro, the Provider recipe is the core recipe type and
all the other recipe types are just syntactic sugar on top of it. It is the most verbose recipe
with the most abilities, but for most services it's overkill.</p>
<p class="ng-scope">The Provider recipe is syntactically defined as a custom type that implements a <code><span class="pln">$get</span></code> method. This
method is a factory function just like the one we use in the Factory recipe. In fact, if you define
a Factory recipe, an empty Provider type with the <code><span class="pln">$get</span></code> method set to your factory function is
automatically created under the hood.</p>
<p class="ng-scope">You should use the Provider recipe only when you want to expose an API for application-wide
configuration that must be made before the application starts. This is usually interesting only
for reusable services whose behavior might need to vary slightly between applications.</p>
<p class="ng-scope">Let's say that our <code><span class="pln">unicornLauncher</span></code> service is so awesome that many apps use it. By default the
launcher shoots unicorns into space without any protective shielding. But on some planets the
atmosphere is so thick that we must wrap every unicorn in tinfoil before sending it on its
intergalactic trip, otherwise they would burn while passing through the atmosphere. It would then
be great if we could configure the launcher to use the tinfoil shielding for each launch in apps
that need it. We can make it configurable like so:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">provider</span><span class="pun">(</span><span class="str">'unicornLauncher'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">UnicornLauncherProvider</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> useTinfoilShielding </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">useTinfoilShielding </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    useTinfoilShielding </span><span class="pun">=</span><span class="pln"> </span><span class="pun">!!</span><span class="pln">value</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">$get </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">"apiToken"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> unicornLauncherFactory</span><span class="pun">(</span><span class="pln">apiToken</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="com">// let's assume that the UnicornLauncher constructor was also changed to</span><span class="pln">
    </span><span class="com">// accept and use the useTinfoilShielding argument</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">UnicornLauncher</span><span class="pun">(</span><span class="pln">apiToken</span><span class="pun">,</span><span class="pln"> useTinfoilShielding</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}];</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">To turn the tinfoil shielding on in our app, we need to create a config function via the module
API and have the UnicornLauncherProvider injected into it:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">config</span><span class="pun">([</span><span class="str">"unicornLauncherProvider"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">unicornLauncherProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  unicornLauncherProvider</span><span class="pun">.</span><span class="pln">useTinfoilShielding</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">Notice that the unicorn provider is injected into the config function. This injection is done by a
provider injector which is different from the regular instance injector, in that it instantiates
and wires (injects) all provider instances only.</p>
<p class="ng-scope">During application bootstrap, before Angular goes off creating all services, it configures and
instantiates all providers. We call this the configuration phase of the application life-cycle.
During this phase, services aren't accessible because they haven't been created yet.</p>
<p class="ng-scope">Once the configuration phase is over, interaction with providers is disallowed and the process of
creating services starts. We call this part of the application life-cycle the run phase.</p>
<h2 id="constant-recipe" class="ng-scope">Constant Recipe</h2>
<p class="ng-scope">We've just learned how Angular splits the life-cycle into configuration phase and run phase and how
you can provide configuration to your application via the config function. Since the config
function runs in the configuration phase when no services are available, it doesn't have access
even to simple value objects created via the Value recipe.</p>
<p class="ng-scope">Since simple values, like URL prefixes, don't have dependencies or configuration, it's often handy
to make them available in both the configuration and run phases. This is what the Constant recipe
is for.</p>
<p class="ng-scope">Let's say that our <code><span class="pln">unicornLauncher</span></code> service can stamp a unicorn with the planet name it's being
launched from if this name was provided during the configuration phase. The planet name is
application specific and is used also by various controllers during the runtime of the application.
We can then define the planet name as a constant like this:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">constant</span><span class="pun">(</span><span class="str">'planetName'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Greasy Giant'</span><span class="pun">);</span></code></pre>
<p class="ng-scope">We could then configure the unicornLauncherProvider like this:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">config</span><span class="pun">([</span><span class="str">'unicornLauncherProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'planetName'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">unicornLauncherProvider</span><span class="pun">,</span><span class="pln"> planetName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  unicornLauncherProvider</span><span class="pun">.</span><span class="pln">useTinfoilShielding</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
  unicornLauncherProvider</span><span class="pun">.</span><span class="pln">stampText</span><span class="pun">(</span><span class="pln">planetName</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">And since Constant recipe makes the value also available at runtime just like the Value recipe, we
can also use it in our controller and template:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'DemoController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">"clientId"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"planetName"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">DemoController</span><span class="pun">(</span><span class="pln">clientId</span><span class="pun">,</span><span class="pln"> planetName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">clientId </span><span class="pun">=</span><span class="pln"> clientId</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">planetName </span><span class="pun">=</span><span class="pln"> planetName</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"myApp"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;body</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"DemoController as demo"</span><span class="tag">&gt;</span><span class="pln">
   Client ID: {{demo.clientId}}
   </span><span class="tag">&lt;br&gt;</span><span class="pln">
   Planet Name: {{demo.planetName}}
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<h2 id="special-purpose-objects" class="ng-scope">Special Purpose Objects</h2>
<p class="ng-scope">Earlier we mentioned that we also have special purpose objects that are different from services.
These objects extend the framework as plugins and therefore must implement interfaces specified by
Angular. These interfaces are Controller, Directive, Filter and Animation.</p>
<p class="ng-scope">The instructions for the injector to create these special objects (with the exception of the
Controller objects) use the Factory recipe behind the scenes.</p>
<p class="ng-scope">Let's take a look at how we would create a very simple component via the directive api that depends
on the <code><span class="pln">planetName</span></code> constant we've just defined and displays the planet name, in our case:
"Planet Name: Greasy Giant".</p>
<p class="ng-scope">Since the directives are registered via the Factory recipe, we can use the same syntax as with factories.</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'myPlanet'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'planetName'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> myPlanetDirectiveFactory</span><span class="pun">(</span><span class="pln">planetName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// directive definition object</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $element</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> $element</span><span class="pun">.</span><span class="pln">text</span><span class="pun">(</span><span class="str">'Planet: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> planetName</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">We can then use the component like this:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"myApp"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
   </span><span class="tag">&lt;my-planet&gt;&lt;/my-planet&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p class="ng-scope">Using Factory recipes, you can also define Angular's filters and animations, but the controllers
are a bit special. You create a controller as a custom type that declares its dependencies as
arguments for its constructor function. This constructor is then registered with a module. Let's
take a look at the <code><span class="typ">DemoController</span></code>, created in one of the early examples:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'DemoController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'clientId'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">DemoController</span><span class="pun">(</span><span class="pln">clientId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">clientId </span><span class="pun">=</span><span class="pln"> clientId</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">The DemoController is instantiated via its constructor, every time the app needs an instance of
DemoController (in our simple app it's just once). So unlike services, controllers are not
singletons. The constructor is called with all the requested services, in our case the <code><span class="pln">clientId</span></code>
service.</p>
<h2 id="conclusion" class="ng-scope">Conclusion</h2>
<p class="ng-scope">To wrap it up, let's summarize the most important points:</p>
<ul class="ng-scope">
<li>The injector uses recipes to create two types of objects: services and special purpose objects</li>
<li>There are five recipe types that define how to create objects: Value, Factory, Service, Provider
and Constant.</li>
<li>Factory and Service are the most commonly used recipes. The only difference between them is that
the Service recipe works better for objects of a custom type, while the Factory can produce JavaScript
primitives and functions.</li>
<li>The Provider recipe is the core recipe type and all the other ones are just syntactic sugar on it.</li>
<li>Provider is the most complex recipe type. You don't need it unless you are building a reusable
piece of code that needs global configuration.</li>
<li>All special purpose objects except for the Controller are defined via Factory recipes.</li>
</ul>
<table class="table table-bordered code-table ng-scope">
<thead>
<tr>
  <th>Features / Recipe type</th>
  <th>Factory</th>
  <th>Service</th>
  <th>Value</th>
  <th>Constant</th>
  <th>Provider</th>
</tr>
</thead>
<tbody>
<tr>
  <td>can have dependencies</td>
  <td class="success">yes</td>
  <td class="success">yes</td>
  <td class="error">no</td>
  <td class="error">no</td>
  <td class="success">yes</td>
</tr>
<tr>
  <td>uses type friendly injection</td>
  <td class="error">no</td>
  <td class="success">yes</td>
  <td class="success">yes*</td>
  <td class="success">yes*</td>
  <td class="error">no</td>
</tr>
<tr>
  <td>object available in config phase</td>
  <td class="error">no</td>
  <td class="error">no</td>
  <td class="error">no</td>
  <td class="success">yes</td>
  <td class="success">yes**</td>
</tr>
<tr>
  <td>can create functions</td>
  <td class="success">yes</td>
  <td class="success">yes</td>
  <td class="success">yes</td>
  <td class="success">yes</td>
  <td class="success">yes</td>
</tr>
<tr>
  <td>can create primitives</td>
  <td class="success">yes</td>
  <td class="error">no</td>
  <td class="success">yes</td>
  <td class="success">yes</td>
  <td class="success">yes</td>
</tr>
</tbody>
</table>

<p class="ng-scope">* at the cost of eager initialization by using <code><span class="kwd">new</span></code> operator directly</p>
<p class="ng-scope">** the service object is not available during the config phase, but the provider instance is
(see the <code><span class="pln">unicornLauncherProvider</span></code> example above).</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="bootstrap" class="document-section"><span class="guide-doc">Bootstrap</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/bootstrap.ngdoc?message=docs(guide%2FBootstrap)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="bootstrap" class="ng-scope">Bootstrap</h1>
<p class="ng-scope">This page explains the Angular initialization process and how you can manually initialize Angular
if necessary.</p>
<h2 id="angular-script-tag" class="ng-scope">Angular <code><span class="tag">&lt;script&gt;</span></code> Tag</h2>
<p class="ng-scope">This example shows the recommended path for integrating Angular with what we call automatic
initialization.</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="atn">xmlns:ng</span><span class="pun">=</span><span class="atv">"http://angularjs.org"</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    ...
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<ol class="ng-scope">
<li>Place the <code><span class="pln">script</span></code> tag at the bottom of the page. Placing script tags at the end of the page
improves app load time because the HTML loading is not blocked by loading of the <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">js</span></code>
script. You can get the latest bits from <a href="http://code.angularjs.org/">http://code.angularjs.org</a>. Please don't link
your production code to this URL, as it will expose a security hole on your site. For
experimental development linking to our site is fine.<ul>
<li>Choose: <code><span class="pln">angular</span><span class="pun">-[</span><span class="pln">version</span><span class="pun">].</span><span class="pln">js</span></code> for a human-readable file, suitable for development and
debugging.</li>
<li>Choose: <code><span class="pln">angular</span><span class="pun">-[</span><span class="pln">version</span><span class="pun">].</span><span class="pln">min</span><span class="pun">.</span><span class="pln">js</span></code> for a compressed and obfuscated file, suitable for use in
production.</li>
</ul>
</li>
<li><p>Place <code><span class="atn">ng-app</span></code> to the root of your application, typically on the <code><span class="tag">&lt;html&gt;</span></code> tag if you want
angular to auto-bootstrap your application.</p>

</li>
<li><p>If you choose to use the old style directive syntax <code><span class="pln">ng</span><span class="pun">:</span></code> then include xml-namespace in <code><span class="pln">html</span></code>
to make IE happy. (This is here for historical reasons, and we no longer recommend use of
<code><span class="pln">ng</span><span class="pun">:</span></code>.)</p>




</li>
</ol>
<h2 id="automatic-initialization" class="ng-scope">Automatic Initialization</h2>
<p class="ng-scope"><img class="pull-right" style="padding-left: 3em;" src="./ng-guide-all3_files/concepts-startup.png"></p>
<p class="ng-scope">Angular initializes automatically upon <code><span class="typ">DOMContentLoaded</span></code> event or when the <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">js</span></code> script is
evaluated if at that time <code><span class="pln">document</span><span class="pun">.</span><span class="pln">readyState</span></code> is set to <code><span class="str">'complete'</span></code>. At this point Angular looks
for the <a href="https://docs.angularjs.org/api/ng/directive/ngApp"><code><span class="atn">ng-app</span></code></a> directive which designates your application root.
If the <a href="https://docs.angularjs.org/api/ng/directive/ngApp"><code><span class="atn">ng-app</span></code></a> directive is found then Angular will:</p>
<ul class="ng-scope">
<li>load the <a href="#module">module</a> associated with the directive.</li>
<li>create the application <a href="https://docs.angularjs.org/api/auto/service/$injector">injector</a></li>
<li>compile the DOM treating the <a href="https://docs.angularjs.org/api/ng/directive/ngApp"><code><span class="atn">ng-app</span></code></a> directive as the root of the compilation. This allows you to tell it to treat only a
portion of the DOM as an Angular application.</li>
</ul>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"optionalModuleName"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    I can add: {{ 1+2 }}.
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p class="ng-scope">As a best practice, consider adding an <code><span class="atn">ng-strict</span><span class="pun">-</span><span class="pln">di</span></code> directive on the same element as
<code><span class="atn">ng-app</span></code>:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"optionalModuleName"</span><span class="pln"> </span><span class="atn">ng-strict-di</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    I can add: {{ 1+2 }}.
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p class="ng-scope">This will ensure that all services in your application are properly annotated.
See the <a href="#di#using-strict-dependency-injection">dependency injection strict mode</a> docs
for more.</p>
<h2 id="manual-initialization" class="ng-scope">Manual Initialization</h2>
<p class="ng-scope">If you need to have more control over the initialization process, you can use a manual
bootstrapping method instead. Examples of when you'd need to do this include using script loaders
or the need to perform an operation before Angular compiles a page.</p>
<p class="ng-scope">Here is an example of manually initializing Angular:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;body&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MyController"</span><span class="tag">&gt;</span><span class="pln">
    Hello {{greetMe}}!
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"http://code.angularjs.org/snapshot/angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">

  </span><span class="tag">&lt;script&gt;</span><span class="pln">
    angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MyController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        $scope</span><span class="pun">.</span><span class="pln">greetMe </span><span class="pun">=</span><span class="pln"> </span><span class="str">'World'</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}]);</span><span class="pln">

    angular</span><span class="pun">.</span><span class="pln">element</span><span class="pun">(</span><span class="pln">document</span><span class="pun">).</span><span class="pln">ready</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'myApp'</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="tag">&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p class="ng-scope">Note that we provided the name of our application module to be loaded into the injector as the second
parameter of the <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap"><code><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span></code></a> function. Notice that <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span></code> will not create modules
on the fly. You must create any custom <a href="#module">modules</a> before you pass them as a parameter.</p>
<p class="ng-scope">You should call <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">()</span></code> <em>after</em> you've loaded or defined your modules.
You cannot add controllers, services, directives, etc after an application bootstraps.</p>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> You should not use the ng-app directive when manually bootstrapping your app.
</div>

<p class="ng-scope">This is the sequence that your code should follow:</p>
<ol class="ng-scope">
<li><p>After the page and all of the code is loaded, find the root element of your AngularJS
application, which is typically the root of the document.</p>
</li>
<li><p>Call <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap"><code><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span></code></a> to <a href="#compiler">compile</a> the element into an
executable, bi-directionally bound application.</p>
</li>
</ol>
<h2 id="deferred-bootstrap" class="ng-scope">Deferred Bootstrap</h2>
<p class="ng-scope">This feature enables tools like <a href="https://github.com/angular/angularjs-batarang">Batarang</a> and test runners
to hook into angular's bootstrap process and sneak in more modules
into the DI registry which can replace or augment DI services for
the purpose of instrumentation or mocking out heavy dependencies.</p>
<p class="ng-scope">If <code><span class="pln">window</span><span class="pun">.</span><span class="pln">name</span></code> contains prefix <code><span class="pln">NG_DEFER_BOOTSTRAP</span><span class="pun">!</span></code> when
<a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap"><code><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span></code></a> is called, the bootstrap process will be paused
until <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">resumeBootstrap</span><span class="pun">()</span></code> is called.</p>
<p class="ng-scope"><code><span class="pln">angular</span><span class="pun">.</span><span class="pln">resumeBootstrap</span><span class="pun">()</span></code> takes an optional array of modules that
should be added to the original list of modules that the app was
about to be bootstrapped with.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="unit-testing" class="document-section"><span class="guide-doc">Unit Testing</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/unit-testing.ngdoc?message=docs(guide%2FUnit%20Testing)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<p class="ng-scope">JavaScript is a dynamically typed language which comes with great power of expression, but it also
comes with almost no help from the compiler. For this reason we feel very strongly that any code
written in JavaScript needs to come with a strong set of tests. We have built many features into
Angular which makes testing your Angular applications easy. So there is no excuse for not testing.</p>
<h2 id="separation-of-concerns" class="ng-scope">Separation of Concerns</h2>
<p class="ng-scope">Unit testing, as the name implies, is about testing individual units of code. Unit tests try to
answer questions such as "Did I think about the logic correctly?" or "Does the sort function order
the list in the right order?"</p>
<p class="ng-scope">In order to answer such a question it is very important that we can isolate the unit of code under test.
That is because when we are testing the sort function we don't want to be forced into creating
related pieces such as the DOM elements, or making any XHR calls to fetch the data to sort.</p>
<p class="ng-scope">While this may seem obvious it can be very difficult to call an individual function on a
typical project. The reason is that the developers often mix concerns resulting in a
piece of code which does everything. It makes an XHR request, it sorts the response data and then it
manipulates the DOM.</p>
<p class="ng-scope">With Angular we try to make it easy for you to do the right thing, and so we
provide dependency injection for your XHR requests, which can be mocked, and we provide abstractions which
allow you to test your model without having to resort to manipulating the DOM. The test can then
assert that the data has been sorted without having to create or look at the state of the DOM or
wait for any XHR requests to return data. The individual sort function can be tested in isolation.</p>
<h2 id="with-great-power-comes-great-responsibility" class="ng-scope">With great power comes great responsibility</h2>
<p class="ng-scope">Angular is written with testability in mind, but it still requires that you do the right thing.
We tried to make the right thing easy, but if you ignore these guidelines you may end up with an
untestable application.</p>
<h2 id="dependency-injection" class="ng-scope">Dependency Injection</h2>
<p class="ng-scope">Angular comes with <a href="#di">dependency injection</a> built-in, which makes testing components much
easier, because you can pass in a component's dependencies and stub or mock them as you wish.</p>
<p class="ng-scope">Components that have their dependencies injected allow them to be easily mocked on a test by
test basis, without having to mess with any global variables that could inadvertently affect
another test.</p>
<h2 id="additional-tools-for-testing-angular-applications" class="ng-scope">Additional tools for testing Angular applications</h2>
<p class="ng-scope">For testing Angular applications there are certain tools that you should use that will make testing much
easier to set up and run.</p>
<h3 id="karma" class="ng-scope">Karma</h3>
<p class="ng-scope"><a href="http://karma-runner.github.io/">Karma</a> is a JavaScript command line tool that can be used to spawn
a web server which loads your application's source code and executes your tests. You can configure
Karma to run against a number of browsers, which is useful for being confident that your application
works on all browsers you need to support. Karma is executed on the command line and will display
the results of your tests on the command line once they have run in the browser.</p>
<p class="ng-scope">Karma is a NodeJS application, and should be installed through npm. Full installation instructions
are available on <a href="http://karma-runner.github.io/0.12/intro/installation.html">the Karma website</a>.</p>
<h3 id="jasmine" class="ng-scope">Jasmine</h3>
<p class="ng-scope"><a href="http://jasmine.github.io/1.3/introduction.html">Jasmine</a> is a test driven development framework for
JavaScript that has become the most popular choice for testing Angular applications. Jasmine
provides functions to help with structuring your tests and also making assertions. As your tests
grow, keeping them well structured and documented is vital, and Jasmine helps achieve this.</p>
<p class="ng-scope">In Jasmine we use the <code><span class="pln">describe</span></code> function to group our tests together:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">"sorting the list of users"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// individual tests go here</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">And then each individual test is defined within a call to the <code><span class="pln">it</span></code> function:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'sorting the list of users'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  it</span><span class="pun">(</span><span class="str">'sorts in descending order by default'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// your test assertion goes here</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Grouping related tests within <code><span class="pln">describe</span></code> blocks and describing each individual test within an
<code><span class="pln">it</span></code> call keeps your tests self documenting.</p>
<p class="ng-scope">Finally, Jasmine provides matchers which let you make assertions:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'sorting the list of users'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  it</span><span class="pun">(</span><span class="str">'sorts in descending order by default'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> users </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'jack'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'igor'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'jeff'</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> sorted </span><span class="pun">=</span><span class="pln"> sortUsers</span><span class="pun">(</span><span class="pln">users</span><span class="pun">);</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">sorted</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">([</span><span class="str">'jeff'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'jack'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'igor'</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Jasmine comes with a number of matchers that help you make a variety of assertions. You should <a href="http://jasmine.github.io/1.3/introduction.html#section-Matchers">read
the Jasmine documentation</a> to see
what they are. To use Jasmine with Karma, we use the
<a href="https://github.com/karma-runner/karma-jasmine">karma-jasmine</a> test runner.</p>
<h3 id="angular-mocks" class="ng-scope">angular-mocks</h3>
<p class="ng-scope">Angular also provides the <a href="https://docs.angularjs.org/api/ngMock"><code><span class="pln">ngMock</span></code></a> module, which provides mocking for your tests. This is used
to inject and mock Angular services within unit tests. In addition, it is able to extend other
modules so they are synchronous. Having tests synchronous keeps them much cleaner and easier to work
with. One of the most useful parts of ngMock is <a href="https://docs.angularjs.org/api/ngMock/service/$httpBackend"><code><span class="pln">$httpBackend</span></code></a>, which lets us mock XHR
requests in tests, and return sample data instead.</p>
<h2 id="testing-a-controller" class="ng-scope">Testing a Controller</h2>
<p class="ng-scope">Because Angular separates logic from the view layer, it keeps controllers easy to test. Let's take a
look at how we might test the controller below, which provides <code><span class="pln">$scope</span><span class="pun">.</span><span class="pln">grade</span></code>, which sets a property
on the scope based on the length of the password.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'app'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">PasswordController</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">password </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">grade </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> size </span><span class="pun">=</span><span class="pln"> $scope</span><span class="pun">.</span><span class="pln">password</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">size </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">strength </span><span class="pun">=</span><span class="pln"> </span><span class="str">'strong'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">size </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">strength </span><span class="pun">=</span><span class="pln"> </span><span class="str">'medium'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">strength </span><span class="pun">=</span><span class="pln"> </span><span class="str">'weak'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Because controllers are not available on the global scope, we need to use <a href="https://docs.angularjs.org/api/ngMock/function/angular.mock.inject"><code><span class="pln">angular</span><span class="pun">.</span><span class="pln">mock</span><span class="pun">.</span><span class="pln">inject</span></code></a> to inject our controller first. The first step is to use the <code><span class="kwd">module</span></code> function,
which is provided by angular-mocks. This loads in the module it's given, so it is available in your
tests. We pass this into <code><span class="pln">beforeEach</span></code>, which is a function Jasmine provides that lets us run code
before each test. Then we can use <code><span class="pln">inject</span></code> to access <code><span class="pln">$controller</span></code>, the service that is responsible
for instantiating controllers.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="str">'app'</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> $controller</span><span class="pun">;</span><span class="pln">

  beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">_$controller_</span><span class="pun">){</span><span class="pln">
    </span><span class="com">// The injector unwraps the underscores (_) from around the parameter names when matching</span><span class="pln">
    $controller </span><span class="pun">=</span><span class="pln"> _$controller_</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  describe</span><span class="pun">(</span><span class="str">'$scope.grade'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    it</span><span class="pun">(</span><span class="str">'sets the strength to "strong" if the password length is &gt;8 chars'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> $scope </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> controller </span><span class="pun">=</span><span class="pln"> $controller</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> $scope</span><span class="pun">:</span><span class="pln"> $scope </span><span class="pun">});</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">password </span><span class="pun">=</span><span class="pln"> </span><span class="str">'longerthaneightchars'</span><span class="pun">;</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">grade</span><span class="pun">();</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">strength</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'strong'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Notice how by nesting the <code><span class="pln">describe</span></code> calls and being descriptive when calling them with strings, the
test is very clear. It documents exactly what it is testing, and at a glance you can quickly see
what is happening. Now let's add the test for when the password is less than three characters, which
should see <code><span class="pln">$scope</span><span class="pun">.</span><span class="pln">strength</span></code> set to "weak":</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="str">'app'</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> $controller</span><span class="pun">;</span><span class="pln">

  beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">_$controller_</span><span class="pun">){</span><span class="pln">
    </span><span class="com">// The injector unwraps the underscores (_) from around the parameter names when matching</span><span class="pln">
    $controller </span><span class="pun">=</span><span class="pln"> _$controller_</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  describe</span><span class="pun">(</span><span class="str">'$scope.grade'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    it</span><span class="pun">(</span><span class="str">'sets the strength to "strong" if the password length is &gt;8 chars'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> $scope </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> controller </span><span class="pun">=</span><span class="pln"> $controller</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> $scope</span><span class="pun">:</span><span class="pln"> $scope </span><span class="pun">});</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">password </span><span class="pun">=</span><span class="pln"> </span><span class="str">'longerthaneightchars'</span><span class="pun">;</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">grade</span><span class="pun">();</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">strength</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'strong'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    it</span><span class="pun">(</span><span class="str">'sets the strength to "weak" if the password length &lt;3 chars'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> $scope </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> controller </span><span class="pun">=</span><span class="pln"> $controller</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> $scope</span><span class="pun">:</span><span class="pln"> $scope </span><span class="pun">});</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">password </span><span class="pun">=</span><span class="pln"> </span><span class="str">'a'</span><span class="pun">;</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">grade</span><span class="pun">();</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">strength</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'weak'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Now we have two tests, but notice the duplication between the tests. Both have to
create the <code><span class="pln">$scope</span></code> variable and create the controller. As we add new tests, this duplication is
only going to get worse. Thankfully, Jasmine provides <code><span class="pln">beforeEach</span></code>, which lets us run a function
before each individual test. Let's see how that would tidy up our tests:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="str">'app'</span><span class="pun">));</span><span class="pln">

  </span><span class="kwd">var</span><span class="pln"> $controller</span><span class="pun">;</span><span class="pln">

  beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">_$controller_</span><span class="pun">){</span><span class="pln">
    </span><span class="com">// The injector unwraps the underscores (_) from around the parameter names when matching</span><span class="pln">
    $controller </span><span class="pun">=</span><span class="pln"> _$controller_</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  describe</span><span class="pun">(</span><span class="str">'$scope.grade'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> $scope</span><span class="pun">,</span><span class="pln"> controller</span><span class="pun">;</span><span class="pln">

    beforeEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
      controller </span><span class="pun">=</span><span class="pln"> $controller</span><span class="pun">(</span><span class="str">'PasswordController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> $scope</span><span class="pun">:</span><span class="pln"> $scope </span><span class="pun">});</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    it</span><span class="pun">(</span><span class="str">'sets the strength to "strong" if the password length is &gt;8 chars'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">password </span><span class="pun">=</span><span class="pln"> </span><span class="str">'longerthaneightchars'</span><span class="pun">;</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">grade</span><span class="pun">();</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">strength</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'strong'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    it</span><span class="pun">(</span><span class="str">'sets the strength to "weak" if the password length &lt;3 chars'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">password </span><span class="pun">=</span><span class="pln"> </span><span class="str">'a'</span><span class="pun">;</span><span class="pln">
      $scope</span><span class="pun">.</span><span class="pln">grade</span><span class="pun">();</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">strength</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="str">'weak'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">We've moved the duplication out and into the <code><span class="pln">beforeEach</span></code> block. Each individual test now
only contains the code specific to that test, and not code that is general across all tests. As you
expand your tests, keep an eye out for locations where you can use <code><span class="pln">beforeEach</span></code> to tidy up tests.
<code><span class="pln">beforeEach</span></code> isn't the only function of this sort that Jasmine provides, and the <a href="http://jasmine.github.io/1.3/introduction.html#section-Setup_and_Teardown">documentation
lists the others</a>.</p>
<h2 id="testing-filters" class="ng-scope">Testing Filters</h2>
<p class="ng-scope"><a href="https://docs.angularjs.org/api/ng/provider/$filterProvider">Filters</a> are functions which transform the data into a user readable
format. They are important because they remove the formatting responsibility from the application
logic, further simplifying the application logic.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">myModule</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="str">'length'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">text</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="str">''</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">text </span><span class="pun">||</span><span class="pln"> </span><span class="str">''</span><span class="pun">)).</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

describe</span><span class="pun">(</span><span class="str">'length filter'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  it</span><span class="pun">(</span><span class="str">'returns 0 when given null'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> length </span><span class="pun">=</span><span class="pln"> $filter</span><span class="pun">(</span><span class="str">'length'</span><span class="pun">);</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">length</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">)).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  it</span><span class="pun">(</span><span class="str">'returns the correct value when given a string of chars'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> length </span><span class="pun">=</span><span class="pln"> $filter</span><span class="pun">(</span><span class="str">'length'</span><span class="pun">);</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">length</span><span class="pun">(</span><span class="str">'abc'</span><span class="pun">)).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="lit">3</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<h2 id="testing-directives" class="ng-scope">Testing Directives</h2>
<p class="ng-scope">Directives in angular are responsible for encapsulating complex functionality within custom HTML tags,
attributes, classes or comments. Unit tests are very important for directives because the components
you create with directives may be used throughout your application and in many different contexts.</p>
<h3 id="simple-html-element-directive" class="ng-scope">Simple HTML Element Directive</h3>
<p class="ng-scope">Let's start with an angular app with no dependencies.</p>
<pre class="ng-scope"><code class="lang-js"><span class="kwd">var</span><span class="pln"> app </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]);</span></code></pre>
<p class="ng-scope">Now we can add a directive to our app.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">app</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'aGreatEye'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
        replace</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
        template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;h1&gt;lidless, wreathed in flame, {{1 + 1}} times&lt;/h1&gt;'</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">This directive is used as a tag <code><span class="tag">&lt;a-great-eye&gt;&lt;/a-great-eye&gt;</span></code>. It replaces the entire tag with the
template <code><span class="tag">&lt;h1&gt;</span><span class="pln">lidless, wreathed in flame, {{1 + 1}} times</span><span class="tag">&lt;/h1&gt;</span></code>. Now we are going to write a jasmine unit test to
verify this functionality. Note that the expression <code><span class="pun">{{</span><span class="lit">1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">}}</span></code> times will also be evaluated in the rendered content.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'Unit testing great quotes'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> $compile</span><span class="pun">,</span><span class="pln">
      $rootScope</span><span class="pun">;</span><span class="pln">

  </span><span class="com">// Load the myApp module, which contains the directive</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">));</span><span class="pln">

  </span><span class="com">// Store references to $rootScope and $compile</span><span class="pln">
  </span><span class="com">// so they are available to all tests in this describe block</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">_$compile_</span><span class="pun">,</span><span class="pln"> _$rootScope_</span><span class="pun">){</span><span class="pln">
    </span><span class="com">// The injector unwraps the underscores (_) from around the parameter names when matching</span><span class="pln">
    $compile </span><span class="pun">=</span><span class="pln"> _$compile_</span><span class="pun">;</span><span class="pln">
    $rootScope </span><span class="pun">=</span><span class="pln"> _$rootScope_</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  it</span><span class="pun">(</span><span class="str">'Replaces the element with the appropriate content'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Compile a piece of HTML containing the directive</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> element </span><span class="pun">=</span><span class="pln"> $compile</span><span class="pun">(</span><span class="str">"&lt;a-great-eye&gt;&lt;/a-great-eye&gt;"</span><span class="pun">)(</span><span class="pln">$rootScope</span><span class="pun">);</span><span class="pln">
    </span><span class="com">// fire all the watches, so the scope expression {{1 + 1}} will be evaluated</span><span class="pln">
    $rootScope</span><span class="pun">.</span><span class="pln">$digest</span><span class="pun">();</span><span class="pln">
    </span><span class="com">// Check that the compiled element contains the templated content</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">html</span><span class="pun">()).</span><span class="pln">toContain</span><span class="pun">(</span><span class="str">"lidless, wreathed in flame, 2 times"</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">We inject the $compile service and $rootScope before each jasmine test. The $compile service is used
to render the aGreatEye directive. After rendering the directive we ensure that the directive has
replaced the content and "lidless, wreathed in flame, 2 times" is present.</p>
<div class="alert alert-info ng-scope">
<strong>Underscore notation</strong>:

The use of the underscore notation (e.g.: <code><span class="pln">_$rootScope_</span></code>) is a convention wide spread in AngularJS
community to keep the variable names clean in your tests. That's why the
<a href="https://docs.angularjs.org/api/auto/service/$injector"><code><span class="pln">$injector</span></code></a> strips out the leading and the trailing underscores when
matching the parameters. The underscore rule applies <strong><em>only</em></strong> if the name starts <strong>and</strong> ends with
exactly one underscore, otherwise no replacing happens.
</div>

<h3 id="testing-transclusion-directives" class="ng-scope">Testing Transclusion Directives</h3>
<p class="ng-scope">Directives that use transclusion are treated specially by the compiler.  Before their compile
function is called, the contents of the directive's element are removed from the element and
provided via a transclusion function.  The directive's template is then appended to the directive's
element, to which it can then insert the transcluded content into its template.</p>
<p class="ng-scope">Before compilation:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">translude-directive</span><span class="tag">&gt;</span><span class="pln">
  Some transcluded content
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">After transclusion extraction:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">transclude-directive</span><span class="tag">&gt;&lt;/div&gt;</span></code></pre>
<p class="ng-scope">After compilation:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">transclude-directive</span><span class="tag">&gt;</span><span class="pln">
  Some Template
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;</span><span class="pln">Some transcluded content</span><span class="tag">&lt;/span&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">If the directive is using 'element' transclusion, the compiler will actually remove the
directive's entire element from the DOM and replace it with a comment node. The compiler then
inserts the directive's template "after" this comment node, as a sibling.</p>
<p class="ng-scope">Before compilation</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">element-transclude</span><span class="tag">&gt;</span><span class="pln">
  Some Content
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">After transclusion extraction</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="com">&lt;!-- elementTransclude --&gt;</span></code></pre>
<p class="ng-scope">After compilation:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="com">&lt;!-- elementTransclude --&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">element-transclude</span><span class="tag">&gt;</span><span class="pln">
  Some Template
  </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-transclude</span><span class="tag">&gt;</span><span class="pln">Some transcluded content</span><span class="tag">&lt;/span&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">It is important to be aware of this when writing tests for directives that use 'element'
transclusion.  If you place the directive on the root element of the DOM fragment that you
pass to <a href="https://docs.angularjs.org/api/ng/service/$compile"><code><span class="pln">$compile</span></code></a>, then the DOM node returned from the linking function will be the
comment node and you will lose the ability to access the template and transcluded content.</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">var</span><span class="pln"> node </span><span class="pun">=</span><span class="pln"> $compile</span><span class="pun">(</span><span class="str">'&lt;div element-transclude&gt;&lt;/div&gt;'</span><span class="pun">)(</span><span class="pln">$rootScope</span><span class="pun">);</span><span class="pln">
expect</span><span class="pun">(</span><span class="pln">node</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeType</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">COMMENT_NODE</span><span class="pun">);</span><span class="pln">
expect</span><span class="pun">(</span><span class="pln">node</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]).</span><span class="pln">toBeUndefined</span><span class="pun">();</span></code></pre>
<p class="ng-scope">To cope with this you simply ensure that your 'element' transclude directive is wrapped in an
element, such as a <code><span class="tag">&lt;div&gt;</span></code>.</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">var</span><span class="pln"> node </span><span class="pun">=</span><span class="pln"> $compile</span><span class="pun">(</span><span class="str">'&lt;div&gt;&lt;div element-transclude&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class="pun">)(</span><span class="pln">$rootScope</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> contents </span><span class="pun">=</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">contents</span><span class="pun">();</span><span class="pln">
expect</span><span class="pun">(</span><span class="pln">contents</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">nodeType</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">COMMENT_NODE</span><span class="pun">);</span><span class="pln">
expect</span><span class="pun">(</span><span class="pln">contents</span><span class="pun">[</span><span class="lit">1</span><span class="pun">].</span><span class="pln">nodeType</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">ELEMENT_NODE</span><span class="pun">);</span></code></pre>
<h3 id="testing-directives-with-external-templates" class="ng-scope">Testing Directives With External Templates</h3>
<p class="ng-scope">If your directive uses <code><span class="pln">templateUrl</span></code>, consider using
<a href="https://github.com/karma-runner/karma-ng-html2js-preprocessor">karma-ng-html2js-preprocessor</a>
to pre-compile HTML templates and thus avoid having to load them over HTTP during test execution.
Otherwise you may run into issues if the test directory hierarchy differs from the application's.</p>
<h2 id="sample-project" class="ng-scope">Sample project</h2>
<p class="ng-scope">See the <a href="https://github.com/angular/angular-seed">angular-seed</a> project for an example.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="e2e-testing" class="document-section"><span class="guide-doc">E2E Testing</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/e2e-testing.ngdoc?message=docs(guide%2FE2E%20Testing)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="e2e-testing" class="ng-scope">E2E Testing</h1>
<div class="alert alert-danger ng-scope">
<strong>Note:</strong> In the past, end-to-end testing could be done with a deprecated tool called
<a href="http://code.angularjs.org/1.2.16/docs/guide/e2e-testing">Angular Scenario Runner</a>. That tool
is now in maintenance mode.
</div>

<p class="ng-scope">As applications grow in size and complexity, it becomes unrealistic to rely on manual testing to
verify the correctness of new features, catch bugs and notice regressions. Unit tests
are the first line of defense for catching bugs, but sometimes issues come up with integration
between components which can't be captured in a unit test. End-to-end tests are made to find
these problems.</p>
<p class="ng-scope">We have built <a href="https://github.com/angular/protractor">Protractor</a>, an end
to end test runner which simulates user interactions that will help you verify the health of your
Angular application.</p>
<h2 id="using-protractor" class="ng-scope">Using Protractor</h2>
<p class="ng-scope">Protractor is a <a href="http://nodejs.org/">Node.js</a> program, and runs end-to-end tests that are also
written in JavaScript and run with node. Protractor uses <a href="https://code.google.com/p/selenium/wiki/GettingStarted">WebDriver</a>
to control browsers and simulate user actions.</p>
<p class="ng-scope">For more information on Protractor, view <a href="http://angular.github.io/protractor/#/getting-started">getting started</a>
or the <a href="http://angular.github.io/protractor/#/api">api docs</a>.</p>
<p class="ng-scope">Protractor uses <a href="http://jasmine.github.io/1.3/introduction.html">Jasmine</a> for its test syntax.
As in unit testing, a test file is comprised of one or
more <code><span class="pln">it</span></code> blocks that describe the requirements of your application. <code><span class="pln">it</span></code> blocks are made of
<strong>commands</strong> and <strong>expectations</strong>. Commands tell Protractor to do something with the application
such as navigate to a page or click on a button. Expectations tell Protractor to assert something
about the application's state, such as the value of a field or the current URL.</p>
<p class="ng-scope">If any expectation within an <code><span class="pln">it</span></code> block fails, the runner marks the <code><span class="pln">it</span></code> as "failed" and continues
on to the next block.</p>
<p class="ng-scope">Test files may also have <code><span class="pln">beforeEach</span></code> and <code><span class="pln">afterEach</span></code> blocks, which will be run before or after
each <code><span class="pln">it</span></code> block regardless of whether the block passes or fails.</p>
<p class="ng-scope"><img src="./ng-guide-all3_files/scenario_runner.png"></p>
<p class="ng-scope">In addition to the above elements, tests may also contain helper functions to avoid duplicating
code in the <code><span class="pln">it</span></code> blocks.</p>
<p class="ng-scope">Here is an example of a simple test:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'TODO list'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  it</span><span class="pun">(</span><span class="str">'should filter results'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="com">// Find the element with ng-model="user" and type "jacksparrow" into it</span><span class="pln">
    element</span><span class="pun">(</span><span class="pln">by</span><span class="pun">.</span><span class="pln">model</span><span class="pun">(</span><span class="str">'user'</span><span class="pun">)).</span><span class="pln">sendKeys</span><span class="pun">(</span><span class="str">'jacksparrow'</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Find the first (and only) button on the page and click it</span><span class="pln">
    element</span><span class="pun">(</span><span class="pln">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">':button'</span><span class="pun">)).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

    </span><span class="com">// Verify that there are 10 tasks</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">all</span><span class="pun">(</span><span class="pln">by</span><span class="pun">.</span><span class="pln">repeater</span><span class="pun">(</span><span class="str">'task in tasks'</span><span class="pun">)).</span><span class="pln">count</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="lit">10</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Enter 'groceries' into the element with ng-model="filterText"</span><span class="pln">
    element</span><span class="pun">(</span><span class="pln">by</span><span class="pun">.</span><span class="pln">model</span><span class="pun">(</span><span class="str">'filterText'</span><span class="pun">)).</span><span class="pln">sendKeys</span><span class="pun">(</span><span class="str">'groceries'</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Verify that now there is only one item in the task list</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">all</span><span class="pun">(</span><span class="pln">by</span><span class="pun">.</span><span class="pln">repeater</span><span class="pun">(</span><span class="str">'task in tasks'</span><span class="pun">)).</span><span class="pln">count</span><span class="pun">()).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">This test describes the requirements of a ToDo list, specifically, that it should be able to
filter the list of items.</p>
<h2 id="example" class="ng-scope">Example</h2>
<p class="ng-scope">See the <a href="https://github.com/angular/angular-seed">angular-seed</a> project for more examples, or look
at the embedded examples in the Angular documentation (For example, <a href="https://docs.angularjs.org/api/ng/service/$http">$http</a>
has an end-to-end test in the example under the <code><span class="pln">protractor</span><span class="pun">.</span><span class="pln">js</span></code> tag).</p>
<h2 id="caveats" class="ng-scope">Caveats</h2>
<p class="ng-scope">Protractor does not work out-of-the-box with apps that bootstrap manually using
<code><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span></code>. You must use the <code><span class="atn">ng-app</span></code> directive.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="$location" class="document-section"><span class="guide-doc">Using $location</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/$location.ngdoc?message=docs(guide%2FUsing%20$location)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="what-does-it-do-" class="ng-scope">What does it do?</h1>
<p class="ng-scope">The <code><span class="pln">$location</span></code> service parses the URL in the browser address bar (based on <a href="https://developer.mozilla.org/en/window.location"><code><span class="pln">window</span><span class="pun">.</span><span class="pln">location</span></code></a>) and makes the URL available to
your application. Changes to the URL in the address bar are reflected into the <code><span class="pln">$location</span></code> service and
changes to <code><span class="pln">$location</span></code> are reflected into the browser address bar.</p>
<p class="ng-scope"><strong>The $location service:</strong></p>
<ul class="ng-scope">
<li>Exposes the current URL in the browser address bar, so you can<ul>
<li>Watch and observe the URL.</li>
<li>Change the URL.</li>
</ul>
</li>
<li>Maintains synchronization between itself and the browser's URL when the user<ul>
<li>Changes the address in the browser's address bar.</li>
<li>Clicks the back or forward button in the browser (or clicks a History link).</li>
<li>Clicks on a link in the page.</li>
</ul>
</li>
<li>Represents the URL object as a set of methods (protocol, host, port, path, search, hash).</li>
</ul>
<h2 id="comparing-location-to-window-location-" class="ng-scope">Comparing <code><span class="pln">$location</span></code> to <code><span class="pln">window</span><span class="pun">.</span><span class="pln">location</span></code></h2>
<table class="table ng-scope">
<thead>

  <tr>
    <th class="empty-corner-lt"></th>
    <th>window.location</th>
    <th>$location service</th>
  </tr>

</thead>
<tbody>

  <tr>
    <td class="head">purpose</td>
    <td>allow read/write access to the current browser location</td>
    <td>same</td>
  </tr>

  <tr>
    <td class="head">API</td>
    <td>exposes "raw" object with properties that can be directly modified</td>
    <td>exposes jQuery-style getters and setters</td>
  </tr>

  <tr>
    <td class="head">integration with angular application life-cycle</td>
    <td>none</td>
    <td>knows about all internal life-cycle phases, integrates with <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watch</a>, ...</td>
  </tr>

  <tr>
    <td class="head">seamless integration with HTML5 API</td>
    <td>no</td>
    <td>yes (with a fallback for legacy browsers)</td>
  </tr>

  <tr>
    <td class="head">aware of docroot/context from which the application is loaded</td>
    <td>no - window.location.pathname returns "/docroot/actual/path"</td>
    <td>yes - $location.path() returns "/actual/path"</td>
  </tr>

</tbody>
</table>

<h2 id="when-should-i-use-location-" class="ng-scope">When should I use <code><span class="pln">$location</span></code>?</h2>
<p class="ng-scope">Any time your application needs to react to a change in the current URL or if you want to change
the current URL in the browser.</p>
<h2 id="what-does-it-not-do-" class="ng-scope">What does it not do?</h2>
<p class="ng-scope">It does not cause a full page reload when the browser URL is changed. To reload the page after
changing the URL, use the lower-level API, <code><span class="pln">$window</span><span class="pun">.</span><span class="pln">location</span><span class="pun">.</span><span class="pln">href</span></code>.</p>
<h1 id="general-overview-of-the-api" class="ng-scope">General overview of the API</h1>
<p class="ng-scope">The <code><span class="pln">$location</span></code> service can behave differently, depending on the configuration that was provided to
it when it was instantiated. The default configuration is suitable for many applications, for
others customizing the configuration can enable new features.</p>
<p class="ng-scope">Once the <code><span class="pln">$location</span></code> service is instantiated, you can interact with it via jQuery-style getter and
setter methods that allow you to get or change the current URL in the browser.</p>
<h2 id="-location-service-configuration" class="ng-scope"><code><span class="pln">$location</span></code> service configuration</h2>
<p class="ng-scope">To configure the <code><span class="pln">$location</span></code> service, retrieve the
<a href="https://docs.angularjs.org/api/ng/provider/$locationProvider">$locationProvider</a> and set the parameters as follows:</p>
<ul class="ng-scope">
<li><p><strong>html5Mode(mode)</strong>: {boolean|Object}<br>
<code><span class="kwd">true</span></code> or <code><span class="pln">enabled</span><span class="pun">:</span><span class="kwd">true</span></code> - see HTML5 mode<br>
<code><span class="kwd">false</span></code> or <code><span class="pln">enabled</span><span class="pun">:</span><span class="kwd">false</span></code> - see Hashbang mode<br>
<code><span class="pln">requireBase</span><span class="pun">:</span><span class="kwd">true</span></code> - see Relative links<br>
default: <code><span class="pln">enabled</span><span class="pun">:</span><span class="kwd">false</span></code></p>
</li>
<li><p><strong>hashPrefix(prefix)</strong>: {string}<br>
prefix used for Hashbang URLs (used in Hashbang mode or in legacy browser in Html5 mode)<br>
default: <code><span class="str">""</span></code></p>
</li>
</ul>
<h3 id="example-configuration" class="ng-scope">Example configuration</h3>
<pre class="ng-scope"><code class="lang-js"><span class="pln">$locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">).</span><span class="pln">hashPrefix</span><span class="pun">(</span><span class="str">'!'</span><span class="pun">);</span></code></pre>
<h2 id="getter-and-setter-methods" class="ng-scope">Getter and setter methods</h2>
<p class="ng-scope"><code><span class="pln">$location</span></code> service provides getter methods for read-only parts of the URL (absUrl, protocol, host,
port) and getter / setter methods for url, path, search, hash:</p>
<pre class="ng-scope"><code class="lang-js"><span class="com">// get the current path</span><span class="pln">
$location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">();</span><span class="pln">

</span><span class="com">// change the path</span><span class="pln">
$location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/newValue'</span><span class="pun">)</span></code></pre>
<p class="ng-scope">All of the setter methods return the same <code><span class="pln">$location</span></code> object to allow chaining. For example, to
change multiple segments in one go, chain setters like this:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">$location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/newValue'</span><span class="pun">).</span><span class="pln">search</span><span class="pun">({</span><span class="pln">key</span><span class="pun">:</span><span class="pln"> value</span><span class="pun">});</span></code></pre>
<h2 id="replace-method" class="ng-scope">Replace method</h2>
<p class="ng-scope">There is a special <code><span class="pln">replace</span></code> method which can be used to tell the $location service that the next
time the $location service is synced with the browser, the last history record should be replaced
instead of creating a new one. This is useful when you want to implement redirection, which would
otherwise break the back button (navigating back would retrigger the redirection). To change the
current URL without creating a new browser history record you can call:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">$location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/someNewPath'</span><span class="pun">);</span><span class="pln">
$location</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">();</span><span class="pln">
</span><span class="com">// or you can chain these as: $location.path('/someNewPath').replace();</span></code></pre>
<p class="ng-scope">Note that the setters don't update <code><span class="pln">window</span><span class="pun">.</span><span class="pln">location</span></code> immediately. Instead, the <code><span class="pln">$location</span></code> service is
aware of the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope">scope</a> life-cycle and coalesces multiple <code><span class="pln">$location</span></code>
mutations into one "commit" to the <code><span class="pln">window</span><span class="pun">.</span><span class="pln">location</span></code> object during the scope <code><span class="pln">$digest</span></code> phase. Since
multiple changes to the $location's state will be pushed to the browser as a single change, it's
enough to call the <code><span class="pln">replace</span><span class="pun">()</span></code> method just once to make the entire "commit" a replace operation
rather than an addition to the browser history. Once the browser is updated, the $location service
resets the flag set by <code><span class="pln">replace</span><span class="pun">()</span></code> method and future mutations will create new history records,
unless <code><span class="pln">replace</span><span class="pun">()</span></code> is called again.</p>
<h3 id="setters-and-character-encoding" class="ng-scope">Setters and character encoding</h3>
<p class="ng-scope">You can pass special characters to <code><span class="pln">$location</span></code> service and it will encode them according to rules
specified in <a href="http://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a>. When you access the methods:</p>
<ul class="ng-scope">
<li>All values that are passed to <code><span class="pln">$location</span></code> setter methods, <code><span class="pln">path</span><span class="pun">()</span></code>, <code><span class="pln">search</span><span class="pun">()</span></code>, <code><span class="pln">hash</span><span class="pun">()</span></code>, are
encoded.</li>
<li>Getters (calls to methods without parameters) return decoded values for the following methods
<code><span class="pln">path</span><span class="pun">()</span></code>, <code><span class="pln">search</span><span class="pun">()</span></code>, <code><span class="pln">hash</span><span class="pun">()</span></code>.</li>
<li>When you call the <code><span class="pln">absUrl</span><span class="pun">()</span></code> method, the returned value is a full url with its segments encoded.</li>
<li>When you call the <code><span class="pln">url</span><span class="pun">()</span></code> method, the returned value is path, search and hash, in the form
<code><span class="pun">/</span><span class="pln">path</span><span class="pun">?</span><span class="pln">search</span><span class="pun">=</span><span class="pln">a</span><span class="pun">&amp;</span><span class="pln">b</span><span class="pun">=</span><span class="pln">c</span><span class="com">#hash</span></code>. The segments are encoded as well.</li>
</ul>
<h1 id="hashbang-and-html5-modes" class="ng-scope">Hashbang and HTML5 Modes</h1>
<p class="ng-scope"><code><span class="pln">$location</span></code> service has two configuration modes which control the format of the URL in the browser
address bar: <strong>Hashbang mode</strong> (the default) and the <strong>HTML5 mode</strong> which is based on using the
HTML5 <a href="http://www.w3.org/TR/html5/introduction.html#history-0">History API</a>. Applications use the same API in
both modes and the <code><span class="pln">$location</span></code> service will work with appropriate URL segments and browser APIs to
facilitate the browser URL change and history management.</p>
<p class="ng-scope"><img src="./ng-guide-all3_files/hashbang_vs_regular_url.jpg"></p>
<table class="table ng-scope">
<thead>

  <tr>
    <th class="empty-corner-lt"></th>
    <th>Hashbang mode</th>
    <th>HTML5 mode</th>
  </tr>

</thead>
<tbody>

  <tr>
    <td class="head">configuration</td>
    <td>the default</td>
    <td>{ html5Mode: true }</td>
  </tr>

  <tr>
    <td class="head">URL format</td>
    <td>hashbang URLs in all browsers</td>
    <td>regular URLs in modern browser, hashbang URLs in old browser</td>
  </tr>

  <tr>
    <td class="head">&lt;a href=""&gt; link rewriting</td>
    <td>no</td>
    <td>yes</td>
  </tr>

  <tr>
    <td class="head">requires server-side configuration</td>
    <td>no</td>
    <td>yes</td>
  </tr>
</tbody>
</table>

<h2 id="hashbang-mode-default-mode-" class="ng-scope">Hashbang mode (default mode)</h2>
<p class="ng-scope">In this mode, <code><span class="pln">$location</span></code> uses Hashbang URLs in all browsers.
Angular also does not intercept and rewrite links in this mode. I.e. links work
as expected and also perform full page reloads when other parts of the url
than the hash fragment was changed.</p>
<h3 id="example" class="ng-scope">Example</h3>
<pre class="ng-scope"><code class="lang-js"><span class="pln">it</span><span class="pun">(</span><span class="str">'should show example'</span><span class="pun">,</span><span class="pln"> inject</span><span class="pun">(</span><span class="pln">
  </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$locationProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">
    $locationProvider</span><span class="pun">.</span><span class="pln">hashPrefix</span><span class="pun">(</span><span class="str">'!'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$location</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// open http://example.com/base/index.html#!/a</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/base/index.html#!/a'</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'/a'</span><span class="pln">

    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/foo'</span><span class="pun">)</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/base/index.html#!/foo'</span><span class="pln">

    $location</span><span class="pun">.</span><span class="pln">search</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">search</span><span class="pun">({</span><span class="pln">a</span><span class="pun">:</span><span class="pln"> </span><span class="str">'b'</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">});</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/base/index.html#!/foo?a=b&amp;c'</span><span class="pln">

    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/new'</span><span class="pun">).</span><span class="pln">search</span><span class="pun">(</span><span class="str">'x=y'</span><span class="pun">);</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/base/index.html#!/new?x=y'</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">));</span></code></pre>
<h2 id="html5-mode" class="ng-scope">HTML5 mode</h2>
<p class="ng-scope">In HTML5 mode, the <code><span class="pln">$location</span></code> service getters and setters interact with the browser URL address
through the HTML5 history API. This allows for use of regular URL path and search segments,
instead of their hashbang equivalents. If the HTML5 History API is not supported by a browser, the
<code><span class="pln">$location</span></code> service will fall back to using the hashbang URLs automatically. This frees you from
having to worry about whether the browser displaying your app supports the history API  or not; the
<code><span class="pln">$location</span></code> service transparently uses the best available option.</p>
<ul class="ng-scope">
<li>Opening a regular URL in a legacy browser -&gt; redirects to a hashbang URL</li>
<li>Opening hashbang URL in a modern browser -&gt; rewrites to a regular URL</li>
</ul>
<p class="ng-scope">Note that in this mode, Angular intercepts all links (subject to the "Html link rewriting" rules below)
and updates the url in a way that never performs a full page reload.</p>
<h3 id="example" class="ng-scope">Example</h3>
<pre class="ng-scope"><code class="lang-js"><span class="pln">it</span><span class="pun">(</span><span class="str">'should show example'</span><span class="pun">,</span><span class="pln"> inject</span><span class="pun">(</span><span class="pln">
  </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$locationProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
    $locationProvider</span><span class="pun">.</span><span class="pln">hashPrefix</span><span class="pun">(</span><span class="str">'!'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$location</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// in browser with HTML5 history support:</span><span class="pln">
    </span><span class="com">// open http://example.com/#!/a -&gt; rewrite to http://example.com/a</span><span class="pln">
    </span><span class="com">// (replacing the http://example.com/#!/a history record)</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'/a'</span><span class="pln">

    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/foo'</span><span class="pun">);</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/foo'</span><span class="pln">

    $location</span><span class="pun">.</span><span class="pln">search</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">search</span><span class="pun">({</span><span class="pln">a</span><span class="pun">:</span><span class="pln"> </span><span class="str">'b'</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">});</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/foo?a=b&amp;c'</span><span class="pln">

    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/new'</span><span class="pun">).</span><span class="pln">search</span><span class="pun">(</span><span class="str">'x=y'</span><span class="pun">);</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">url</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'new?x=y'</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/new?x=y'</span><span class="pln">

    </span><span class="com">// in browser without html5 history support:</span><span class="pln">
    </span><span class="com">// open http://example.com/new?x=y -&gt; redirect to http://example.com/#!/new?x=y</span><span class="pln">
    </span><span class="com">// (again replacing the http://example.com/new?x=y history item)</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'/new'</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">search</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="pun">{</span><span class="pln">x</span><span class="pun">:</span><span class="pln"> </span><span class="str">'y'</span><span class="pun">}</span><span class="pln">

    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/foo/bar'</span><span class="pun">);</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'/foo/bar'</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">url</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'/foo/bar?x=y'</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">absUrl</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'http://example.com/#!/foo/bar?x=y'</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">));</span></code></pre>
<h3 id="fallback-for-legacy-browsers" class="ng-scope">Fallback for legacy browsers</h3>
<p class="ng-scope">For browsers that support the HTML5 history API, <code><span class="pln">$location</span></code> uses the HTML5 history API to write
path and search. If the history API is not supported by a browser, <code><span class="pln">$location</span></code> supplies a Hasbang
URL. This frees you from having to worry about whether the browser viewing your app supports the
history API  or not; the <code><span class="pln">$location</span></code> service makes this transparent to you.</p>
<h3 id="html-link-rewriting" class="ng-scope">Html link rewriting</h3>
<p class="ng-scope">When you use HTML5 history API mode, you will not need special hashbang links. All you have to do
is specify regular URL links, such as: <code><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/some?foo=bar"</span><span class="tag">&gt;</span><span class="pln">link</span><span class="tag">&lt;/a&gt;</span></code></p>
<p class="ng-scope">When a user clicks on this link,</p>
<ul class="ng-scope">
<li>In a legacy browser, the URL changes to <code><span class="str">/index.html#!/</span><span class="pln">some</span><span class="pun">?</span><span class="pln">foo</span><span class="pun">=</span><span class="pln">bar</span></code></li>
<li>In a modern browser, the URL changes to <code><span class="pun">/</span><span class="pln">some</span><span class="pun">?</span><span class="pln">foo</span><span class="pun">=</span><span class="pln">bar</span></code></li>
</ul>
<p class="ng-scope">In cases like the following, links are not rewritten; instead, the browser will perform a full page
reload to the original link.</p>
<ul class="ng-scope">
<li>Links that contain <code><span class="pln">target</span></code> element<br>
Example: <code><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/ext/link?a=b"</span><span class="pln"> </span><span class="atn">target</span><span class="pun">=</span><span class="atv">"_self"</span><span class="tag">&gt;</span><span class="pln">link</span><span class="tag">&lt;/a&gt;</span></code></li>
<li>Absolute links that go to a different domain<br>
Example: <code><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"http://angularjs.org/"</span><span class="tag">&gt;</span><span class="pln">link</span><span class="tag">&lt;/a&gt;</span></code></li>
<li>Links starting with '/' that lead to a different base path<br>
Example: <code><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/not-my-base/link"</span><span class="tag">&gt;</span><span class="pln">link</span><span class="tag">&lt;/a&gt;</span></code></li>
</ul>
<h3 id="relative-links" class="ng-scope">Relative links</h3>
<p class="ng-scope">Be sure to check all relative links, images, scripts etc. Angular requires you to specify the url
base in the head of your main html file (<code><span class="tag">&lt;base</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/my-base"</span><span class="tag">&gt;</span></code>) unless <code><span class="pln">html5Mode</span><span class="pun">.</span><span class="pln">requireBase</span></code> is
set to <code><span class="kwd">false</span></code> in the html5Mode definition object passed to <code><span class="pln">$locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">()</span></code>. With
that, relative urls will always be resolved to this base url, even if the initial url of the
document was different.</p>
<p class="ng-scope">There is one exception: Links that only contain a hash fragment (e.g. <code><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"#target"</span><span class="tag">&gt;</span></code>)
will only change <code><span class="pln">$location</span><span class="pun">.</span><span class="pln">hash</span><span class="pun">()</span></code> and not modify the url otherwise. This is useful for scrolling
to anchors on the same page without needing to know on which page the user currently is.</p>
<h3 id="server-side" class="ng-scope">Server side</h3>
<p class="ng-scope">Using this mode requires URL rewriting on server side, basically you have to rewrite all your links
to entry point of your application (e.g. index.html). Requiring a <code><span class="tag">&lt;base&gt;</span></code> tag is also important for
this case, as it allows Angular to differentiate between the part of the url that is the application
base and the path that should be handled by the application.</p>
<h3 id="sending-links-among-different-browsers" class="ng-scope">Sending links among different browsers</h3>
<p class="ng-scope">Because of rewriting capability in HTML5 mode, your users will be able to open regular url links in
legacy browsers and hashbang links in modern browser:</p>
<ul class="ng-scope">
<li>Modern browser will rewrite hashbang URLs to regular URLs.</li>
<li>Older browsers will redirect regular URLs to hashbang URLs.</li>
</ul>
<h3 id="example" class="ng-scope">Example</h3>
<p class="ng-scope">Here you can see two <code><span class="pln">$location</span></code> instances, both in <strong>Html5 mode</strong>, but on different browsers, so
that you can see the differences. These <code><span class="pln">$location</span></code> services are connected to a fake browsers. Each
input represents the address bar of the browser.</p>
<p class="ng-scope">Note that when you type hashbang url into first browser (or vice versa) it doesn't rewrite /
redirect to regular / hashbang url, as this conversion happens only during parsing the initial URL
= on page reload.</p>
<p class="ng-scope">In these examples we use <code><span class="tag">&lt;base</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/base/index.html"</span><span class="pln"> </span><span class="tag">/&gt;</span></code></p>
<h4 id="browser-in-html5-mode" class="ng-scope">Browser in HTML5 mode</h4>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-location-html5-mode&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-location-html5-mode" module="html5-mode" name="location-html5-mode"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    app.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    fakeBrowser.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    addressBar.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"LocationController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-address-bar</span><span class="tag">&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    $location.protocol() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.protocol()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.host() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.host()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.port() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.port()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.path() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.path()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.search() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.search()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.hash() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.hash()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"navigation"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"http://www.example.com/base/first?a=b"</span><span class="tag">&gt;</span><span class="pln">/base/first?a=b</span><span class="tag">&lt;/a&gt;</span><span class="pln"> |
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"http://www.example.com/base/sec/ond?flag#hash"</span><span class="tag">&gt;</span><span class="pln">sec/ond?flag#hash</span><span class="tag">&lt;/a&gt;</span><span class="pln"> |
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/other-base/another?search"</span><span class="tag">&gt;</span><span class="pln">external</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="app.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">app.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'html5-mode'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'fake-browser'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'address-bar'</span><span class="pun">])</span><span class="pln">

</span><span class="pun">.</span><span class="pln">constant</span><span class="pun">(</span><span class="str">'initUrl'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'http://www.example.com/base/path?a=b#h'</span><span class="pun">)</span><span class="pln">
</span><span class="pun">.</span><span class="pln">constant</span><span class="pun">(</span><span class="str">'baseHref'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'/base/index.html'</span><span class="pun">)</span><span class="pln">
</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'$sniffer'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> history</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">})</span><span class="pln">

</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">"LocationController"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $location</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">$location </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
  angular</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="str">"protocol host port path search hash"</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">" "</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">method</span><span class="pun">){</span><span class="pln">
   $scope</span><span class="pun">.</span><span class="pln">$location</span><span class="pun">[</span><span class="pln">method</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
     </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> $location</span><span class="pun">[</span><span class="pln">method</span><span class="pun">].</span><span class="pln">call</span><span class="pun">(</span><span class="pln">$location</span><span class="pun">);</span><span class="pln">
     </span><span class="kwd">return</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">isObject</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">toJson</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> result</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">})</span><span class="pln">

</span><span class="pun">.</span><span class="pln">config</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$locationProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">).</span><span class="pln">hashPrefix</span><span class="pun">(</span><span class="str">'!'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">})</span><span class="pln">

</span><span class="pun">.</span><span class="pln">run</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$rootElement</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $rootElement</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">stopPropagation</span><span class="pun">();</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="fakeBrowser.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">fakeBrowser.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'fake-browser'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">

</span><span class="pun">.</span><span class="pln">config</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 $provide</span><span class="pun">.</span><span class="pln">decorator</span><span class="pun">(</span><span class="str">'$browser'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$delegate</span><span class="pun">,</span><span class="pln"> baseHref</span><span class="pun">,</span><span class="pln"> initUrl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">onUrlChange </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">urlChange </span><span class="pun">=</span><span class="pln"> fn</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">return</span><span class="pln"> initUrl</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">defer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">,</span><span class="pln"> delay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> fn</span><span class="pun">();</span><span class="pln"> </span><span class="pun">},</span><span class="pln"> delay </span><span class="pun">||</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">baseHref </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">return</span><span class="pln"> baseHref</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">

   </span><span class="kwd">return</span><span class="pln"> $delegate</span><span class="pun">;</span><span class="pln">
 </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="addressBar.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">addressBar.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'address-bar'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'ngAddressBar'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$browser</span><span class="pun">,</span><span class="pln"> $timeout</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Address: &lt;input id="addressBar" type="text" style="width: 400px" &gt;'</span><span class="pun">,</span><span class="pln">
     link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">){</span><span class="pln">
       </span><span class="kwd">var</span><span class="pln"> input </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">.</span><span class="pln">children</span><span class="pun">(</span><span class="str">"input"</span><span class="pun">),</span><span class="pln"> delay</span><span class="pun">;</span><span class="pln">

       input</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'keypress keyup keydown'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
               delay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">delay </span><span class="pun">?</span><span class="pln"> $timeout</span><span class="pun">(</span><span class="pln">fireUrlChange</span><span class="pun">,</span><span class="pln"> </span><span class="lit">250</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
               </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">stopPropagation</span><span class="pun">();</span><span class="pln">
             </span><span class="pun">})</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">val</span><span class="pun">(</span><span class="pln">$browser</span><span class="pun">.</span><span class="pln">url</span><span class="pun">());</span><span class="pln">

       $browser</span><span class="pun">.</span><span class="pln">url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
         </span><span class="kwd">return</span><span class="pln"> url </span><span class="pun">?</span><span class="pln"> input</span><span class="pun">.</span><span class="pln">val</span><span class="pun">(</span><span class="pln">url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> input</span><span class="pun">.</span><span class="pln">val</span><span class="pun">();</span><span class="pln">
       </span><span class="pun">};</span><span class="pln">

       </span><span class="kwd">function</span><span class="pln"> fireUrlChange</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
         delay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
         $browser</span><span class="pun">.</span><span class="pln">urlChange</span><span class="pun">(</span><span class="pln">input</span><span class="pun">.</span><span class="pln">val</span><span class="pun">());</span><span class="pln">
       </span><span class="pun">}</span><span class="pln">
     </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">
 </span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="kwd">var</span><span class="pln"> addressBar </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">"#addressBar"</span><span class="pun">)),</span><span class="pln">
    url </span><span class="pun">=</span><span class="pln"> </span><span class="str">'http://www.example.com/base/path?a=b#h'</span><span class="pun">;</span><span class="pln">


it</span><span class="pun">(</span><span class="str">"should show fake browser info on load"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">addressBar</span><span class="pun">.</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.protocol()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.host()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'www.example.com'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.port()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'80'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.path()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'/path'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.search()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'{"a":"b"}'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.hash()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'h'</span><span class="pun">);</span><span class="pln">

</span><span class="pun">});</span><span class="pln">

it</span><span class="pun">(</span><span class="str">"should change $location accordingly"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> navigation </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">.</span><span class="pln">all</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">"#navigation a"</span><span class="pun">));</span><span class="pln">

  navigation</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="lit">0</span><span class="pun">).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">addressBar</span><span class="pun">.</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">"http://www.example.com/base/first?a=b"</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.protocol()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.host()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'www.example.com'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.port()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'80'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.path()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'/first'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.search()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'{"a":"b"}'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.hash()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">''</span><span class="pun">);</span><span class="pln">


  navigation</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="lit">1</span><span class="pun">).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">addressBar</span><span class="pun">.</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">"http://www.example.com/base/sec/ond?flag#hash"</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.protocol()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.host()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'www.example.com'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.port()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'80'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.path()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'/sec/ond'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.search()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'{"flag":true}'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.hash()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'hash'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(50).html" name="example-location-html5-mode"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h4 id="browser-in-html5-fallback-mode-hashbang-mode-" class="ng-scope">Browser in HTML5 Fallback mode (Hashbang mode)</h4>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-location-hashbang-mode&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-location-hashbang-mode" module="hashbang-mode" name="location-hashbang-mode"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    app.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    fakeBrowser.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    addressBar.js  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    protractor.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"LocationController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-address-bar</span><span class="tag">&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    $location.protocol() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.protocol()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.host() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.host()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.port() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.port()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.path() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.path()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.search() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.search()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
    $location.hash() = </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">ng-bind</span><span class="pun">=</span><span class="atv">"$location.hash()"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln"> </span><span class="tag">&lt;br&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"navigation"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"http://www.example.com/base/first?a=b"</span><span class="tag">&gt;</span><span class="pln">/base/first?a=b</span><span class="tag">&lt;/a&gt;</span><span class="pln"> |
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"http://www.example.com/base/sec/ond?flag#hash"</span><span class="tag">&gt;</span><span class="pln">sec/ond?flag#hash</span><span class="tag">&lt;/a&gt;</span><span class="pln"> |
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/other-base/another?search"</span><span class="tag">&gt;</span><span class="pln">external</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="app.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">app.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'hashbang-mode'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'fake-browser'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'address-bar'</span><span class="pun">])</span><span class="pln">

</span><span class="pun">.</span><span class="pln">constant</span><span class="pun">(</span><span class="str">'initUrl'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'http://www.example.com/base/index.html#!/path?a=b#h'</span><span class="pun">)</span><span class="pln">
</span><span class="pun">.</span><span class="pln">constant</span><span class="pun">(</span><span class="str">'baseHref'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'/base/index.html'</span><span class="pun">)</span><span class="pln">
</span><span class="pun">.</span><span class="pln">value</span><span class="pun">(</span><span class="str">'$sniffer'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> history</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">})</span><span class="pln">

</span><span class="pun">.</span><span class="pln">config</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$locationProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">).</span><span class="pln">hashPrefix</span><span class="pun">(</span><span class="str">'!'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">})</span><span class="pln">

</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">"LocationController"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $location</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">$location </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
  angular</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="str">"protocol host port path search hash"</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">" "</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">method</span><span class="pun">){</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">$location</span><span class="pun">[</span><span class="pln">method</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> $location</span><span class="pun">[</span><span class="pln">method</span><span class="pun">].</span><span class="pln">call</span><span class="pun">(</span><span class="pln">$location</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">isObject</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">toJson</span><span class="pun">(</span><span class="pln">result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> result</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">})</span><span class="pln">

</span><span class="pun">.</span><span class="pln">run</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$rootElement</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $rootElement</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    e</span><span class="pun">.</span><span class="pln">stopPropagation</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="fakeBrowser.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">fakeBrowser.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'fake-browser'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">

</span><span class="pun">.</span><span class="pln">config</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 $provide</span><span class="pun">.</span><span class="pln">decorator</span><span class="pun">(</span><span class="str">'$browser'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$delegate</span><span class="pun">,</span><span class="pln"> baseHref</span><span class="pun">,</span><span class="pln"> initUrl</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">onUrlChange </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">urlChange </span><span class="pun">=</span><span class="pln"> fn</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">return</span><span class="pln"> initUrl</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">defer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">,</span><span class="pln"> delay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> fn</span><span class="pun">();</span><span class="pln"> </span><span class="pun">},</span><span class="pln"> delay </span><span class="pun">||</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">

  $delegate</span><span class="pun">.</span><span class="pln">baseHref </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">return</span><span class="pln"> baseHref</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">

   </span><span class="kwd">return</span><span class="pln"> $delegate</span><span class="pun">;</span><span class="pln">
 </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="addressBar.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">addressBar.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'address-bar'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'ngAddressBar'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$browser</span><span class="pun">,</span><span class="pln"> $timeout</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Address: &lt;input id="addressBar" type="text" style="width: 400px" &gt;'</span><span class="pun">,</span><span class="pln">
     link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">){</span><span class="pln">
       </span><span class="kwd">var</span><span class="pln"> input </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">.</span><span class="pln">children</span><span class="pun">(</span><span class="str">"input"</span><span class="pun">),</span><span class="pln"> delay</span><span class="pun">;</span><span class="pln">

       input</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'keypress keyup keydown'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
               delay </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">delay </span><span class="pun">?</span><span class="pln"> $timeout</span><span class="pun">(</span><span class="pln">fireUrlChange</span><span class="pun">,</span><span class="pln"> </span><span class="lit">250</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
               </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">stopPropagation</span><span class="pun">();</span><span class="pln">
             </span><span class="pun">})</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">val</span><span class="pun">(</span><span class="pln">$browser</span><span class="pun">.</span><span class="pln">url</span><span class="pun">());</span><span class="pln">

       $browser</span><span class="pun">.</span><span class="pln">url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
         </span><span class="kwd">return</span><span class="pln"> url </span><span class="pun">?</span><span class="pln"> input</span><span class="pun">.</span><span class="pln">val</span><span class="pun">(</span><span class="pln">url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> input</span><span class="pun">.</span><span class="pln">val</span><span class="pun">();</span><span class="pln">
       </span><span class="pun">};</span><span class="pln">

       </span><span class="kwd">function</span><span class="pln"> fireUrlChange</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
         delay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
         $browser</span><span class="pun">.</span><span class="pln">urlChange</span><span class="pun">(</span><span class="pln">input</span><span class="pun">.</span><span class="pln">val</span><span class="pun">());</span><span class="pln">
       </span><span class="pun">}</span><span class="pln">
     </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">};</span><span class="pln">
 </span><span class="pun">});</span></code></pre>
    </div>

    <div class="runnable-example-file" name="protractor.js" type="protractor" language="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">protractor.js</span>
      <pre><code><span class="kwd">var</span><span class="pln"> addressBar </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">"#addressBar"</span><span class="pun">)),</span><span class="pln">
     url </span><span class="pun">=</span><span class="pln"> </span><span class="str">'http://www.example.com/base/index.html#!/path?a=b#h'</span><span class="pun">;</span><span class="pln">

it</span><span class="pun">(</span><span class="str">"should show fake browser info on load"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">addressBar</span><span class="pun">.</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.protocol()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.host()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'www.example.com'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.port()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'80'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.path()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'/path'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.search()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'{"a":"b"}'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.hash()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'h'</span><span class="pun">);</span><span class="pln">

</span><span class="pun">});</span><span class="pln">

it</span><span class="pun">(</span><span class="str">"should change $location accordingly"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> navigation </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">.</span><span class="pln">all</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">"#navigation a"</span><span class="pun">));</span><span class="pln">

  navigation</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="lit">0</span><span class="pun">).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">addressBar</span><span class="pun">.</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">"http://www.example.com/base/index.html#!/first?a=b"</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.protocol()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.host()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'www.example.com'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.port()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'80'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.path()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'/first'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.search()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'{"a":"b"}'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.hash()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">''</span><span class="pun">);</span><span class="pln">


  navigation</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="lit">1</span><span class="pun">).</span><span class="pln">click</span><span class="pun">();</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">addressBar</span><span class="pun">.</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">'value'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">"http://www.example.com/base/index.html#!/sec/ond?flag#hash"</span><span class="pun">);</span><span class="pln">

  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.protocol()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.host()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'www.example.com'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.port()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'80'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.path()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'/sec/ond'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.search()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'{"flag":true}'</span><span class="pun">);</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'$location.hash()'</span><span class="pun">)).</span><span class="pln">getText</span><span class="pun">()).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'hash'</span><span class="pun">);</span><span class="pln">

</span><span class="pun">});</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(49).html" name="example-location-hashbang-mode"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="caveats" class="ng-scope">Caveats</h1>
<h2 id="page-reload-navigation" class="ng-scope">Page reload navigation</h2>
<p class="ng-scope">The <code><span class="pln">$location</span></code> service allows you to change only the URL; it does not allow you to reload the
page. When you need to change the URL and reload the page or navigate to a different page, please
use a lower level API, <a href="https://docs.angularjs.org/api/ng/service/$window">$window.location.href</a>.</p>
<h2 id="using-location-outside-of-the-scope-life-cycle" class="ng-scope">Using $location outside of the scope life-cycle</h2>
<p class="ng-scope"><code><span class="pln">$location</span></code> knows about Angular's <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope">scope</a> life-cycle. When a URL changes in
the browser it updates the <code><span class="pln">$location</span></code> and calls <code><span class="pln">$apply</span></code> so that all
<a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watchers</a> /
<a href="https://docs.angularjs.org/api/ng/type/$compile.directive.Attributes#$observe">$observers</a> are notified.
When you change the <code><span class="pln">$location</span></code> inside the <code><span class="pln">$digest</span></code> phase everything is ok; <code><span class="pln">$location</span></code> will
propagate this change into browser and will notify all the <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch">$watchers</a> /
<a href="https://docs.angularjs.org/api/ng/type/$compile.directive.Attributes#$observe">$observers</a>.
When you want to change the <code><span class="pln">$location</span></code> from outside Angular (for example, through a DOM Event or
during testing) - you must call <code><span class="pln">$apply</span></code> to propagate the changes.</p>
<h2 id="-location-path-and-or-prefixes" class="ng-scope">$location.path() and ! or / prefixes</h2>
<p class="ng-scope">A path should always begin with forward slash (<code><span class="pun">/</span></code>); the <code><span class="pln">$location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">()</span></code> setter will add the
forward slash if it is missing.</p>
<p class="ng-scope">Note that the <code><span class="pun">!</span></code> prefix in the hashbang mode is not part of <code><span class="pln">$location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">()</span></code>; it is actually
hashPrefix.</p>
<h2 id="crawling-your-app" class="ng-scope">Crawling your app</h2>
<p class="ng-scope">To allow indexing of your AJAX application, you have to add special meta tag in the head section of
your document:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"fragment"</span><span class="pln"> </span><span class="atn">content</span><span class="pun">=</span><span class="atv">"!"</span><span class="pln"> </span><span class="tag">/&gt;</span></code></pre>
<p class="ng-scope">This will cause crawler bot to request links with <code><span class="pln">_escaped_fragment_</span></code> param so that your server
can recognize the crawler and serve a HTML snapshots. For more information about this technique,
see <a href="http://code.google.com/web/ajaxcrawling/docs/specification.html">Making AJAX Applications
Crawlable</a>.</p>
<h1 id="testing-with-the-location-service" class="ng-scope">Testing with the $location service</h1>
<p class="ng-scope">When using <code><span class="pln">$location</span></code> service during testing, you are outside of the angular's <a href="https://docs.angularjs.org/api/ng/type/$rootScope.Scope">scope</a> life-cycle. This means it's your responsibility to call <code><span class="pln">scope</span><span class="pun">.</span><span class="pln">$apply</span><span class="pun">()</span></code>.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">describe</span><span class="pun">(</span><span class="str">'serviceUnderTest'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">module</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$provide</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $provide</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'serviceUnderTest'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$location</span><span class="pun">){</span><span class="pln">
      </span><span class="com">// whatever it does...</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  it</span><span class="pun">(</span><span class="str">'should...'</span><span class="pun">,</span><span class="pln"> inject</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$location</span><span class="pun">,</span><span class="pln"> $rootScope</span><span class="pun">,</span><span class="pln"> serviceUnderTest</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="str">'/new/path'</span><span class="pun">);</span><span class="pln">
    $rootScope</span><span class="pun">.</span><span class="pln">$apply</span><span class="pun">();</span><span class="pln">

    </span><span class="com">// test whatever the service should do...</span><span class="pln">

  </span><span class="pun">}));</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<h1 id="migrating-from-earlier-angularjs-releases" class="ng-scope">Migrating from earlier AngularJS releases</h1>
<p class="ng-scope">In earlier releases of Angular, <code><span class="pln">$location</span></code> used <code><span class="pln">hashPath</span></code> or <code><span class="pln">hashSearch</span></code> to process path and
search methods. With this release, the <code><span class="pln">$location</span></code> service processes path and search methods and
then uses the information it obtains to compose hashbang URLs (such as
<code><span class="pln">http</span><span class="pun">:</span><span class="com">//server.com/#!/path?search=a</span></code>), when necessary.</p>
<h2 id="changes-to-your-code" class="ng-scope">Changes to your code</h2>
<table class="table ng-scope">
  <thead>
    <tr class="head">
      <th>Navigation inside the app</th>
      <th>Change to</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>$location.href = value<br>$location.hash = value<br>$location.update(value)<br>$location.updateHash(value)</td>
      <td>$location.path(path).search(search)</td>
    </tr>

    <tr>
      <td>$location.hashPath = path</td>
      <td>$location.path(path)</td>
    </tr>

    <tr>
      <td>$location.hashSearch = search</td>
      <td>$location.search(search)</td>
    </tr>

    <tr class="head">
      <td>Navigation outside the app</td>
      <td>Use lower level API</td>
    </tr>

    <tr>
      <td>$location.href = value<br>$location.update(value)</td>
      <td>$window.location.href = value</td>
    </tr>

    <tr>
      <td>$location[protocol | host | port | path | search]</td>
      <td>$window.location[protocol | host | port | path | search]</td>
    </tr>

    <tr class="head">
      <td>Read access</td>
      <td>Change to</td>
    </tr>

    <tr>
      <td>$location.hashPath</td>
      <td>$location.path()</td>
    </tr>

    <tr>
      <td>$location.hashSearch</td>
      <td>$location.search()</td>
    </tr>

    <tr>
      <td>$location.href<br>$location.protocol<br>$location.host<br>$location.port<br>$location.hash</td>
      <td>$location.absUrl()<br>$location.protocol()<br>$location.host()<br>$location.port()<br>$location.path() + $location.search()</td>
    </tr>

    <tr>
      <td>$location.path<br>$location.search</td>
      <td>$window.location.path<br>$window.location.search</td>
    </tr>
  </tbody>
</table>

<h2 id="two-way-binding-to-location" class="ng-scope">Two-way binding to $location</h2>
<p class="ng-scope">Because <code><span class="pln">$location</span></code> uses getters/setters, you can use <code><span class="atn">ng-model</span><span class="pun">-</span><span class="pln">options</span><span class="pun">=</span><span class="str">"{ getterSetter: true }"</span></code>
to bind it to <code><span class="pln">ngModel</span></code>:</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example" module="locationExample"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope" ng-click="setTab($index)">    script.js  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"LocationController"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"locationPath"</span><span class="pln"> </span><span class="atn">ng-model-options</span><span class="pun">=</span><span class="atv">"{ getterSetter: true }"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
    </div>

    <div class="runnable-example-file" name="script.js" language="js" type="js" style=""><span style="font-size: 22px; font-family: Share-Bold;">script.js</span>
      <pre><code><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'locationExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'LocationController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$scope'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$location'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $location</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">locationPath </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">newLocation</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> $location</span><span class="pun">.</span><span class="pln">path</span><span class="pun">(</span><span class="pln">newLocation</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index.html" name="example-example"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h1 id="related-api" class="ng-scope">Related API</h1>
<ul class="ng-scope">
<li><a href="https://docs.angularjs.org/api/ng/service/$location"><code><span class="pln">$location</span></code> API</a></li>
</ul>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="css-styling" class="document-section"><span class="guide-doc">Working With CSS</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/css-styling.ngdoc?message=docs(guide%2FWorking%20With%20CSS)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<p class="ng-scope">Angular sets these CSS classes. It is up to your application to provide useful styling.</p>
<h1 id="css-classes-used-by-angular" class="ng-scope">CSS classes used by angular</h1>
<ul class="ng-scope">
<li><p><code><span class="atn">ng-scope</span></code></p>
<ul>
<li><strong>Usage:</strong> angular applies this class to any element for which a new <a href="https://docs.angularjs.org/api/ng/service/$rootScope">scope</a>
is defined. (see <a href="#scope">scope</a> guide for more information about scopes)</li>
</ul>
</li>
<li><p><code><span class="atn">ng-isolate</span><span class="pun">-</span><span class="pln">scope</span></code></p>
<ul>
<li><strong>Usage:</strong> angular applies this class to any element for which a new
<a href="#directive#isolating-the-scope-of-a-directive">isolate scope</a> is defined.</li>
</ul>
</li>
<li><p><code><span class="atn">ng-binding</span></code></p>
<ul>
<li><strong>Usage:</strong> angular applies this class to any element that is attached to a data binding, via <code><span class="atn">ng-bind</span></code> or
<code><span class="pun">{{}}</span></code> curly braces, for example. (see <a href="#databinding">databinding</a> guide)</li>
</ul>
</li>
<li><p><code><span class="atn">ng-invalid</span></code>, <code><span class="atn">ng-valid</span></code></p>
<ul>
<li><strong>Usage:</strong> angular applies this class to a form control widget element if that element's input does
not pass validation. (see <a href="https://docs.angularjs.org/api/ng/directive/input">input</a> directive)</li>
</ul>
</li>
<li><p><code><span class="atn">ng-pristine</span></code>, <code><span class="atn">ng-dirty</span></code></p>
<ul>
<li><strong>Usage:</strong> angular <a href="https://docs.angularjs.org/api/ng/directive/ngModel">ngModel</a> directive applies <code><span class="atn">ng-pristine</span></code> class
to a new form control widget which did not have user interaction. Once the user interacts with
the form control, the class is changed to <code><span class="atn">ng-dirty</span></code>.</li>
</ul>
</li>
<li><p><code><span class="atn">ng-touched</span></code>, <code><span class="atn">ng-untouched</span></code></p>
<ul>
<li><strong>Usage:</strong> angular <a href="https://docs.angularjs.org/api/ng/directive/ngModel">ngModel</a> directive applies <code><span class="atn">ng-untouched</span></code> class
to a new form control widget which has not been blurred. Once the user blurs the form control,
the class is changed to <code><span class="atn">ng-touched</span></code>.</li>
</ul>
</li>
</ul>
<h2 id="related-topics" class="ng-scope">Related Topics</h2>
<ul class="ng-scope">
<li><a href="#templates">Angular Templates</a></li>
<li><a href="#forms">Angular Forms</a></li>
</ul>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="i18n" class="document-section"><span class="guide-doc">i18n and l10n</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/i18n.ngdoc?message=docs(guide%2Fi18n%20and%20l10n)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="i18n-and-l10n" class="ng-scope">i18n and l10n</h1>
<p class="ng-scope">Internationalization (i18n) is the process of developing products in such a way that they can be
localized for languages and cultures easily. Localization (l10n), is the process of adapting
applications and text to enable their usability in a particular cultural or linguistic market. For
application developers, internationalizing an application means abstracting all of the strings and
other locale-specific bits (such as date or currency formats) out of the application. Localizing an
application means providing translations and localized formats for the abstracted bits.</p>
<h2 id="how-does-angular-support-i18n-l10n-" class="ng-scope">How does Angular support i18n/l10n?</h2>
<p class="ng-scope">Angular supports i18n/l10n for <a href="https://docs.angularjs.org/api/ng/filter/date">date</a>, <a href="https://docs.angularjs.org/api/ng/filter/number">number</a> and
<a href="https://docs.angularjs.org/api/ng/filter/currency">currency</a> filters.</p>
<p class="ng-scope">Additionally, Angular supports localizable pluralization support through the <a href="https://docs.angularjs.org/api/ng/directive/ngPluralize"><code><span class="pln">ngPluralize</span></code> directive</a>.</p>
<p class="ng-scope">All localizable Angular components depend on locale-specific rule sets managed by the <a href="https://docs.angularjs.org/api/ng/service/$locale"><code><span class="pln">$locale</span></code> service</a>.</p>
<p class="ng-scope">There a few examples that showcase how to use Angular filters with various locale rule sets in the
<a href="https://github.com/angular/angular.js/tree/master/i18n/e2e"><code><span class="pln">i18n</span><span class="pun">/</span><span class="pln">e2e</span></code> directory</a> of the Angular
source code.</p>
<h2 id="what-is-a-locale-id-" class="ng-scope">What is a locale ID?</h2>
<p class="ng-scope">A locale is a specific geographical, political, or cultural region. The most commonly used locale
ID consists of two parts: language code and country code. For example, <code><span class="pln">en</span><span class="pun">-</span><span class="pln">US</span></code>, <code><span class="pln">en</span><span class="pun">-</span><span class="pln">AU</span></code>, and
<code><span class="pln">zh</span><span class="pun">-</span><span class="pln">CN</span></code> are all valid locale IDs that have both language codes and country codes. Because
specifying a country code in locale ID is optional, locale IDs such as <code><span class="pln">en</span></code>, <code><span class="pln">zh</span></code>, and <code><span class="pln">sk</span></code> are
also valid. See the <a href="http://userguide.icu-project.org/locale">ICU</a> website for more information
about using locale IDs.</p>
<h2 id="supported-locales-in-angular" class="ng-scope">Supported locales in Angular</h2>
<p class="ng-scope">Angular separates number and datetime format rule sets into different files, each file for a
particular locale. You can find a list of currently supported locales
<a href="https://github.com/angular/angular.js/tree/master/src/ngLocale">here</a></p>
<h2 id="providing-locale-rules-to-angular" class="ng-scope">Providing locale rules to Angular</h2>
<p class="ng-scope">There are two approaches to providing locale rules to Angular:</p>
<h3 id="1-pre-bundled-rule-sets" class="ng-scope">1. Pre-bundled rule sets</h3>
<p class="ng-scope">You can pre-bundle the desired locale file with Angular by concatenating the content of the
locale-specific file to the end of <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">js</span></code> or <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">min</span><span class="pun">.</span><span class="pln">js</span></code> file.</p>
<p class="ng-scope">For example on *nix, to create an angular.js file that contains localization rules for german
locale, you can do the following:</p>
<p class="ng-scope"><code><span class="pln">cat angular</span><span class="pun">.</span><span class="pln">js i18n</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">locale_de</span><span class="pun">-</span><span class="pln">de</span><span class="pun">.</span><span class="pln">js </span><span class="pun">&gt;</span><span class="pln"> angular_de</span><span class="pun">-</span><span class="pln">de</span><span class="pun">.</span><span class="pln">js</span></code></p>
<p class="ng-scope">When the application containing <code><span class="pln">angular_de</span><span class="pun">-</span><span class="pln">de</span><span class="pun">.</span><span class="pln">js</span></code> script instead of the generic angular.js script
starts, Angular is automatically pre-configured with localization rules for the german locale.</p>
<h3 id="2-including-a-locale-script-in-index-html-" class="ng-scope">2. Including a locale script in <code><span class="pln">index</span><span class="pun">.</span><span class="pln">html</span></code></h3>
<p class="ng-scope">You can also include the locale specific js file in the index.html page. For example, if one client
requires German locale, you would serve index_de-de.html which will look something like this:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;html</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="tag">&lt;head&gt;</span><span class="pln">
.
   </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
   </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"i18n/angular-locale_de-de.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
.
 </span><span class="tag">&lt;/head&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<h3 id="comparison-of-the-two-approaches" class="ng-scope">Comparison of the two approaches</h3>
<p class="ng-scope">Both approaches described above require you to prepare different <code><span class="pln">index</span><span class="pun">.</span><span class="pln">html</span></code> pages or JavaScript
files for each locale that your app may use. You also need to configure your server to serve
the correct file that correspond to the desired locale.</p>
<p class="ng-scope">The second approach (including the locale JavaScript file in <code><span class="pln">index</span><span class="pun">.</span><span class="pln">html</span></code>) may be slower because
an extra script needs to be loaded.</p>
<h2 id="caveats" class="ng-scope">Caveats</h2>
<p class="ng-scope">Although Angular makes i18n convenient, there are several things you need to be conscious of as you
develop your app.</p>
<h3 id="currency-symbol" class="ng-scope">Currency symbol</h3>
<p class="ng-scope">Angular's <a href="https://docs.angularjs.org/api/ng/filter/currency">currency filter</a> allows you to use the default currency symbol
from the <a href="https://docs.angularjs.org/api/ng/service/$locale">locale service</a>, or you can provide the filter with a custom currency
symbol.</p>
<div class="alert alert-success ng-scope">
<strong>Best Practice:</strong> If your app will be used only in one locale, it is fine to rely on the default
currency symbol. If you anticipate that viewers in other locales might use your app, you should
explicitly provide a currency symbol.
</div>

<p class="ng-scope">Let's say you are writing a banking app and you want to display an account balance of 1000 dollars.
You write the following binding using the currency filter:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="ang">{{</span><span class="pln"> 1000 | currency </span><span class="ang">}}</span></code></pre>
<p class="ng-scope">If your app is currently in the <code><span class="pln">en</span><span class="pun">-</span><span class="pln">US</span></code> locale, the browser will show <code><span class="pln">$1000</span><span class="pun">.</span><span class="lit">00</span></code>. If someone in the
Japanese locale (<code><span class="pln">ja</span></code>) views your app, their browser will show a balance of <code><span class="pun"></span><span class="lit">1000.00</span></code> instead.
This is problematic because $1000 is not the same as 1000.</p>
<p class="ng-scope">In this case, you need to override the default currency symbol by providing the
<a href="https://docs.angularjs.org/api/ng/filter/currency"><code><span class="pln">currency</span></code></a> currency filter with a currency symbol as a parameter.</p>
<p class="ng-scope">If we change the above to <code><span class="pun">{{</span><span class="pln"> </span><span class="lit">1000</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> currency</span><span class="pun">:</span><span class="str">"USD$"</span><span class="pun">}}</span></code>, Angular will always show a balance of
<code><span class="pln">USD$1000</span></code> regardless of locale.</p>
<h3 id="translation-length" class="ng-scope">Translation length</h3>
<p class="ng-scope">Translated strings/datetime formats can vary greatly in length. For example, <code><span class="typ">June</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1977</span></code> will be
translated to Spanish as <code><span class="lit">3</span><span class="pln"> de junio de </span><span class="lit">1977</span></code>.</p>
<p class="ng-scope">When internationalizing your app, you need to do thorough testing to make sure UI components behave
as expected even when their contents vary greatly in content size.</p>
<h3 id="timezones" class="ng-scope">Timezones</h3>
<p class="ng-scope">The Angular datetime filter uses the time zone settings of the browser. The same
application will show different time information depending on the time zone settings of the
computer that the application is running on. Neither JavaScript nor Angular currently supports
displaying the date with a timezone specified by the developer.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="security" class="document-section"><span class="guide-doc">Security</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/security.ngdoc?message=docs(guide%2FSecurity)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="security" class="ng-scope">Security</h1>
<p class="ng-scope">This document explains some of AngularJS's security features and best practices that you should
keep in mind as you build your application.</p>
<h2 id="expression-sandboxing" class="ng-scope">Expression Sandboxing</h2>
<p class="ng-scope">AngularJS's expressions are sandboxed not for security reasons, but instead to maintain a proper
separation of application responsibilities. For example, access to <code><span class="pln">window</span></code> is disallowed
because it makes it easy to introduce brittle global state into your application.</p>
<p class="ng-scope">However, this sandbox is not intended to stop attackers who can edit the template before it's
processed by Angular. It may be possible to run arbitrary JavaScript inside double-curly bindings
if an attacker can modify them.</p>
<p class="ng-scope">But if an attacker can change arbitrary HTML templates, there's nothing stopping them from doing:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;script&gt;</span><span class="pln">somethingEvil</span><span class="pun">();</span><span class="tag">&lt;/script&gt;</span></code></pre>
<p class="ng-scope">It's better to design your application in such a way that users cannot change client-side templates.
For instance:</p>
<ul class="ng-scope">
<li>Do not mix client and server templates</li>
<li>Do not use user input to generate templates dynamically</li>
<li>Do not run user input through <code><span class="pln">$scope</span><span class="pun">.</span><span class="pln">$eval</span></code></li>
<li>Consider using <a href="https://docs.angularjs.org/api/ng/directive/ngCsp">CSP</a> (but don't rely only on CSP)</li>
</ul>
<h2 id="mixing-client-side-and-server-side-templates" class="ng-scope">Mixing client-side and server-side templates</h2>
<p class="ng-scope">In general, we recommend against this because it can create unintended XSS vectors.</p>
<p class="ng-scope">However, it's ok to mix server-side templating in the bootstrap template (<code><span class="pln">index</span><span class="pun">.</span><span class="pln">html</span></code>) as long
as user input cannot be used on the server to output html that would then be processed by Angular
in a way that would cause allow for arbitrary code execution.</p>
<p class="ng-scope">For instance, you can use server-side templating to dynamically generate CSS, URLs, etc, but not
for generating templates that are bootstrapped/compiled by Angular.</p>
<h2 id="reporting-a-security-issue" class="ng-scope">Reporting a security issue</h2>
<p class="ng-scope">Email us at <a href="mailto:security@angularjs.org">security@angularjs.org</a> to report any potential
security issues in AngularJS.</p>
<p class="ng-scope">Please keep in mind the above points about Angular's expression language.</p>
<h2 id="see-also" class="ng-scope">See also</h2>
<ul class="ng-scope">
<li><a href="https://docs.angularjs.org/api/ng/directive/ngCsp">Content Security Policy</a></li>
<li><a href="https://docs.angularjs.org/api/ng/service/$sce">Strict Contextual Escaping</a></li>
<li><a href="https://docs.angularjs.org/api/ngSanitize/service/$sanitize">$sanitize</a></li>
</ul>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="accessibility" class="document-section"><span class="guide-doc">Accessibility</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/accessibility.ngdoc?message=docs(guide%2FAccessibility)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="accessibility-with-ngaria" class="ng-scope">Accessibility with ngAria</h1>
<p class="ng-scope">The goal of ngAria is to improve Angular's default accessibility by enabling common
<a href="http://www.w3.org/TR/wai-aria/">ARIA</a> attributes that convey state or semantic information for
assistive technologies used by persons with disabilities.</p>
<h2 id="including-ngaria" class="ng-scope">Including ngAria</h2>
<p class="ng-scope">Using <a href="https://docs.angularjs.org/api/ngAria">ngAria</a> is as simple as requiring the ngAria module in your application. ngAria hooks into
standard AngularJS directives and quietly injects accessibility support into your application
at runtime.</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'ngAria'</span><span class="pun">])...</span></code></pre>
<h3 id="using-ngaria" class="ng-scope">Using ngAria</h3>
<p class="ng-scope">Most of what ngAria does is only visible "under the hood". To see the module in action, once you've
added it as a dependency, you can test a few things:</p>
<ul class="ng-scope">
<li>Using your favorite element inspector, look for ngAria attributes in your own code.</li>
<li>Test using your keyboard to ensure <code><span class="pln">tabindex</span></code> is used correctly.</li>
<li>Fire up a screen reader such as VoiceOver to listen for ARIA support.
<a href="http://webaim.org/articles/screenreader_testing/">Helpful screen reader tips.</a></li>
</ul>
<h2 id="supported-directives" class="ng-scope">Supported directives</h2>
<p class="ng-scope">Currently, ngAria interfaces with the following directives:</p>
<ul class="ng-scope">
<li><a href="#accessibility#ngmodel">ngModel</a></li>
<li><a href="#accessibility#ngdisabled">ngDisabled</a></li>
<li><a href="#accessibility#ngshow">ngShow</a></li>
<li><a href="#accessibility#nghide">ngHide</a></li>
<li><a href="#accessibility#ngclick">ngClick</a></li>
<li><a href="#accessibility#ngdblclick">ngDblClick</a></li>
</ul>
<h2 id="ngmodel" class="ng-scope">ngModel</h2>

<p class="ng-scope">Most of ngAria's heavy lifting happens in the <a href="https://docs.angularjs.org/api/ng/directive/ngModel">ngModel</a>
directive.  For elements using ngModel, special attention is paid by ngAria if that element also
has a a role or type of <code><span class="pln">checkbox</span></code>, <code><span class="pln">radio</span></code>, <code><span class="pln">range</span></code> or <code><span class="pln">textbox</span></code>.</p>
<p class="ng-scope">For those elements using ngModel, ngAria will dynamically bind and update the following ARIA
attributes (if they have not been explicitly specified by the developer):</p>
<ul class="ng-scope">
<li>aria-checked</li>
<li>aria-valuemin</li>
<li>aria-valuemax</li>
<li>aria-valuenow</li>
<li>aria-invalid</li>
<li>aria-required</li>
</ul>
<h3 id="example" class="ng-scope">Example</h3>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example1&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example1" module="ngAria_ngModelExample" deps="angular-aria.js"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="pln"> </span><span class="tag">&lt;style&gt;</span><span class="pln">
   </span><span class="pun">[</span><span class="pln">role</span><span class="pun">=</span><span class="pln">checkbox</span><span class="pun">]</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">cursor</span><span class="pun">:</span><span class="pln"> pointer</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">display</span><span class="pun">:</span><span class="pln"> inline-block</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">[</span><span class="pln">role</span><span class="pun">=</span><span class="pln">checkbox</span><span class="pun">]</span><span class="pln"> </span><span class="pun">.</span><span class="kwd">icon</span><span class="pun">:</span><span class="pln">before </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">content</span><span class="pun">:</span><span class="pln"> </span><span class="str">'\2610'</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">display</span><span class="pun">:</span><span class="pln"> inline-block</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">font-size</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2em</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">line-height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">vertical-align</span><span class="pun">:</span><span class="pln"> middle</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">speak</span><span class="pun">:</span><span class="pln"> none</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">[</span><span class="pln">role</span><span class="pun">=</span><span class="pln">checkbox</span><span class="pun">].</span><span class="pln">active </span><span class="pun">.</span><span class="kwd">icon</span><span class="pun">:</span><span class="pln">before </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">content</span><span class="pun">:</span><span class="pln"> </span><span class="str">'\2611'</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
   pre </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">white-space</span><span class="pun">:</span><span class="pln"> pre-wrap</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="tag">&lt;/style&gt;</span><span class="pln">
</span><span class="tag">&lt;div&gt;</span><span class="pln">
</span><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"formsController"</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="tag">&lt;some-checkbox</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">"checkbox"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"checked"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{active: checked}"</span><span class="pln">
   </span><span class="atn">ng-disabled</span><span class="pun">=</span><span class="atv">"isDisabled"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"toggleCheckbox()"</span><span class="pln">
   </span><span class="atn">aria-label</span><span class="pun">=</span><span class="atv">"Custom Checkbox"</span><span class="pln"> </span><span class="atn">show-attrs</span><span class="tag">&gt;</span><span class="pln">
   </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"icon"</span><span class="pln"> </span><span class="atn">aria-hidden</span><span class="pun">=</span><span class="atv">"true"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln">
   Custom Checkbox
 </span><span class="tag">&lt;/some-checkbox&gt;</span><span class="pln">
</span><span class="tag">&lt;/form&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;script&gt;</span><span class="pln">
 </span><span class="kwd">var</span><span class="pln"> app </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'ngAria_ngModelExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'ngAria'</span><span class="pun">])</span><span class="pln">
 </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'formsController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">){</span><span class="pln">
   $scope</span><span class="pun">.</span><span class="pln">checked </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
   $scope</span><span class="pun">.</span><span class="pln">toggleCheckbox </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
     $scope</span><span class="pun">.</span><span class="pln">checked </span><span class="pun">=</span><span class="pln"> </span><span class="pun">!</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">checked</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="pun">})</span><span class="pln">
 </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'someCheckbox'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
     link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $el</span><span class="pun">,</span><span class="pln"> $attrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       $el</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'keypress'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">event</span><span class="pun">){</span><span class="pln">
         event</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span><span class="pln">
         </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">event</span><span class="pun">.</span><span class="pln">keyCode </span><span class="pun">===</span><span class="pln"> </span><span class="lit">32</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> event</span><span class="pun">.</span><span class="pln">keyCode </span><span class="pun">===</span><span class="pln"> </span><span class="lit">13</span><span class="pun">){</span><span class="pln">
           $scope</span><span class="pun">.</span><span class="pln">toggleCheckbox</span><span class="pun">();</span><span class="pln">
           $scope</span><span class="pun">.</span><span class="pln">$apply</span><span class="pun">();</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
       </span><span class="pun">});</span><span class="pln">
     </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="pun">})</span><span class="pln">
 </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'showAttrs'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $el</span><span class="pun">,</span><span class="pln"> $attrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">var</span><span class="pln"> pre </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">createElement</span><span class="pun">(</span><span class="str">'pre'</span><span class="pun">);</span><span class="pln">
     $el</span><span class="pun">.</span><span class="pln">after</span><span class="pun">(</span><span class="pln">pre</span><span class="pun">);</span><span class="pln">
     $scope</span><span class="pun">.</span><span class="pln">$watch</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="kwd">var</span><span class="pln"> $attrs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
       </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">$el</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">attributes</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">).</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">item</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
         </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item</span><span class="pun">.</span><span class="pln">name </span><span class="pun">!==</span><span class="pln"> </span><span class="str">'show-$attrs'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
           $attrs</span><span class="pun">[</span><span class="pln">item</span><span class="pun">.</span><span class="pln">name</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> item</span><span class="pun">.</span><span class="pln">value</span><span class="pun">;</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
       </span><span class="pun">});</span><span class="pln">
       </span><span class="kwd">return</span><span class="pln"> $attrs</span><span class="pun">;</span><span class="pln">
     </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">newAttrs</span><span class="pun">,</span><span class="pln"> oldAttrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       pre</span><span class="pun">.</span><span class="pln">textContent </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">newAttrs</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">
     </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="pun">});</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(1).html" name="example-example1"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<p class="ng-scope">ngAria will also add <code><span class="pln">tabIndex</span></code>, ensuring custom elements with these roles will be reachable from
the keyboard. It is still up to <strong>you</strong> as a developer to <strong>ensure custom controls will be
operable</strong> from the keybard. Think of <code><span class="atn">ng-click</span></code> on a <code><span class="tag">&lt;div&gt;</span></code> or <code><span class="tag">&lt;md-checkbox&gt;</span></code>: you still need
to bind <code><span class="atn">ng-keypress</span></code> to make it fully operable from the keyboard. As a rule, any time you create
a widget involving user interaction, be sure to test it with your keyboard and at least one mobile
and desktop screen reader (preferably more).</p>
<h2 id="ngdisabled" class="ng-scope">ngDisabled</h2>

<p class="ng-scope">The <code><span class="pln">disabled</span></code> attribute is only valid for certain elements such as <code><span class="pln">button</span></code>, <code><span class="pln">input</span></code> and
<code><span class="pln">textarea</span></code>. To properly disable custom element directives such as <code><span class="tag">&lt;md-checkbox&gt;</span></code> or <code><span class="tag">&lt;taco-tab&gt;</span></code>,
using ngAria with <a href="https://docs.angularjs.org/api/ng/directive/ngDisabled">ngDisabled</a> will also
add <code><span class="pln">aria</span><span class="pun">-</span><span class="pln">disabled</span></code>. This tells assistive technologies when a non-native input is disabled, helping
custom controls to be more accessible.</p>
<h3 id="example" class="ng-scope">Example</h3>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;md-checkbox</span><span class="pln"> </span><span class="atn">ng-disabled</span><span class="pun">=</span><span class="atv">"disabled"</span><span class="tag">&gt;</span></code></pre>
<p class="ng-scope">Becomes:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;md-checkbox</span><span class="pln"> </span><span class="atn">disabled</span><span class="pln"> </span><span class="atn">aria-disabled</span><span class="pun">=</span><span class="atv">"true"</span><span class="tag">&gt;</span></code></pre>
<blockquote class="ng-scope">
<p>You can check whether a control is legitimately disabled for a screen reader by visiting
<a href="chrome://accessibility/">chrome://accessibility</a>.</p>
</blockquote>
<h2 id="ngshow" class="ng-scope">ngShow</h2>

<blockquote class="ng-scope">
<p>The <a href="https://docs.angularjs.org/api/ng/directive/ngShow">ngShow</a> directive shows or hides the
given HTML element based on the expression provided to the <code><span class="pln">ngShow</span></code> attribute. The element is
shown or hidden by removing or adding the <code><span class="pun">.</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">hide</span></code> CSS class onto the element.</p>
</blockquote>
<p class="ng-scope">In its default setup, ngAria for <code><span class="pln">ngShow</span></code> is actually redundant. It toggles <code><span class="pln">aria</span><span class="pun">-</span><span class="pln">hidden</span></code> on the
directive when it is hidden or shown. However, the default CSS of <code><span class="pln">display</span><span class="pun">:</span><span class="pln"> none </span><span class="pun">!</span><span class="pln">important</span></code>,
already hides child elements from a screen reader. It becomes more useful when the default
CSS is overridden with properties that dont affect assistive technologies, such as <code><span class="pln">opacity</span></code>
or <code><span class="pln">transform</span></code>. By toggling <code><span class="pln">aria</span><span class="pun">-</span><span class="pln">hidden</span></code> dynamically with ngAria, we can ensure content visually
hidden with this technique will not be read aloud in a screen reader.</p>
<p class="ng-scope">One caveat with this combination of CSS and <code><span class="pln">aria</span><span class="pun">-</span><span class="pln">hidden</span></code>: you must also remove links and other
interactive child elements from the tab order using <code><span class="pln">tabIndex</span><span class="pun">=-</span><span class="lit">1</span><span class="pun"></span></code> on each control. This ensures
screen reader users won't accidentally focus on "mystery elements". Managing tab index on every
child control can be complex and affect performance, so its best to just stick with the default
<code><span class="pln">display</span><span class="pun">:</span><span class="pln"> none</span></code> CSS. See the <a href="http://www.w3.org/TR/aria-in-html/#fourth-rule-of-aria-use">fourth rule of ARIA use</a>.</p>
<h3 id="example" class="ng-scope">Example</h3>
<pre class="ng-scope"><code class="lang-css" style="font-weight: bold; color: black;"><span class="pun">.</span><span class="pln">ng-hide </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">display</span><span class="pun">:</span><span class="pln"> block</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">opacity</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"false"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"ng-hide"</span><span class="pln"> </span><span class="atn">aria-hidden</span><span class="pun">=</span><span class="atv">"true"</span><span class="tag">&gt;&lt;/div&gt;</span></code></pre>
<p class="ng-scope">Becomes:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-show</span><span class="pun">=</span><span class="atv">"true"</span><span class="pln"> </span><span class="atn">aria-hidden</span><span class="pun">=</span><span class="atv">"false"</span><span class="tag">&gt;&lt;/div&gt;</span></code></pre>
<p class="ng-scope"><em>Note: Child links, buttons or other interactive controls must also be removed from the tab order.</em></p>
<h2 id="nghide" class="ng-scope">ngHide</h2>

<blockquote class="ng-scope">
<p>The <a href="https://docs.angularjs.org/api/ng/directive/ngHide">ngHide</a> directive shows or hides the
given HTML element based on the expression provided to the <code><span class="pln">ngHide</span></code> attribute. The element is
shown or hidden by removing or adding the <code><span class="pun">.</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">hide</span></code> CSS class onto the element.</p>
</blockquote>
<p class="ng-scope">The default CSS for <code><span class="pln">ngHide</span></code>, the inverse method to <code><span class="pln">ngShow</span></code>, makes ngAria redundant. It toggles
<code><span class="pln">aria</span><span class="pun">-</span><span class="pln">hidden</span></code> on the directive when it is hidden or shown, but the content is already hidden with
<code><span class="pln">display</span><span class="pun">:</span><span class="pln"> none</span></code>. See explanation for <a href="#accessibility#ngshow">ngShow</a> when overriding the default CSS.</p>
<h2 class="ng-scope"><span id="ngclick">ngClick</span> and <span id="ngdblclick">ngDblclick</span></h2><span class="ng-scope">
If </span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">ng</span><span class="pun">-</span><span class="pln">click</span></code><span class="ng-scope"> or </span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">ng</span><span class="pun">-</span><span class="pln">dblclick</span></code><span class="ng-scope"> is encountered, ngAria will add </span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">tabindex</span></code><span class="ng-scope"> if it isn't there already.
Even with this, you must currently still add </span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">ng</span><span class="pun">-</span><span class="pln">keypress</span></code><span class="ng-scope"> to non-interactive elements such as </span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">div</span></code><span class="ng-scope">
or </span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">taco</span><span class="pun">-</span><span class="pln">button</span></code><span class="ng-scope"> to enable keyboard access. Conversation is currently ongoing about whether ngAria
should also bind </span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">ng</span><span class="pun">-</span><span class="pln">keypress</span></code><span class="ng-scope">.

</span><h3 class="ng-scope">Example</h3>
<code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">html
</span><span class="pun">&lt;</span><span class="pln">div ng</span><span class="pun">-</span><span class="pln">click</span><span class="pun">=</span><span class="str">"toggleMenu()"</span><span class="pun">&gt;&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code><span class="ng-scope">

Becomes:
</span><code class="ng-scope" style="font-weight: bold; color: black;"><span class="pln">html
</span><span class="pun">&lt;</span><span class="pln">div ng</span><span class="pun">-</span><span class="pln">click</span><span class="pun">=</span><span class="str">"toggleMenu()"</span><span class="pln"> tabindex</span><span class="pun">=</span><span class="str">"0"</span><span class="pun">&gt;&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code>
<em class="ng-scope">Note: ngAria still requires <code><span class="atn">ng-keypress</span></code> to be added manually to non-native controls like divs.</em>

<h2 id="ngmessages" class="ng-scope">ngMessages</h2>

<p class="ng-scope">The new ngMessages module makes it easy to display form validation or other messages with priority
sequencing and animation. To expose these visual messages to screen readers,
ngAria injects <code><span class="pln">aria</span><span class="pun">-</span><span class="pln">live</span><span class="pun">=</span><span class="str">"polite"</span></code>, causing them to be read aloud any time a message is shown,
regardless of the user's focus location.</p>
<h3 id="example" class="ng-scope">Example</h3>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-messages</span><span class="pun">=</span><span class="atv">"myForm.myName.$error"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-message</span><span class="pun">=</span><span class="atv">"required"</span><span class="tag">&gt;</span><span class="pln">You did not enter a field</span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-message</span><span class="pun">=</span><span class="atv">"maxlength"</span><span class="tag">&gt;</span><span class="pln">Your field is too long</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">Becomes:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-messages</span><span class="pun">=</span><span class="atv">"myForm.myName.$error"</span><span class="pln"> </span><span class="atn">aria-live</span><span class="pun">=</span><span class="atv">"polite"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-message</span><span class="pun">=</span><span class="atv">"required"</span><span class="tag">&gt;</span><span class="pln">You did not enter a field</span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-message</span><span class="pun">=</span><span class="atv">"maxlength"</span><span class="tag">&gt;</span><span class="pln">Your field is too long</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<h2 id="disabling-attributes" class="ng-scope">Disabling attributes</h2>
<p class="ng-scope">The attribute magic of ngAria may not work for every scenario. To disable individual attributes,
you can use the <a href="https://docs.angularjs.org/api/ngAria/provider/$ariaProvider#config">config</a> method. Just keep in mind this will
tell ngAria to ignore the attribute globally.</p>
<p class="ng-scope">

</p><div class="ng-scope">
  <!--  a ng-click="openPlunkr(&#39;examples/example-example2&#39;)" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a  -->

  <div class="runnable-example ng-scope" path="examples/example-example2" module="ngAria_ngDisabledExample" deps="angular-aria.js"><!-- ngIf: tabs --><nav class="runnable-example-tabs ng-scope" ng-if="tabs" style="display: none;">  <!-- ngRepeat: tab in tabs track by $index --><a ng-class="{active:$index==activeTabIndex}" ng-repeat="tab in tabs track by $index" href="" class="btn ng-binding ng-scope active" ng-click="setTab($index)">    index.html  </a><!-- end ngRepeat: tab in tabs track by $index --></nav><!-- end ngIf: tabs -->


    <div class="runnable-example-file" name="index.html" language="html" type="html" style="display: block;"><span style="font-size: 22px; font-family: Share-Bold;">index.html</span>
      <pre><code><span class="pln"> </span><span class="tag">&lt;style&gt;</span><span class="pln">
   </span><span class="pun">[</span><span class="pln">role</span><span class="pun">=</span><span class="pln">checkbox</span><span class="pun">]</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">cursor</span><span class="pun">:</span><span class="pln"> pointer</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">display</span><span class="pun">:</span><span class="pln"> inline-block</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">[</span><span class="pln">role</span><span class="pun">=</span><span class="pln">checkbox</span><span class="pun">]</span><span class="pln"> </span><span class="pun">.</span><span class="kwd">icon</span><span class="pun">:</span><span class="pln">before </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">content</span><span class="pun">:</span><span class="pln"> </span><span class="str">'\2610'</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">display</span><span class="pun">:</span><span class="pln"> inline-block</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">font-size</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2em</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">line-height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">vertical-align</span><span class="pun">:</span><span class="pln"> middle</span><span class="pun">;</span><span class="pln">
     </span><span class="kwd">speak</span><span class="pun">:</span><span class="pln"> none</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">[</span><span class="pln">role</span><span class="pun">=</span><span class="pln">checkbox</span><span class="pun">].</span><span class="pln">active </span><span class="pun">.</span><span class="kwd">icon</span><span class="pun">:</span><span class="pln">before </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">content</span><span class="pun">:</span><span class="pln"> </span><span class="str">'\2611'</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="tag">&lt;/style&gt;</span><span class="pln">
</span><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"formsController"</span><span class="tag">&gt;</span><span class="pln">
 </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"someModel"</span><span class="pln"> </span><span class="atn">show-attrs</span><span class="tag">&gt;</span><span class="pln">
   Div with ngModel and aria-invalid disabled
 </span><span class="tag">&lt;/div&gt;</span><span class="pln">
 </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">role</span><span class="pun">=</span><span class="atv">"checkbox"</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"checked"</span><span class="pln"> </span><span class="atn">ng-class</span><span class="pun">=</span><span class="atv">"{active: checked}"</span><span class="pln">
   </span><span class="atn">aria-label</span><span class="pun">=</span><span class="atv">"Custom Checkbox"</span><span class="pln"> </span><span class="atn">ng-click</span><span class="pun">=</span><span class="atv">"toggleCheckbox()"</span><span class="pln"> </span><span class="atn">some-checkbox</span><span class="pln"> </span><span class="atn">show-attrs</span><span class="tag">&gt;</span><span class="pln">
   </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"icon"</span><span class="pln"> </span><span class="atn">aria-hidden</span><span class="pun">=</span><span class="atv">"true"</span><span class="tag">&gt;&lt;/span&gt;</span><span class="pln">
   Custom Checkbox for comparison
 </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/form&gt;</span><span class="pln">
</span><span class="tag">&lt;script&gt;</span><span class="pln">
 angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'ngAria_ngDisabledExample'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'ngAria'</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> config</span><span class="pun">(</span><span class="pln">$ariaProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   $ariaProvider</span><span class="pun">.</span><span class="pln">config</span><span class="pun">({</span><span class="pln">
     ariaInvalid</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
     tabindex</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
   </span><span class="pun">});</span><span class="pln">
 </span><span class="pun">})</span><span class="pln">
 </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'formsController'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">){</span><span class="pln">
   $scope</span><span class="pun">.</span><span class="pln">checked </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
   $scope</span><span class="pun">.</span><span class="pln">toggleCheckbox </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
     $scope</span><span class="pun">.</span><span class="pln">checked </span><span class="pun">=</span><span class="pln"> </span><span class="pun">!</span><span class="pln">$scope</span><span class="pun">.</span><span class="pln">checked</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="pun">})</span><span class="pln">
 </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'someCheckbox'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">
   </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'A'</span><span class="pun">,</span><span class="pln">
     link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">,</span><span class="pln"> $el</span><span class="pun">,</span><span class="pln"> $attrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       $el</span><span class="pun">.</span><span class="pln">on</span><span class="pun">(</span><span class="str">'keypress'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">event</span><span class="pun">){</span><span class="pln">
         event</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span><span class="pln">
         </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">event</span><span class="pun">.</span><span class="pln">keyCode </span><span class="pun">===</span><span class="pln"> </span><span class="lit">32</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> event</span><span class="pun">.</span><span class="pln">keyCode </span><span class="pun">===</span><span class="pln"> </span><span class="lit">13</span><span class="pun">){</span><span class="pln">
           $scope</span><span class="pun">.</span><span class="pln">toggleCheckbox</span><span class="pun">();</span><span class="pln">
           $scope</span><span class="pun">.</span><span class="pln">$apply</span><span class="pun">();</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
       </span><span class="pun">});</span><span class="pln">
     </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="pun">})</span><span class="pln">
 </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'showAttrs'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> el</span><span class="pun">,</span><span class="pln"> attrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">var</span><span class="pln"> pre </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">createElement</span><span class="pun">(</span><span class="str">'pre'</span><span class="pun">);</span><span class="pln">
     el</span><span class="pun">.</span><span class="pln">after</span><span class="pun">(</span><span class="pln">pre</span><span class="pun">);</span><span class="pln">
     scope</span><span class="pun">.</span><span class="pln">$watch</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="kwd">var</span><span class="pln"> attrs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
       </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">el</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">attributes</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">).</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">item</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
         </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">item</span><span class="pun">.</span><span class="pln">name </span><span class="pun">!==</span><span class="pln"> </span><span class="str">'show-attrs'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
           attrs</span><span class="pun">[</span><span class="pln">item</span><span class="pun">.</span><span class="pln">name</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> item</span><span class="pun">.</span><span class="pln">value</span><span class="pun">;</span><span class="pln">
         </span><span class="pun">}</span><span class="pln">
       </span><span class="pun">});</span><span class="pln">
       </span><span class="kwd">return</span><span class="pln"> attrs</span><span class="pun">;</span><span class="pln">
     </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">newAttrs</span><span class="pun">,</span><span class="pln"> oldAttrs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       pre</span><span class="pun">.</span><span class="pln">textContent </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">newAttrs</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">
     </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
 </span><span class="pun">});</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code></pre>
    </div>


    <iframe class="runnable-example-frame" src="./ng-guide-all3_files/index(12).html" name="example-example2"></iframe>
  </div>
</div>


<p class="ng-scope"></p>
<h2 id="common-accessibility-patterns" class="ng-scope">Common Accessibility Patterns</h2>
<p class="ng-scope">Accessibility best practices that apply to web apps in general also apply to Angular.</p>
<ul class="ng-scope">
<li><strong>Text alternatives</strong>: Add alternate text content to make visual information accessible using
<a href="http://www.w3.org/TR/html-alt-techniques/">these W3C guidelines</a>. The appropriate technique
depends on the specific markup but can be accomplished using offscreen spans, <code><span class="pln">aria</span><span class="pun">-</span><span class="pln">label</span></code> or
label elements, image <code><span class="pln">alt</span></code> attributes, <code><span class="pln">figure</span></code>/<code><span class="pln">figcaption</span></code> elements and more.</li>
<li><strong>HTML Semantics</strong>: If you're creating custom element directives, Web Components or HTML in
general, use native elements wherever possible to utilize built-in events and properties.
Alternatively, use ARIA to communicate semantic meaning. See <a href="http://www.w3.org/TR/aria-in-html/#notes-on-aria-use-in-html">notes on ARIA use</a>.</li>
<li><strong>Focus management</strong>: Guide the user around the app as views are appended/removed.
Focus should <em>never</em> be lost, as this causes unexpected behavior and much confusion (referred to
as "freak-out mode").</li>
<li><strong>Announcing changes</strong>: When filtering or other UI messaging happens away from the user's focus,
notify with <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions">ARIA Live Regions</a>.</li>
<li><strong>Color contrast and scale</strong>: Make sure content is legible and interactive controls are usable
at all screen sizes. Consider configurable UI themes for people with color blindness, low vision
or other visual impairments.</li>
<li><strong>Progressive enhancement</strong>: Some users do not browse with JavaScript enabled or do not have
the latest browser. An accessible message about site requirements can inform users and improve
the experience.</li>
</ul>
<h2 id="additional-resources" class="ng-scope">Additional Resources</h2>
<ul class="ng-scope">
<li><a href="http://www.w3.org/TR/aria-in-html/">Using ARIA in HTML</a></li>
<li><a href="https://www.youtube.com/watch?v=dmYDggEgU-s&list=UUEGUP3TJJfMsEM_1y8iviSQ">AngularJS Accessibility at ngEurope</a></li>
<li><a href="http://webaim.org/articles/screenreader_testing/">Testing with Screen Readers</a></li>
<li><a href="https://chrome.google.com/webstore/detail/accessibility-developer-t/fpkknkljclfencbdbgkenhalefipecmb?hl=en">Chrome Accessibility Developer Tools</a></li>
<li><a href="http://www.w3.org/wiki/Accessibility_testing">W3C Accessibility Testing</a></li>
<li><a href="http://webaim.org/">WebAIM</a></li>
<li><a href="http://a11yproject.com/">A11y Project</a></li>
</ul>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="ie" class="document-section"><span class="guide-doc">Internet Explorer Compatibility</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/ie.ngdoc?message=docs(guide%2FInternet%20Explorer%20Compatibility)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="internet-explorer-compatibility" class="ng-scope">Internet Explorer Compatibility</h1>
<div class="alert alert-warning ng-scope">
<strong>Note:</strong> AngularJS 1.3 has dropped support for IE8. Read more about it on
<a href="http://blog.angularjs.org/2013/12/angularjs-13-new-release-approaches.html">our blog</a>.
AngularJS 1.2 will continue to support IE8, but the core team does not plan to spend time
addressing issues specific to IE8 or earlier.
</div>

<p class="ng-scope">This document describes the Internet Explorer (IE) idiosyncrasies when dealing with custom HTML
attributes and tags. Read this document if you are planning on deploying your Angular application
on IE.</p>
<p class="ng-scope">The project currently supports and will attempt to fix bugs for IE9 and above. The continuous
integration server runs all the tests against IE9, IE10, and IE11. See
<a href="https://travis-ci.org/angular/angular.js">Travis CI</a> and
<a href="http://ci.angularjs.org/">ci.angularjs.org</a>.</p>
<p class="ng-scope">We do not run tests on IE8 and below. A subset of the AngularJS functionality may work on these
browsers, but it is up to you to test and decide whether it works for your particular app.</p>
<p class="ng-scope">To ensure your Angular application works on IE please consider:</p>
<ol class="ng-scope">
<li>Use <code><span class="atn">ng-style</span></code> tags instead of <code><span class="pln">style</span><span class="pun">=</span><span class="str">"{{ someCss }}"</span></code>. The latter works in Chrome and Firefox
but does not work in Internet Explorer &lt;= 11 (the most recent version at time of writing).</li>
</ol>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="production" class="document-section"><span class="guide-doc">Running in Production</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/production.ngdoc?message=docs(guide%2FRunning%20in%20Production)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<h1 id="running-an-angularjs-app-in-production" class="ng-scope">Running an AngularJS App in Production</h1>
<p class="ng-scope">There are a few things you might consider when running your AngularJS application in production.</p>
<h2 id="disabling-debug-data" class="ng-scope">Disabling Debug Data</h2>
<p class="ng-scope">By default AngularJS attaches information about scopes to DOM nodes, and adds CSS classes
to data-bound elements. The information that is not included is:</p>
<p class="ng-scope">As a result of <code><span class="pln">ngBind</span></code>, <code><span class="pln">ngBindHtml</span></code> or <code><span class="pun">{{...}}</span></code> interpolations, binding data and CSS class
<code><span class="pln">ng</span><span class="pun">-</span><span class="kwd">class</span></code> is attached to the corresponding element.</p>
<p class="ng-scope">Where the compiler has created a new scope, the scope and either <code><span class="atn">ng-scope</span></code> or <code><span class="atn">ng-isolated</span><span class="pun">-</span><span class="pln">scope</span></code>
CSS class are attached to the corresponding element. These scope references can then be accessed via
<code><span class="pln">element</span><span class="pun">.</span><span class="pln">scope</span><span class="pun">()</span></code> and <code><span class="pln">element</span><span class="pun">.</span><span class="pln">isolateScope</span><span class="pun">()</span></code>.</p>
<p class="ng-scope">Tools like <a href="https://github.com/angular/protractor">Protractor</a> and
<a href="https://github.com/angular/angularjs-batarang">Batarang</a> need this information to run,
but you can disable this in production for a significant performance boost with:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">myApp</span><span class="pun">.</span><span class="pln">config</span><span class="pun">([</span><span class="str">'$compileProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$compileProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $compileProvider</span><span class="pun">.</span><span class="pln">debugInfoEnabled</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}]);</span></code></pre>
<p class="ng-scope">If you wish to debug an application with this information then you should open up a debug
console in the browser then call this method directly in this console:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">reloadWithDebugInfo</span><span class="pun">();</span></code></pre>
<p class="ng-scope">The page should reload and the debug information should now be available.</p>
<p class="ng-scope">For more see the docs pages on <a href="https://docs.angularjs.org/api/ng/provider/$compileProvider#debugInfoEnabled"><code><span class="pln">$compileProvider</span></code></a>
and <a href="https://docs.angularjs.org/api/ng/function/angular.reloadWithDebugInfo"><code><span class="pln">angular</span><span class="pun">.</span><span class="pln">reloadWithDebugInfo</span></code></a>.</p>
<h2 id="strict-di-mode" class="ng-scope">Strict DI Mode</h2>
<p class="ng-scope">Using strict di mode in your production application will throw errors when a injectable
function is not
<a href="#di#dependency-annotation">annotated explicitly</a>. Strict di mode is intended to help
you make sure that your code will work when minified. However, it also will force you to
make sure that your injectable functions are explicitly annotated which will improve
angular's performance when injecting dependencies in your injectable functions because it
doesn't have to dynamically discover a function's dependencies. It is recommended to
automate the explicit annotation via a tool like
<a href="https://github.com/olov/ng-annotate">ng-annotate</a> when you deploy to production (and enable
strict di mode)</p>
<p class="ng-scope">To enable strict di mode, you have two options:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;div</span><span class="pln"> </span><span class="aatn">ng-app</span><span class="pun">=</span><span class="atv">"myApp"</span><span class="pln"> </span><span class="atn">ng-strict-di</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="com">&lt;!-- your app here --&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">or</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'myApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">For more information, see the
<a href="#di#using-strict-dependency-injection">DI Guide</a>.</p>


</div>
        </div> 

<!--  +++++++++++++++++++++++++++ +++++++++++++++++++++++++  ++++++++++++++++++++++++ -->
        <hr /><div id="migration" class="document-section"><span class="guide-doc">Migrating from Previous Versions</span></div>
        <div class="grid-left" style="display: none;">
          <a class="btn toc-toggle visible-xs" ng-click="toc=!toc">Show / Hide Table of Contents</a>
          <div class="side-navigation ng-hide" ng-show="toc==true">
            <ul class="nav-list naked-list">
              <!-- ngRepeat: navGroup in currentArea.navGroups track by navGroup.name --><li ng-repeat="navGroup in currentArea.navGroups track by navGroup.name" class="nav-index-group ng-scope">
                <a href="./ng-guide-all3_files/ng-guide-all3.html" ng-class="navClass(navGroup)" class="nav-index-group-heading ng-binding active">Developer Guide</a>
                <ul class="aside-nav">
                  <!-- ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#introduction" class="ng-binding">Introduction</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#concepts" class="ng-binding">Conceptual Overview</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#databinding" class="ng-binding">Data Binding</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#controller" class="ng-binding">Controllers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#services" class="ng-binding">Services</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#scope" class="ng-binding">Scopes</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#di" class="ng-binding">Dependency Injection</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#templates" class="ng-binding">Templates</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#expression" class="ng-binding">Expressions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#filter" class="ng-binding">Filters</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#forms" class="ng-binding">Forms</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#directive" class="ng-binding">Directives</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#animations" class="ng-binding">Animations</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#module" class="ng-binding">Modules</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#compiler" class="ng-binding">HTML Compiler</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#providers" class="ng-binding">Providers</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#bootstrap" class="ng-binding">Bootstrap</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#unit-testing" class="ng-binding">Unit Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#e2e-testing" class="ng-binding">E2E Testing</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#$location" class="ng-binding">Using $location</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#css-styling" class="ng-binding">Working With CSS</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#i18n" class="ng-binding">i18n and l10n</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#security" class="ng-binding">Security</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#accessibility" class="ng-binding">Accessibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#ie" class="ng-binding">Internet Explorer Compatibility</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#production" class="ng-binding">Running in Production</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems --><li ng-repeat="navItem in navGroup.navItems" ng-class="navClass(navItem)" class="nav-index-listing ng-scope active current">
                    <!-- ngIf: navItem.extra.href -->
                    <a tabindex="2" ng-class="linkClass(navItem)" href="#migration" class="ng-binding">Migrating from Previous Versions</a>
                  </li><!-- end ngRepeat: navItem in navGroup.navItems -->
                </ul>
              </li><!-- end ngRepeat: navGroup in currentArea.navGroups track by navGroup.name -->
            </ul>
            <a href="" ng-click="toc=false" class="toc-close visible-xs">
              <span class="glyphicon glyphicon-remove toc-close-icon"></span> Close
            </a>
          </div>
        </div>
        <div class="grid-right" style="margin: 0px auto;">
          <div id="loading" ng-show="loading" class="ng-hide">Loading...</div>
          <!-- ngInclude: partialPath --><div ng-hide="loading" ng-include="partialPath" autoscroll="" class="ng-scope"><a href="https://github.com/angular/angular.js/edit/master/docs/content/guide/migration.ngdoc?message=docs(guide%2FMigrating%20from%20Previous%20Versions)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary ng-scope" style="display: none;"><i class="glyphicon glyphicon-edit">&nbsp;</i>Improve this Doc</a>


<p class="ng-scope">Minor version releases in AngularJS introduce several breaking changes that may require changes to your
application's source code; for instance from 1.0 to 1.2 and from 1.2 to 1.3.</p>
<p class="ng-scope">Although we try to avoid breaking changes, there are some cases where it is unavoidable.</p>
<ul class="ng-scope">
<li>AngularJS has undergone thorough security reviews to make applications safer by default,
which drives many of these changes.</li>
<li>Several new features, especially animations, would not be possible without a few changes.</li>
<li>Finally, some outstanding bugs were best fixed by changing an existing API.</li>
</ul>
<h1 id="migrating-from-1-2-to-1-3" class="ng-scope">Migrating from 1.2 to 1.3</h1>
<h2 id="angular-expression-parsing-parse-interpolate-" class="ng-scope">Angular Expression Parsing (<code><span class="pln">$parse</span></code> + <code><span class="pln">$interpolate</span></code>)</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/77ada4c82d6b8fc6d977c26f3cdb48c2f5fbe5a5">77ada4c8</a>,</li>
</ul>
<p class="ng-scope">You can no longer invoke .bind, .call or .apply on a function in angular expressions.
This is to disallow changing the behaviour of existing functions
in an unforeseen fashion.</p>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/6081f20769e64a800ee8075c168412b21f026d99">6081f207</a>,</li>
</ul>
<p class="ng-scope">The (deprecated) <strong>proto</strong> property does not work inside angular expressions
anymore.</p>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/48fa3aadd546036c7e69f71046f659ab1de244c6">48fa3aad</a>,</li>
</ul>
<p class="ng-scope">This prevents the use of <strong>{define,lookup}{Getter,Setter}</strong> inside angular
expressions. If you really need them for some reason, please wrap/bind them to make them
less dangerous, then make them available through the scope object.</p>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/528be29d1662122a34e204dd607e1c0bd9c16bbc">528be29d</a>,</li>
</ul>
<p class="ng-scope">This prevents the use of <code><span class="typ">Object</span></code> inside angular expressions.
If you need Object.keys, make it accessible in the scope.</p>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/bdfc9c02d021e08babfbc966a007c71b4946d69d">bdfc9c02</a>,
values 'f', '0', 'false', 'no', 'n', '[]' are no longer
treated as falsy. Only JavaScript falsy values are now treated as falsy by the
expression parser; there are six of them: false, null, undefined, NaN, 0 and "".</li>
</ul>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/fa6e411da26824a5bae55f37ce7dbb859653276d">fa6e411d</a>,
promise unwrapping has been removed. It has been deprecated since 1.2.0-rc.3.
It can no longer be turned on.
Two methods have been removed:<ul>
<li><code><span class="pln">$parseProvider</span><span class="pun">.</span><span class="pln">unwrapPromises</span></code></li>
<li><code><span class="pln">$parseProvider</span><span class="pun">.</span><span class="pln">logPromiseWarnings</span></code></li>
</ul>
</li>
</ul>
<ul class="ng-scope">
<li><p><strong>$interpolate:</strong> due to <a href="https://github.com/angular/angular.js/commit/88c2193c71954b9e7e7e4bdf636a2b168d36300d">88c2193c</a>,
the function returned by <code><span class="pln">$interpolate</span></code>
no longer has a <code><span class="pun">.</span><span class="pln">parts</span></code> array set on it.</p>
<p>Instead it has two arrays:</p>
<ul>
<li><code><span class="pun">.</span><span class="pln">expressions</span></code>, an array of the expressions in the
interpolated text. The expressions are parsed with
<code><span class="pln">$parse</span></code>, with an extra layer converting them to strings
when computed</li>
<li><code><span class="pun">.</span><span class="pln">separators</span></code>, an array of strings representing the
separations between interpolations in the text.
This array is <strong>always</strong> 1 item longer than the
<code><span class="pun">.</span><span class="pln">expressions</span></code> array for easy merging with it</li>
</ul>
</li>
</ul>
<h2 id="miscellaneous-angular-helpers" class="ng-scope">Miscellaneous Angular helpers</h2>
<ul class="ng-scope">
<li><strong>Angular.copy:</strong> due to <a href="https://github.com/angular/angular.js/commit/b59b04f98a0b59eead53f6a53391ce1bbcbe9b57">b59b04f9</a>,</li>
</ul>
<p class="ng-scope">This changes <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">copy</span></code> so that it applies the prototype of the original
object to the copied object.  Previously, <code><span class="pln">angular</span><span class="pun">.</span><span class="pln">copy</span></code> would copy properties
of the original object's prototype chain directly onto the copied object.</p>
<p class="ng-scope">This means that if you iterate over only the copied object's <code><span class="pln">hasOwnProperty</span></code>
properties, it will no longer contain the properties from the prototype.
This is actually much more reasonable behaviour and it is unlikely that
applications are actually relying on this.</p>
<p class="ng-scope">If this behaviour is relied upon, in an app, then one should simply iterate
over all the properties on the object (and its inherited properties) and
not filter them with <code><span class="pln">hasOwnProperty</span></code>.</p>
<p class="ng-scope"><strong>Be aware that this change also uses a feature that is not compatible with
IE8.</strong>  If you need this to work on IE8 then you would need to provide a polyfill
for <code><span class="typ">Object</span><span class="pun">.</span><span class="pln">create</span></code> and <code><span class="typ">Object</span><span class="pun">.</span><span class="pln">getPrototypeOf</span></code>.</p>
<ul class="ng-scope">
<li><strong>forEach:</strong> due to <a href="https://github.com/angular/angular.js/commit/55991e33af6fece07ea347a059da061b76fc95f5">55991e33</a>,
forEach will iterate only over the initial number of items in
the array. So if items are added to the array during the iteration, these won't
be iterated over during the initial forEach call.</li>
</ul>
<p class="ng-scope">This change also makes our forEach behave more like Array#forEach.</p>
<ul class="ng-scope">
<li><strong>angular.toJson:</strong> due to <a href="https://github.com/angular/angular.js/commit/c054288c9722875e3595e6e6162193e0fb67a251">c054288c</a>,</li>
</ul>
<p class="ng-scope">If you expected <code><span class="pln">toJson</span></code> to strip these types of properties before, you will have to
manually do this yourself now.</p>
<h2 id="jqlite-jquery" class="ng-scope">jqLite / JQuery</h2>
<ul class="ng-scope">
<li><strong>jqLite:</strong> due to <a href="https://github.com/angular/angular.js/commit/a196c8bca82a28c08896d31f1863cf4ecd11401c">a196c8bc</a>,
previously it was possible to set jqLite data on Text/Comment
nodes, but now that is allowed only on Element and Document nodes just like in
jQuery. We don't expect that app code actually depends on this accidental feature.</li>
</ul>
<ul class="ng-scope">
<li><strong>jqLite:</strong> due to <a href="https://github.com/angular/angular.js/commit/d71dbb1ae50f174680533492ce4c7db3ff74df00">d71dbb1a</a>,
the jQuery <code><span class="pln">detach</span><span class="pun">()</span></code> method does not trigger the <code><span class="pln">$destroy</span></code> event.
If you want to destroy Angular data attached to the element, use <code><span class="pln">remove</span><span class="pun">()</span></code>.</li>
</ul>
<h2 id="angular-html-compiler-compile-" class="ng-scope">Angular HTML Compiler (<code><span class="pln">$compile</span></code>)</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/2ee29c5da81ffacdc1cabb438f5d125d5e116cb9">2ee29c5d</a>,</li>
</ul>
<p class="ng-scope">The isolated scope of a component directive no longer leaks into the template
that contains the instance of the directive.  This means that you can no longer
access the isolated scope from attributes on the element where the isolated
directive is defined.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/issues/10236">https://github.com/angular/angular.js/issues/10236</a> for an example.</p>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/2cde927e58c8d1588569d94a797e43cdfbcedaf9">2cde927e</a>,</li>
</ul>
<p class="ng-scope">Requesting isolate scope and any other scope on a single element is an error.
Before this change, the compiler let two directives request a child scope
and an isolate scope if the compiler applied them in the order of non-isolate
scope directive followed by isolate scope directive.</p>
<p class="ng-scope">Now the compiler will error regardless of the order.</p>
<p class="ng-scope">If you find that your code is now throwing a <code><span class="pln">$compile</span><span class="pun">:</span><span class="pln">multidir</span></code> error,
check that you do not have directives on the same element that are trying
to request both an isolate and a non-isolate scope and fix your code.</p>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/eec6394a342fb92fba5270eee11c83f1d895e9fb">eec6394a</a>, The <code><span class="pln">replace</span></code> flag for defining directives that
replace the element that they are on will be removed in the next major angular version.
This feature has difficult semantics (e.g. how attributes are merged) and leads to more
problems compared to what it solves. Also, with Web Components it is normal to have
custom elements in the DOM.</li>
</ul>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/299b220f5e05e1d4e26bfd58d0b2fd7329ca76b1">299b220f</a>,
calling <code><span class="pln">attr</span><span class="pun">.</span><span class="pln">$observe</span></code> no longer returns the observer function, but a
  deregistration function instead. To migrate the code follow the example below:</li>
</ul>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code><span class="pln">directive</span><span class="pun">(</span><span class="str">'directiveName'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> observer </span><span class="pun">=</span><span class="pln"> attr</span><span class="pun">.</span><span class="pln">$observe</span><span class="pun">(</span><span class="str">'someAttr'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code><span class="pln">directive</span><span class="pun">(</span><span class="str">'directiveName'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">scope</span><span class="pun">,</span><span class="pln"> elm</span><span class="pun">,</span><span class="pln"> attr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">var</span><span class="pln"> observer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">

      attr</span><span class="pun">.</span><span class="pln">$observe</span><span class="pun">(</span><span class="str">'someAttr'</span><span class="pun">,</span><span class="pln"> observer</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<h2 id="forms-inputs-and-ngmodel" class="ng-scope">Forms, Inputs and ngModel</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/1be9bb9d3527e0758350c4f7417a4228d8571440">1be9bb9d</a>,</li>
</ul>
<p class="ng-scope">If an expression is used on ng-pattern (such as <code><span class="atn">ng-pattern</span><span class="pun">=</span><span class="str">"exp"</span></code>) or on the
pattern attribute (something like on <code><span class="pln">pattern</span><span class="pun">=</span><span class="str">"{{ exp }}"</span></code>) and the expression
itself evaluates to a string then the validator will not parse the string as a
literal regular expression object (a value like <code><span class="str">/abc/</span><span class="pln">i</span></code>).  Instead, the entire
string will be created as the regular expression to test against. This means
that any expression flags will not be placed on the RegExp object. To get around
this limitation, use a regular expression object as the value for the expression.</p>
<pre class="ng-scope"><code><span class="com">//before</span><span class="pln">
$scope</span><span class="pun">.</span><span class="pln">exp </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/abc/i'</span><span class="pun">;</span><span class="pln">

</span><span class="com">//after</span><span class="pln">
$scope</span><span class="pun">.</span><span class="pln">exp </span><span class="pun">=</span><span class="pln"> </span><span class="str">/abc/</span><span class="pln">i</span><span class="pun">;</span></code></pre>
<ul class="ng-scope">
<li><strong>ngModelOptions:</strong> due to <a href="https://github.com/angular/angular.js/commit/adfc322b04a58158fb9697e5b99aab9ca63c80bb">adfc322b</a>,</li>
</ul>
<p class="ng-scope">This commit changes the API on <code><span class="typ">NgModelController</span></code>, both semantically and
in terms of adding and renaming methods.</p>
<ul class="ng-scope">
<li><code><span class="pln">$setViewValue</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span></code> -
This method still changes the <code><span class="pln">$viewValue</span></code> but does not immediately commit this
change through to the <code><span class="pln">$modelValue</span></code> as it did previously.
Now the value is committed only when a trigger specified in an associated
<code><span class="pln">ngModelOptions</span></code> directive occurs. If <code><span class="pln">ngModelOptions</span></code> also has a <code><span class="pln">debounce</span></code> delay
specified for the trigger then the change will also be debounced before being
committed.
In most cases this should not have a significant impact on how <code><span class="typ">NgModelController</span></code>
is used: If <code><span class="pln">updateOn</span></code> includes <code><span class="kwd">default</span></code> then <code><span class="pln">$setViewValue</span></code> will trigger
a (potentially debounced) commit immediately.</li>
<li><code><span class="pln">$cancelUpdate</span><span class="pun">()</span></code> - is renamed to <code><span class="pln">$rollbackViewValue</span><span class="pun">()</span></code> and has the same meaning,
which is to revert the current <code><span class="pln">$viewValue</span></code> back to the <code><span class="pln">$lastCommittedViewValue</span></code>,
to cancel any pending debounced updates and to re-render the input.</li>
</ul>
<p class="ng-scope">To migrate code that used <code><span class="pln">$cancelUpdate</span><span class="pun">()</span></code> follow the example below:</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">$scope</span><span class="pun">.</span><span class="pln">resetWithCancel </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">keyCode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">myForm</span><span class="pun">.</span><span class="pln">myInput1</span><span class="pun">.</span><span class="pln">$cancelUpdate</span><span class="pun">();</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">myValue </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">$scope</span><span class="pun">.</span><span class="pln">resetWithCancel </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">keyCode </span><span class="pun">==</span><span class="pln"> </span><span class="lit">27</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">myForm</span><span class="pun">.</span><span class="pln">myInput1</span><span class="pun">.</span><span class="pln">$rollbackViewValue</span><span class="pun">();</span><span class="pln">
    $scope</span><span class="pun">.</span><span class="pln">myValue </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<ul class="ng-scope">
<li>types date, time, datetime-local, month, week now always
require a <code><span class="typ">Date</span></code> object as model (<a href="https://github.com/angular/angular.js/commit/46bd6dc88de252886d75426efc2ce8107a5134e9">46bd6dc8</a>,
 <a href="https://github.com/angular/angular.js/issues/5864">#5864</a>)</li>
</ul>
<h2 id="scopes-and-digests-scope-" class="ng-scope">Scopes and Digests (<code><span class="pln">$scope</span></code>)</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/8c6a8171f9bdaa5cdabc0cc3f7d3ce10af7b434d">8c6a8171</a>,
Scope#$id is now of type number rather than string. Since the
id is primarily being used for debugging purposes this change should not affect
anyone.</li>
</ul>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/82f45aee5bd84d1cc53fb2e8f645d2263cdaacbc">82f45aee</a>,
<a href="https://github.com/angular/angular.js/issues/7445">#7445</a>,
<a href="https://github.com/angular/angular.js/issues/7523">#7523</a>
<code><span class="pln">$broadcast</span></code> and <code><span class="pln">$emit</span></code> will now reset the <code><span class="pln">currentScope</span></code> property of the event to
null once the event finished propagating. If any code depends on asynchronously accessing their
<code><span class="pln">currentScope</span></code> property, it should be migrated to use <code><span class="pln">targetScope</span></code> instead. All of these cases
should be considered programming bugs.</li>
</ul>
<h2 id="server-requests-http-resource-" class="ng-scope">Server Requests (<code><span class="pln">$http</span></code>, <code><span class="pln">$resource</span></code>)</h2>
<ul class="ng-scope">
<li><strong>$http:</strong> due to <a href="https://github.com/angular/angular.js/commit/ad4336f9359a073e272930f8f9bcd36587a8648f">ad4336f9</a>,</li>
</ul>
<p class="ng-scope">Previously, it was possible to register a response interceptor like so:</p>
<pre class="ng-scope"><code class="lang-js"><span class="com">// register the interceptor as a service</span><span class="pln">
$provide</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'myHttpInterceptor'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$q</span><span class="pun">,</span><span class="pln"> dependency1</span><span class="pun">,</span><span class="pln"> dependency2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">promise</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> promise</span><span class="pun">.</span><span class="pln">then</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// do something on success</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> response</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// do something on error</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">canRecover</span><span class="pun">(</span><span class="pln">response</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> responseOrNewPromise
      </span><span class="pun">}</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> $q</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

$httpProvider</span><span class="pun">.</span><span class="pln">responseInterceptors</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">'myHttpInterceptor'</span><span class="pun">);</span></code></pre>
<p class="ng-scope">Now, one must use the newer API introduced in v1.1.4 (4ae46814), like so:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">$provide</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'myHttpInterceptor'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$q</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    response</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// do something on success</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> response</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    responseError</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// do something on error</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">canRecover</span><span class="pun">(</span><span class="pln">response</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> responseOrNewPromise
      </span><span class="pun">}</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> $q</span><span class="pun">.</span><span class="pln">reject</span><span class="pun">(</span><span class="pln">response</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

$httpProvider</span><span class="pun">.</span><span class="pln">interceptors</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">'myHttpInterceptor'</span><span class="pun">);</span></code></pre>
<p class="ng-scope">More details on the new interceptors API (which has been around as of v1.1.4) can be found at
<a href="https://docs.angularjs.org/api/ng/service/$http#interceptors">interceptors</a></p>
<ul class="ng-scope">
<li><strong>$httpBackend:</strong> due to <a href="https://github.com/angular/angular.js/commit/6680b7b97c0326a80bdccaf0a35031e4af641e0e">6680b7b9</a>, the JSONP behavior for erroneous and empty responses changed:
  Previously, a JSONP response was regarded as erroneous if it was empty. Now Angular is listening to the
  correct events to detect errors, i.e. even empty responses can be successful.</li>
</ul>
<ul class="ng-scope">
<li><p><strong>$resource:</strong> due to <a href="https://github.com/angular/angular.js/commit/d3c50c845671f0f8bcc3f7842df9e2fb1d1b1c40">d3c50c84</a>,</p>
<p>If you expected <code><span class="pln">$resource</span></code> to strip these types of properties before,
you will have to manually do this yourself now.</p>
</li>
</ul>
<h2 id="modules-and-injector-inject-" class="ng-scope">Modules and Injector (<code><span class="pln">$inject</span></code>)</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/c0b4e2db9cbc8bc3164cedc4646145d3ab72536e">c0b4e2db</a>,</li>
</ul>
<p class="ng-scope">Previously, config blocks would be able to control behaviour of provider registration, due to being
invoked prior to provider registration. Now, provider registration always occurs prior to configuration
for a given module, and therefore config blocks are not able to have any control over a providers
registration.</p>
<p class="ng-scope"><strong>Example</strong>:</p>
<p class="ng-scope">Previously, the following:</p>
<pre class="ng-scope"><code class="lang-js"><span class="pln">angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'foo'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">provider</span><span class="pun">(</span><span class="str">'$rootProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">$get </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="pln">config</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$rootProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $rootProvider</span><span class="pun">.</span><span class="pln">dependentMode </span><span class="pun">=</span><span class="pln"> </span><span class="str">"B"</span><span class="pun">;</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="pln">provider</span><span class="pun">(</span><span class="str">'$dependentProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$rootProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$rootProvider</span><span class="pun">.</span><span class="pln">dependentMode </span><span class="pun">===</span><span class="pln"> </span><span class="str">"A"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">$get </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// Special mode!</span><span class="pln">
     </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
     </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">$get </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="com">// something else</span><span class="pln">
     </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">would have "worked", meaning behaviour of the config block between the registration of "$rootProvider"
and "$dependentProvider" would have actually accomplished something and changed the behaviour of the
app. This is no longer possible within a single module.</p>
<h2 id="animation-nganimate-" class="ng-scope">Animation (<code><span class="pln">ngAnimate</span></code>)</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/1cb8584e8490ecdb1b410a8846c4478c6c2c0e53">1cb8584e</a>,
<code><span class="pln">$animate</span></code> will no longer default the after parameter to the last element of the parent
container. Instead, when after is not specified, the new element will be inserted as the
first child of the parent container.</li>
</ul>
<p class="ng-scope">To update existing code, change all instances of <code><span class="pln">$animate</span><span class="pun">.</span><span class="pln">enter</span><span class="pun">()</span></code> or <code><span class="pln">$animate</span><span class="pun">.</span><span class="pln">move</span><span class="pun">()</span></code> from:</p>
<p class="ng-scope"><code><span class="pln">$animate</span><span class="pun">.</span><span class="pln">enter</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> parent</span><span class="pun">);</span></code></p>
<p class="ng-scope">to:</p>
<p class="ng-scope"><code><span class="pln">$animate</span><span class="pun">.</span><span class="pln">enter</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln"> parent</span><span class="pun">,</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">element</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">lastChild</span><span class="pun">));</span></code></p>
<ul class="ng-scope">
<li><p>due to <a href="https://github.com/angular/angular.js/commit/1bebe36aa938890d61188762ed618b1b5e193634">1bebe36a</a>,</p>
<p>Any class-based animation code that makes use of transitions
and uses the setup CSS classes (such as class-add and class-remove) must now
provide a empty transition value to ensure that its styling is applied right
away. In other words if your animation code is expecting any styling to be
applied that is defined in the setup class then it will not be applied
"instantly" unless a <code><span class="pln">transition</span><span class="pun">:</span><span class="lit">0s</span><span class="pln"> none</span></code> value is present in the styling
for that CSS class. This situation is only the case if a transition is already
present on the base CSS class once the animation kicks off.</p>
</li>
</ul>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code><span class="pun">.</span><span class="pln">animated</span><span class="pun">.</span><span class="kwd">my</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add </span><span class="pun">{</span><span class="pln">
  opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
  transition</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> linear all</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">animated</span><span class="pun">.</span><span class="kwd">my</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add</span><span class="pun">.</span><span class="kwd">my</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add</span><span class="pun">-</span><span class="pln">active </span><span class="pun">{</span><span class="pln">
  opacity</span><span class="pun">:</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code><span class="pun">.</span><span class="pln">animated</span><span class="pun">.</span><span class="kwd">my</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add </span><span class="pun">{</span><span class="pln">
  transition</span><span class="pun">:</span><span class="lit">0s</span><span class="pln"> linear all</span><span class="pun">;</span><span class="pln">
  opacity</span><span class="pun">:</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">animated</span><span class="pun">.</span><span class="kwd">my</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add</span><span class="pun">.</span><span class="kwd">my</span><span class="pun">-</span><span class="kwd">class</span><span class="pun">-</span><span class="pln">add</span><span class="pun">-</span><span class="pln">active </span><span class="pun">{</span><span class="pln">
  transition</span><span class="pun">:</span><span class="lit">0.5s</span><span class="pln"> linear all</span><span class="pun">;</span><span class="pln">
  opacity</span><span class="pun">:</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">Please view the documentation for ngAnimate for more info.</p>
<h2 id="testing" class="ng-scope">Testing</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/85880a64900fa22a61feb926bf52de0965332ca5">85880a64</a>, some deprecated features of
Protractor tests no longer work.</li>
</ul>
<p class="ng-scope"><code><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="pln">descriptor</span><span class="pun">)</span></code> no longer allows using the surrounding interpolation
markers in the descriptor (the default interpolation markers are <code><span class="pun">{{}}</span></code>).
Previously, these were optional.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code><span class="kwd">var</span><span class="pln"> el </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'{{foo}}'</span><span class="pun">));</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code><span class="kwd">var</span><span class="pln"> el </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">binding</span><span class="pun">(</span><span class="str">'foo'</span><span class="pun">));</span></code></pre>
<p class="ng-scope">Prefixes <code><span class="pln">ng_</span></code> and <code><span class="pln">x</span><span class="pun">-</span><span class="pln">ng</span><span class="pun">-</span></code> are no longer allowed for models. Use <code><span class="atn">ng-model</span></code>.</p>
<p class="ng-scope"><code><span class="kwd">by</span><span class="pun">.</span><span class="pln">repeater</span></code> cannot find elements by row and column which are not children of
the row. For example, if your template is</p>
<pre class="ng-scope"><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"foo in foos"</span><span class="tag">&gt;</span><span class="ang">{{</span><span class="pln">foo.name</span><span class="ang">}}</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code><span class="kwd">var</span><span class="pln"> el </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">repeater</span><span class="pun">(</span><span class="str">'foo in foos'</span><span class="pun">).</span><span class="pln">row</span><span class="pun">(</span><span class="lit">2</span><span class="pun">).</span><span class="pln">column</span><span class="pun">(</span><span class="str">'foo.name'</span><span class="pun">))</span></code></pre>
<p class="ng-scope">After:</p>
<p class="ng-scope">You may either enclose <code><span class="pun">{{</span><span class="pln">foo</span><span class="pun">.</span><span class="pln">name</span><span class="pun">}}</span></code> in a child element</p>
<pre class="ng-scope"><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"foo in foos"</span><span class="tag">&gt;&lt;span&gt;</span><span class="ang">{{</span><span class="pln">foo.name</span><span class="ang">}}</span><span class="tag">&lt;/span&gt;&lt;/div&gt;</span></code></pre>
<p class="ng-scope">or simply use:</p>
<pre class="ng-scope"><code><span class="kwd">var</span><span class="pln"> el </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">repeater</span><span class="pun">(</span><span class="str">'foo in foos'</span><span class="pun">).</span><span class="pln">row</span><span class="pun">(</span><span class="lit">2</span><span class="pun">))</span></code></pre>
<h2 id="internet-explorer-8" class="ng-scope">Internet Explorer 8</h2>
<ul class="ng-scope">
<li>due to <a href="https://github.com/angular/angular.js/commit/eaa1d00b24008f590b95ad099241b4003688cdda">eaa1d00b</a>,
As communicated before, IE8 is no longer supported.</li>
</ul>
<h1 id="migrating-from-1-0-to-1-2" class="ng-scope">Migrating from 1.0 to 1.2</h1>
<div class="alert alert-warning ng-scope">
<p><strong>Note:</strong> AngularJS versions 1.1.x are considered "experimental" with breaking changes between minor releases.
Version 1.2 is the result of several versions on the 1.1 branch, and has a stable API.</p>

<p>If you have an application on 1.1 and want to migrate it to 1.2, everything in the guide
below should still apply, but you may want to consult the
<a href="https://github.com/angular/angular.js/blob/master/CHANGELOG.md">changelog</a> as well.</p>
</div>

<ul class="nav nav-list ng-scope">
  <li class="nav-header">Summary of Breaking Changes</li>
  <li><a href="#migration#ngroute-has-been-moved-into-its-own-module">ngRoute has been moved into its own module</a></li>
  <li><a href="#migration#templates-no-longer-automatically-unwrap-promises">Templates no longer automatically unwrap promises</a></li>
  <li><a href="#migration#syntax-for-named-wildcard-parameters-changed-in-route-">Syntax for named wildcard parameters changed in <code><span class="pln">$route</span></code></a></li>
  <li><a href="#migration#you-can-only-bind-one-expression-to-src-ng-src-or-action-">You can only bind one expression to <code><em><span class="pun">[</span><span class="pln">src</span><span class="pun">]</span></em></code><em>, <code></code></em><code><span class="pun">[</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">src</span><span class="pun">]</span></code> or <code><span class="pln">action</span></code></a></li>
  <li><a href="#migration#interpolations-inside-dom-event-handlers-are-now-disallowed">Interpolations inside DOM event handlers are now disallowed</a></li>
  <li><a href="#migration#directives-cannot-end-with-start-or-end">Directives cannot end with -start or -end</a></li>
  <li><a href="#migration#in-q-promise-always-has-been-renamed-promise-finally">In $q, promise.always has been renamed promise.finally</a></li>
  <li><a href="#migration#ngmobile-is-now-ngtouch">ngMobile is now ngTouch</a></li>
  <li><a href="#migration#resource-then-has-been-removed">resource.$then has been removed</a></li>
  <li><a href="#migration#resource-methods-return-the-promise">Resource methods return the promise</a></li>
  <li><a href="#migration#resource-promises-are-resolved-with-the-resource-instance">Resource promises are resolved with the resource instance</a></li>
  <li><a href="#migration#-location-search-supports-multiple-keys">$location.search supports multiple keys</a></li>
  <li><a href="#migration#ngbindhtmlunsafe-has-been-removed-and-replaced-by-ngbindhtml">ngBindHtmlUnsafe has been removed and replaced by ngBindHtml</a></li>
  <li><a href="#migration#form-names-that-are-expressions-are-evaluated">Form names that are expressions are evaluated</a></li>
  <li><a href="#migration#hasownproperty-disallowed-as-an-input-name">hasOwnProperty disallowed as an input name</a></li>
  <li><a href="#migration#directives-order-of-postlink-functions-reversed">Directives: Order of postLink functions reversed</a></li>
  <li><a href="#migration#directive-priority">Directive priority</a></li>
  <li><a href="#migration#ngscenario">ngScenario</a></li>
  <li><a href="#migration#nginclude-and-ngview-replace-its-entire-element-on-update">ngInclude and ngView replace its entire element on update</a></li>
  <li><a href="#migration#urls-are-now-sanitized-against-a-whitelist">URLs are now sanitized against a whitelist</a></li>
  <li><a href="#migration#isolate-scope-only-exposed-to-directives-with-scope-property">Isolate scope only exposed to directives with <code><span class="pln">scope</span></code> property</a></li>
  <li><a href="#migration#change-to-interpolation-priority">Change to interpolation priority</a></li>
  <li><a href="#migration#underscore-prefixed-suffixed-properties-are-non-bindable">Underscore-prefixed/suffixed properties are non-bindable</a></li>
  <li><a href="#migration#you-cannot-bind-to-select-multiple-">You cannot bind to select[multiple]</a></li>
  <li><a href="#migration#uncommon-region-specific-local-files-were-removed-from-i18n">Uncommon region-specific local files were removed from i18n</a></li>
  <li><a href="#migration#services-can-now-return-functions">Services can now return functions</a></li>
</ul>


<h2 id="ngroute-has-been-moved-into-its-own-module" class="ng-scope">ngRoute has been moved into its own module</h2>
<p class="ng-scope">Just like <code><span class="pln">ngResource</span></code>, <code><span class="pln">ngRoute</span></code> is now its own module.</p>
<p class="ng-scope">Applications that use <code><span class="pln">$route</span></code>, <code><span class="pln">ngView</span></code>, and/or <code><span class="pln">$routeParams</span></code> will now need to load an
<code><span class="pln">angular</span><span class="pun">-</span><span class="pln">route</span><span class="pun">.</span><span class="pln">js</span></code> file and have their application's module dependency on the <code><span class="pln">ngRoute</span></code> module.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span></code></pre>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'someOtherModule'</span><span class="pun">]);</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"angular-route.js"</span><span class="tag">&gt;&lt;/script&gt;</span></code></pre>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">var</span><span class="pln"> myApp </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'ngRoute'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'someOtherModule'</span><span class="pun">]);</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/5599b55b04788c2e327d7551a4a699d75516dd21">5599b55b</a>.</p>
<h2 id="templates-no-longer-automatically-unwrap-promises" class="ng-scope">Templates no longer automatically unwrap promises</h2>
<p class="ng-scope"><code><span class="pln">$parse</span></code> and templates in general will no longer automatically unwrap promises.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">$scope</span><span class="pun">.</span><span class="pln">foo </span><span class="pun">=</span><span class="pln"> $http</span><span class="pun">({</span><span class="pln">method</span><span class="pun">:</span><span class="pln"> </span><span class="str">'GET'</span><span class="pun">,</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/someUrl'</span><span class="pun">});</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;p&gt;</span><span class="ang">{{</span><span class="pln">foo</span><span class="ang">}}</span><span class="tag">&lt;/p&gt;</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">$http</span><span class="pun">({</span><span class="pln">method</span><span class="pun">:</span><span class="pln"> </span><span class="str">'GET'</span><span class="pun">,</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/someUrl'</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="pln">success</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">foo </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;p&gt;</span><span class="ang">{{</span><span class="pln">foo</span><span class="ang">}}</span><span class="tag">&lt;/p&gt;</span></code></pre>
<p class="ng-scope">This feature has been deprecated. If absolutely needed, it can be reenabled for now via the
<code><span class="pln">$parseProvider</span><span class="pun">.</span><span class="pln">unwrapPromises</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">)</span></code> API.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/5dc35b527b3c99f6544b8cb52e93c6510d3ac577">5dc35b52</a>,
<a href="https://github.com/angular/angular.js/commit/b6a37d112b3e1478f4d14a5f82faabf700443748">b6a37d11</a>.</p>
<h2 id="syntax-for-named-wildcard-parameters-changed-in-route-" class="ng-scope">Syntax for named wildcard parameters changed in <code><span class="pln">$route</span></code></h2>
<p class="ng-scope">To migrate the code, follow the example below. Here, <code><span class="pun">*</span><span class="pln">highlight</span></code> becomes <code><span class="pun">:</span><span class="pln">highlight</span><span class="pun">*</span></code></p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">$routeProvider</span><span class="pun">.</span><span class="kwd">when</span><span class="pun">(</span><span class="str">'/Book1/:book/Chapter/:chapter/*highlight/edit'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">{</span><span class="pln">controller</span><span class="pun">:</span><span class="pln"> noop</span><span class="pun">,</span><span class="pln"> templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Chapter.html'</span><span class="pun">});</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">$routeProvider</span><span class="pun">.</span><span class="kwd">when</span><span class="pun">(</span><span class="str">'/Book1/:book/Chapter/:chapter/:highlight*/edit'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">{</span><span class="pln">controller</span><span class="pun">:</span><span class="pln"> noop</span><span class="pun">,</span><span class="pln"> templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Chapter.html'</span><span class="pun">});</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/04cebcc133c8b433a3ac5f72ed19f3631778142b">04cebcc1</a>.</p>
<h2 id="you-can-only-bind-one-expression-to-src-ng-src-or-action-" class="ng-scope">You can only bind one expression to <code><span class="pun">*[</span><span class="pln">src</span><span class="pun">]</span></code>, <code><span class="pun">*[</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">src</span><span class="pun">]</span></code> or <code><span class="pln">action</span></code></h2>
<p class="ng-scope">With the exception of <code><span class="tag">&lt;a&gt;</span></code> and <code><span class="tag">&lt;img&gt;</span></code> elements, you cannot bind more than one expression to the
<code><span class="pln">src</span></code> or <code><span class="pln">action</span></code> attribute of elements.</p>
<p class="ng-scope">This is one of several improvements to security introduces by Angular 1.2.</p>
<p class="ng-scope">Concatenating expressions makes it hard to understand whether some combination of concatenated
values are unsafe to use and potentially subject to XSS vulnerabilities. To simplify the task of
auditing for XSS issues, we now require that a single expression be used for <code><span class="pun">*[</span><span class="pln">src</span><span class="pun">/</span><span class="pln">ng</span><span class="pun">-</span><span class="pln">src</span><span class="pun">]</span></code>
bindings such as bindings for <code><span class="pln">iframe</span><span class="pun">[</span><span class="pln">src</span><span class="pun">]</span></code>, <code><span class="kwd">object</span><span class="pun">[</span><span class="pln">src</span><span class="pun">]</span></code>, etc. In addition, this requirement is
enforced for <code><span class="pln">form</span></code> tags with <code><span class="pln">action</span></code> attributes.</p>
<table class="table table-bordered code-table ng-scope">
<thead>
<tr>
  <th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code><span class="tag">&lt;img</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"{{a}}/{{b}}"</span><span class="tag">&gt;</span></code></td>
  <td class="success">ok</td>
</tr>
<tr>
  <td><code><span class="tag">&lt;iframe</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"{{a}}/{{b}}"</span><span class="tag">&gt;&lt;/iframe&gt;</span></code></td>
  <td class="error">bad</td>
</tr>
<tr>
  <td><code><span class="tag">&lt;iframe</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"{{a}}"</span><span class="tag">&gt;&lt;/iframe&gt;</span></code></td>
  <td class="success">ok</td>
</tr>
</tbody>
</table>


<p class="ng-scope">To migrate your code, you can combine multiple expressions using a method attached to your scope.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">scope</span><span class="pun">.</span><span class="pln">baseUrl </span><span class="pun">=</span><span class="pln"> </span><span class="str">'page'</span><span class="pun">;</span><span class="pln">
scope</span><span class="pun">.</span><span class="pln">a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
scope</span><span class="pun">.</span><span class="pln">b </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="com">&lt;!-- Are a and b properly escaped here? Is baseUrl controlled by user? --&gt;</span><span class="pln">
</span><span class="tag">&lt;iframe</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"{{baseUrl}}?a={{a}&amp;b={{b}}"</span><span class="tag">&gt;</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">var</span><span class="pln"> baseUrl </span><span class="pun">=</span><span class="pln"> </span><span class="str">"page"</span><span class="pun">;</span><span class="pln">
scope</span><span class="pun">.</span><span class="pln">getIframeSrc </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="com">// One should think about their particular case and sanitize accordingly</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> qs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">"a"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"b"</span><span class="pun">].</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> encodeURIComponent</span><span class="pun">(</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"="</span><span class="pln"> </span><span class="pun">+</span><span class="pln">
             encodeURIComponent</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}).</span><span class="pln">join</span><span class="pun">(</span><span class="str">"&amp;"</span><span class="pun">);</span><span class="pln">

  </span><span class="com">// `baseUrl` isn't exposed to a user's control, so we don't have to worry about escaping it.</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> baseUrl </span><span class="pun">+</span><span class="pln"> </span><span class="str">"?"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> qs</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span></code></pre>
<pre class="ng-scope"><code class="lang-html" style="font-weight: bold; color: black;"><span class="tag">&lt;iframe</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"{{getIframeSrc()}}"</span><span class="tag">&gt;</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/38deedd6e3d806eb8262bb43f26d47245f6c2739">38deedd6</a>.</p>
<h2 id="interpolations-inside-dom-event-handlers-are-now-disallowed" class="ng-scope">Interpolations inside DOM event handlers are now disallowed</h2>
<p class="ng-scope">DOM event handlers execute arbitrary Javascript code. Using an interpolation for such handlers
means that the interpolated value is a JS string that is evaluated. Storing or generating such
strings is error prone and leads to XSS vulnerabilities. On the other hand, <code><span class="pln">ngClick</span></code> and other
Angular specific event handlers evaluate Angular expressions in non-window (Scope) context which
makes them much safer.</p>
<p class="ng-scope">To migrate the code follow the example below:</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code><span class="pln">JS</span><span class="pun">:</span><span class="pln">   scope</span><span class="pun">.</span><span class="pln">foo </span><span class="pun">=</span><span class="pln"> </span><span class="str">'alert(1)'</span><span class="pun">;</span><span class="pln">
HTML</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">div onclick</span><span class="pun">=</span><span class="str">"{{foo}}"</span><span class="pun">&gt;</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code><span class="pln">JS</span><span class="pun">:</span><span class="pln">   scope</span><span class="pun">.</span><span class="pln">foo </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> alert</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
HTML</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">div ng</span><span class="pun">-</span><span class="pln">click</span><span class="pun">=</span><span class="str">"foo()"</span><span class="pun">&gt;</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/39841f2ec9b17b3b2920fd1eb548d444251f4f56">39841f2e</a>.</p>
<h2 id="directives-cannot-end-with-start-or-end" class="ng-scope">Directives cannot end with -start or -end</h2>
<p class="ng-scope">This change was necessary to enable multi-element directives. The best fix is to rename existing
directives so that they don't end with these suffixes.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/e46100f7097d9a8f174bdb9e15d4c6098395c3f2">e46100f7</a>.</p>
<h2 id="in-q-promise-always-has-been-renamed-promise-finally" class="ng-scope">In $q, promise.always has been renamed promise.finally</h2>
<p class="ng-scope">The reason for this change is to align <code><span class="pln">$q</span></code> with the <a href="https://github.com/kriskowal/q">Q promise
library</a>, despite the fact that this makes it a bit more difficult
to use with non-ES5 browsers, like IE8.</p>
<p class="ng-scope"><code><span class="kwd">finally</span></code> also goes well together with the <code><span class="kwd">catch</span></code> API that was added to <code><span class="pln">$q</span></code> recently and is part
of the <a href="http://dom.spec.whatwg.org/">DOM promises standard</a>.</p>
<p class="ng-scope">To migrate the code follow the example below.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">$http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'/foo'</span><span class="pun">).</span><span class="pln">always</span><span class="pun">(</span><span class="pln">doSomething</span><span class="pun">);</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">$http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'/foo'</span><span class="pun">).</span><span class="kwd">finally</span><span class="pun">(</span><span class="pln">doSomething</span><span class="pun">);</span></code></pre>
<p class="ng-scope">Or for IE8-compatible code:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">$http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'/foo'</span><span class="pun">)[</span><span class="str">'finally'</span><span class="pun">](</span><span class="pln">doSomething</span><span class="pun">);</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/f078762d48d0d5d9796dcdf2cb0241198677582c">f078762d</a>.</p>
<h2 id="ngmobile-is-now-ngtouch" class="ng-scope">ngMobile is now ngTouch</h2>
<p class="ng-scope">Many touch-enabled devices are not mobile devices, so we decided to rename this module to better
reflect its concerns.</p>
<p class="ng-scope">To migrate, replace all references to <code><span class="pln">ngMobile</span></code> with <code><span class="pln">ngTouch</span></code> and <code><span class="pln">angular</span><span class="pun">-</span><span class="pln">mobile</span><span class="pun">.</span><span class="pln">js</span></code> with
<code><span class="pln">angular</span><span class="pun">-</span><span class="pln">touch</span><span class="pun">.</span><span class="pln">js</span></code>.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/94ec84e7b9c89358dc00e4039009af9e287bbd05">94ec84e7</a>.</p>
<h2 id="resource-then-has-been-removed" class="ng-scope">resource.$then has been removed</h2>
<p class="ng-scope">Resource instances do not have a <code><span class="pln">$then</span></code> function anymore. Use the <code><span class="pln">$promise</span><span class="pun">.</span><span class="kwd">then</span></code> instead.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="typ">Resource</span><span class="pun">.</span><span class="pln">query</span><span class="pun">().</span><span class="pln">$then</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">);</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="typ">Resource</span><span class="pun">.</span><span class="pln">query</span><span class="pun">().</span><span class="pln">$promise</span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">);</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/05772e15fbecfdc63d4977e2e8839d8b95d6a92d">05772e15</a>.</p>
<h2 id="resource-methods-return-the-promise" class="ng-scope">Resource methods return the promise</h2>
<p class="ng-scope">Methods of a resource instance return the promise rather than the instance itself.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">resource</span><span class="pun">.</span><span class="pln">$save</span><span class="pun">().</span><span class="pln">chaining </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="pln">resource</span><span class="pun">.</span><span class="pln">$save</span><span class="pun">();</span><span class="pln">
resource</span><span class="pun">.</span><span class="pln">chaining </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/05772e15fbecfdc63d4977e2e8839d8b95d6a92d">05772e15</a>.</p>
<h2 id="resource-promises-are-resolved-with-the-resource-instance" class="ng-scope">Resource promises are resolved with the resource instance</h2>
<p class="ng-scope">On success, the resource promise is resolved with the resource instance rather than HTTP response object.</p>
<p class="ng-scope">Use interceptor API to access the HTTP response object.</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="typ">Resource</span><span class="pun">.</span><span class="pln">query</span><span class="pun">().</span><span class="pln">$then</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{...});</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">var</span><span class="pln"> </span><span class="typ">Resource</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> $resource</span><span class="pun">(</span><span class="str">'/url'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    method</span><span class="pun">:</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">,</span><span class="pln">
    interceptor</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      response</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">response</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// expose response</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> response</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/05772e15fbecfdc63d4977e2e8839d8b95d6a92d">05772e15</a>.</p>
<h2 id="-location-search-supports-multiple-keys" class="ng-scope">$location.search supports multiple keys</h2>
<p class="ng-scope"><a href="https://docs.angularjs.org/api/ng/service/$location#search"><code><span class="pln">$location</span><span class="pun">.</span><span class="pln">search</span></code></a> now supports multiple keys with the
same value provided that the values are stored in an array.</p>
<p class="ng-scope">Before this change:</p>
<ul class="ng-scope">
<li><code><span class="pln">parseKeyValue</span></code> only took the last key overwriting all the previous keys.</li>
<li><code><span class="pln">toKeyValue</span></code> joined the keys together in a comma delimited string.</li>
</ul>
<p class="ng-scope">This was deemed buggy behavior. If your server relied on this behavior then either the server
should be fixed, or a simple serialization of the array should be done on the client before
passing it to <code><span class="pln">$location</span></code>.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/807394095b991357225a03d5fed81fea5c9a1abe">80739409</a>.</p>
<h2 id="ngbindhtmlunsafe-has-been-removed-and-replaced-by-ngbindhtml" class="ng-scope">ngBindHtmlUnsafe has been removed and replaced by ngBindHtml</h2>
<p class="ng-scope"><code><span class="pln">ngBindHtml</span></code> provides <code><span class="pln">ngBindHtmlUnsafe</span></code> like
behavior (evaluate an expression and innerHTML the result into the DOM) when bound to the result
of <code><span class="pln">$sce</span><span class="pun">.</span><span class="pln">trustAsHtml</span><span class="pun">(</span><span class="kwd">string</span><span class="pun">)</span></code>. When bound to a plain string, the string is sanitized via
<code><span class="pln">$sanitize</span></code> before being innerHTML'd. If the <code><span class="pln">$sanitize</span></code> service isn't available (<code><span class="pln">ngSanitize</span></code>
module is not loaded) and the bound expression evaluates to a value that is not trusted an
exception is thrown.</p>
<p class="ng-scope">When using this directive you can either include <code><span class="pln">ngSanitize</span></code> in your module's dependencies (See the
example at the <a href="https://docs.angularjs.org/api/ng/directive/ngBindHtml"><code><span class="pln">ngBindHtml</span></code></a> reference) or use the <a href="https://docs.angularjs.org/api/ng/service/$sce"><code><span class="pln">$sce</span></code></a> service to set the value as
trusted.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/dae694739b9581bea5dbc53522ec00d87b26ae55">dae69473</a>.</p>
<h2 id="form-names-that-are-expressions-are-evaluated" class="ng-scope">Form names that are expressions are evaluated</h2>
<p class="ng-scope">If you have form names that will evaluate as an expression:</p>
<pre class="ng-scope"><code><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"ctrl.form"</span><span class="tag">&gt;</span></code></pre>
<p class="ng-scope">And if you are accessing the form from your controller:</p>
<p class="ng-scope">Before:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">[</span><span class="str">'ctrl.form'</span><span class="pun">]</span><span class="pln"> </span><span class="com">// form controller instance</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">After:</p>
<pre class="ng-scope"><code class="lang-javascript" style="font-weight: bold; color: black;"><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  $scope</span><span class="pun">.</span><span class="pln">ctrl</span><span class="pun">.</span><span class="pln">form </span><span class="com">// form controller instance</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p class="ng-scope">This makes it possible to access a form from a controller using the new "controller as" syntax.
Supporting the previous behavior offers no benefit.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/8ea802a1d23ad8ecacab892a3a451a308d9c39d7">8ea802a1</a>.</p>
<h2 id="hasownproperty-disallowed-as-an-input-name" class="ng-scope">hasOwnProperty disallowed as an input name</h2>
<p class="ng-scope">Inputs with name equal to <code><span class="pln">hasOwnProperty</span></code> are not allowed inside form or ngForm directives.</p>
<p class="ng-scope">Before, inputs whose name was "hasOwnProperty" were quietly ignored and not added to the scope.
Now a badname exception is thrown. Using "hasOwnProperty" for an input name would be very unusual
and bad practice. To migrate, change your input name.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/7a586e5c19f3d1ecc3fefef084ce992072ee7f60">7a586e5c</a>.</p>
<h2 id="directives-order-of-postlink-functions-reversed" class="ng-scope">Directives: Order of postLink functions reversed</h2>
<p class="ng-scope">The order of postLink fn is now mirror opposite of the order in which corresponding preLinking and compile functions execute.</p>
<p class="ng-scope">Previously the compile/link fns executed in order, sorted by priority:</p>
<table class="table table-bordered table-striped code-table ng-scope">
<thead>
<tr>
  <th>#</th>
  <th>Step</th>
  <th align="center">Old Sort Order</th>
  <th align="center">New Sort Order</th>
</tr>
</thead>
<tbody>
<tr>
  <td>1</td>
  <td>Compile Fns</td>
  <td align="center" colspan="2">High  Low</td>
</tr>
<tr>
  <td>2</td>
  <td colspan="3">Compile child nodes</td>
</tr>
<tr>
  <td>3</td>
  <td>PreLink Fns</td>
  <td align="center" colspan="2">High  Low</td>
</tr>
<tr>
  <td>4</td>
  <td colspan="3">Link child nodes</td>
</tr>
<tr>
  <td>5</td>
  <td>PostLink Fns</td>
  <td align="center">High  Low</td>
  <td align="center"><strong>Low  High</strong></td>
</tr>
</tbody>
</table>

<p class="ng-scope"><small>"High  Low" here refers to the <code><span class="pln">priority</span></code> option of a directive.</small></p>
<p class="ng-scope">Very few directives in practice rely on the order of postLinking functions (unlike on the order
of compile functions), so in the rare case of this change affecting an existing directive, it might
be necessary to convert it to a preLinking function or give it negative priority.</p>
<p class="ng-scope">You can look at <a href="https://github.com/angular/angular.js/commit/31f190d4d53921d32253ba80d9ebe57d6c1de82b">the diff of this
commit</a> to see how an internal
attribute interpolation directive was adjusted.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/31f190d4d53921d32253ba80d9ebe57d6c1de82b">31f190d4</a>.</p>
<h2 id="directive-priority" class="ng-scope">Directive priority</h2>
<p class="ng-scope">the priority of ngRepeat, ngSwitchWhen, ngIf, ngInclude and ngView has changed. This could affect directives that explicitly specify their priority.</p>
<p class="ng-scope">In order to make ngRepeat, ngSwitchWhen, ngIf, ngInclude and ngView work together in all common scenarios their directives are being adjusted to achieve the following precedence:</p>
<table class="ng-scope table table-bordered table-striped code-table">
<thead>
<tr>
<th>Directive</th>
<th>Old Priority</th>
<th>New Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td>ngRepeat</td>
<td>1000</td>
<td>1000</td>
</tr>
<tr>
<td>ngSwitchWhen</td>
<td>500</td>
<td>800</td>
</tr>
<tr>
<td>ngIf</td>
<td>1000</td>
<td>600</td>
</tr>
<tr>
<td>ngInclude</td>
<td>1000</td>
<td>400</td>
</tr>
<tr>
<td>ngView</td>
<td>1000</td>
<td>400</td>
</tr>
</tbody>
</table>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/b7af76b4c5aa77648cc1bfd49935b48583419023">b7af76b4</a>.</p>
<h2 id="ngscenario" class="ng-scope">ngScenario</h2>
<p class="ng-scope">browserTrigger now uses an eventData object instead of direct parameters for mouse events.
To migrate, place the <code><span class="pln">keys</span></code>,<code><span class="pln">x</span></code> and <code><span class="pln">y</span></code> parameters inside of an object and place that as the
third parameter for the browserTrigger function.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/28f56a383e9d1ff378e3568a3039e941c7ffb1d8">28f56a38</a>.</p>
<h2 id="nginclude-and-ngview-replace-its-entire-element-on-update" class="ng-scope">ngInclude and ngView replace its entire element on update</h2>
<p class="ng-scope">Previously <code><span class="pln">ngInclude</span></code> and <code><span class="pln">ngView</span></code> only updated its element's content. Now these directives will
recreate the element every time a new content is included.</p>
<p class="ng-scope">This ensures that a single rootElement for all the included contents always exists, which makes
definition of css styles for animations much easier.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/7d69d52acff8578e0f7d6fe57a6c45561a05b182">7d69d52a</a>,
<a href="https://github.com/angular/angular.js/commit/aa2133ad818d2e5c27cbd3933061797096356c8a">aa2133ad</a>.</p>
<h2 id="urls-are-now-sanitized-against-a-whitelist" class="ng-scope">URLs are now sanitized against a whitelist</h2>
<p class="ng-scope">A whitelist configured via <code><span class="pln">$compileProvider</span></code> can be used to configure what URLs are considered safe.
By default all common protocol prefixes are whitelisted including <code><span class="pln">data</span><span class="pun">:</span></code> URIs with mime types <code><span class="pln">image</span><span class="com">/*</span></code>.
This change shouldn't impact apps that don't contain malicious image links.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/1adf29af13890d61286840177607edd552a9df97">1adf29af</a>,
<a href="https://github.com/angular/angular.js/commit/3e39ac7e1b10d4812a44dad2f959a93361cd823b">3e39ac7e</a>.</p>
<h2 id="isolate-scope-only-exposed-to-directives-with-scope-property" class="ng-scope">Isolate scope only exposed to directives with <code><span class="pln">scope</span></code> property</h2>
<p class="ng-scope">If you declare a scope option on a directive, that directive will have an
<a href="https://github.com/angular/angular.js/wiki/Understanding-Scopes">isolate scope</a>. In Angular 1.0, if a
directive with an isolate scope is used on an element, all directives on that same element have access
to the same isolate scope. For example, say we have the following directives:</p>
<pre class="ng-scope"><code><span class="com">// This directive declares an isolate scope.</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'isolateScope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'one = '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> $scope</span><span class="pun">.</span><span class="pln">$id</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">})</span><span class="pln">

</span><span class="com">// This directive does not.</span><span class="pln">
</span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="str">'nonIsolateScope'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    link</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$scope</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'two = '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> $scope</span><span class="pun">.</span><span class="pln">$id</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">});</span></code></pre>
<p class="ng-scope">Now what happens if we use both directives on the same element?</p>
<pre class="ng-scope"><code><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">isolate-scope</span><span class="pln"> </span><span class="atn">non-isolate-scope</span><span class="tag">&gt;&lt;/div&gt;</span></code></pre>
<p class="ng-scope">In Angular 1.0, the nonIsolateScope directive will have access to the isolateScope directives scope. The
log statements will print the same id, because the scope is the same. But in Angular 1.2, the nonIsolateScope
will not use the same scope as isolateScope. Instead, it will inherit the parent scope. The log statements
will print different ids.</p>
<p class="ng-scope">If your code depends on the Angular 1.0 behavior (non-isolate directive needs to access state
from within the isolate scope), change the isolate directive to use scope locals to pass these explicitly:</p>
<p class="ng-scope"><strong>Before</strong></p>
<pre class="ng-scope"><code><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"$parent.value"</span><span class="pln"> </span><span class="atn">ng-isolate</span><span class="tag">&gt;</span><span class="pln">

.directive('ngIsolate', function() {
  return {
    scope: {},
    template: '{{value}}'
  };
});</span></code></pre>
<p class="ng-scope"><strong>After</strong></p>
<pre class="ng-scope"><code><span class="tag">&lt;input</span><span class="pln"> </span><span class="aatn">ng-model</span><span class="pun">=</span><span class="atv">"value"</span><span class="pln"> </span><span class="atn">ng-isolate</span><span class="tag">&gt;</span><span class="pln">

.directive('ngIsolate', function() {
  return {
    scope: {value: '=ngModel'},
    template: '{{value}}
  };
});</span></code></pre>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/909cabd36d779598763cc358979ecd85bb40d4d7">909cabd3</a>,
<a href="https://github.com/angular/angular.js/issues/1924">#1924</a> and
<a href="https://github.com/angular/angular.js/issues/2500">#2500</a>.</p>
<h2 id="change-to-interpolation-priority" class="ng-scope">Change to interpolation priority</h2>
<p class="ng-scope">Previously, the interpolation priority was <code><span class="pun">-</span><span class="lit">100</span></code> in 1.2.0-rc.2, and <code><span class="lit">100</span></code> before 1.2.0-rc.2.
Before this change the binding was setup in the post-linking phase.</p>
<p class="ng-scope">Now the attribute interpolation (binding) executes as a directive with priority 100 and the
binding is set up in the pre-linking phase.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/79223eae5022838893342c42dacad5eca83fabe8">79223eae</a>,
<a href="https://github.com/angular/angular.js/issues/4525">#4525</a>,
<a href="https://github.com/angular/angular.js/issues/4528">#4528</a>, and
<a href="https://github.com/angular/angular.js/issues/4649">#4649</a></p>
<h2 id="underscore-prefixed-suffixed-properties-are-non-bindable" class="ng-scope">Underscore-prefixed/suffixed properties are non-bindable</h2>
<div class="alert alert-info ng-scope">
<p><strong>Reverted</strong>: This breaking change has been reverted in 1.2.1, and so can be ignored if you're using <strong>version 1.2.1 or higher</strong></p>
</div>

<p class="ng-binding ng-scope">This change introduces the notion of "private" properties (properties
whose names begin and/or end with an underscore) on the scope chain.
These properties will not be available to Angular expressions (i.e.  interpolation in templates and strings passed to <code><span class="pln">$parse</span></code>)  They are
freely available to JavaScript code (as before).</p>
<p class="ng-scope"><strong>Motivation</strong></p>
<p class="ng-scope">Angular expressions execute in a limited context. They do not have
direct access to the global scope, <code><span class="pln">window</span></code>, <code><span class="pln">document</span></code> or the Function
constructor. However, they have direct access to names/properties on
the scope chain. It has been a long standing best practice to keep
sensitive APIs outside of the scope chain (in a closure or your
controller.) That's easier said than done for two reasons:</p>
<ol class="ng-scope">
<li>JavaScript does not have a notion of private properties so if you need
someone on the scope chain for JavaScript use, you also expose it to
Angular expressions</li>
<li>The new <code><span class="pln">controller </span><span class="kwd">as</span></code> syntax that's now in increased usage exposes the
entire controller on the scope chain greatly increasing the exposed surface.</li>
</ol>
<p class="ng-scope">Though Angular expressions are written and controlled by the developer, they:</p>
<ol class="ng-scope">
<li>Typically deal with user input</li>
<li>Don't get the kind of test coverage that JavaScript code would</li>
</ol>
<p class="ng-scope">This commit provides a way, via a naming convention, to allow restricting properties from
controllers/scopes. This means Angular expressions can access only those properties that
are actually needed by the expressions.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/3d6a89e8888b14ae5cb5640464e12b7811853c7e">3d6a89e8</a>.</p>
<h2 id="you-cannot-bind-to-select-multiple-" class="ng-scope">You cannot bind to select[multiple]</h2>
<p class="ng-scope">Switching between <code><span class="kwd">select</span><span class="pun">[</span><span class="pln">single</span><span class="pun">]</span></code> and <code><span class="kwd">select</span><span class="pun">[</span><span class="pln">multiple</span><span class="pun">]</span></code> has always been odd due to browser quirks.
This feature never worked with two-way data-binding so it's not expected that anyone is using it.</p>
<p class="ng-scope">If you are interested in properly adding this feature, please submit a pull request on Github.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/d87fa0042375b025b98c40bff05e5f42c00af114">d87fa004</a>.</p>
<h2 id="uncommon-region-specific-local-files-were-removed-from-i18n" class="ng-scope">Uncommon region-specific local files were removed from i18n</h2>
<p class="ng-scope">AngularJS uses the Google Closure library's locale files. The following locales were removed from
Closure, so Angular is not able to continue to support them:</p>
<p class="ng-scope"><code><span class="pln">chr</span></code>, <code><span class="pln">cy</span></code>, <code><span class="pln">el</span><span class="pun">-</span><span class="pln">polyton</span></code>, <code><span class="pln">en</span><span class="pun">-</span><span class="pln">zz</span></code>, <code><span class="pln">fr</span><span class="pun">-</span><span class="pln">rw</span></code>, <code><span class="pln">fr</span><span class="pun">-</span><span class="pln">sn</span></code>, <code><span class="pln">fr</span><span class="pun">-</span><span class="pln">td</span></code>, <code><span class="pln">fr</span><span class="pun">-</span><span class="pln">tg</span></code>, <code><span class="pln">haw</span></code>, <code><span class="pln">it</span><span class="pun">-</span><span class="pln">ch</span></code>, <code><span class="pln">ln</span><span class="pun">-</span><span class="pln">cg</span></code>,
<code><span class="pln">mo</span></code>, <code><span class="pln">ms</span><span class="pun">-</span><span class="pln">bn</span></code>, <code><span class="pln">nl</span><span class="pun">-</span><span class="pln">aw</span></code>, <code><span class="pln">nl</span><span class="pun">-</span><span class="pln">be</span></code>, <code><span class="pln">pt</span><span class="pun">-</span><span class="pln">ao</span></code>, <code><span class="pln">pt</span><span class="pun">-</span><span class="pln">gw</span></code>, <code><span class="pln">pt</span><span class="pun">-</span><span class="pln">mz</span></code>, <code><span class="pln">pt</span><span class="pun">-</span><span class="pln">st</span></code>, <code><span class="pln">ro</span><span class="pun">-</span><span class="pln">md</span></code>, <code><span class="pln">ru</span><span class="pun">-</span><span class="pln">md</span></code>, <code><span class="pln">ru</span><span class="pun">-</span><span class="pln">ua</span></code>,
<code><span class="pln">sr</span><span class="pun">-</span><span class="pln">cyrl</span><span class="pun">-</span><span class="pln">ba</span></code>, <code><span class="pln">sr</span><span class="pun">-</span><span class="pln">cyrl</span><span class="pun">-</span><span class="pln">me</span></code>, <code><span class="pln">sr</span><span class="pun">-</span><span class="pln">cyrl</span></code>, <code><span class="pln">sr</span><span class="pun">-</span><span class="pln">latn</span><span class="pun">-</span><span class="pln">ba</span></code>, <code><span class="pln">sr</span><span class="pun">-</span><span class="pln">latn</span><span class="pun">-</span><span class="pln">me</span></code>, <code><span class="pln">sr</span><span class="pun">-</span><span class="pln">latn</span></code>, <code><span class="pln">sr</span><span class="pun">-</span><span class="pln">rs</span></code>, <code><span class="pln">sv</span><span class="pun">-</span><span class="kwd">fi</span></code>,
<code><span class="pln">sw</span><span class="pun">-</span><span class="pln">ke</span></code>, <code><span class="pln">ta</span><span class="pun">-</span><span class="pln">lk</span></code>, <code><span class="pln">tl</span><span class="pun">-</span><span class="pln">ph</span></code>, <code><span class="pln">ur</span><span class="pun">-</span><span class="kwd">in</span></code>, <code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hans</span><span class="pun">-</span><span class="pln">hk</span></code>, <code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hans</span><span class="pun">-</span><span class="pln">mo</span></code>, <code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hans</span><span class="pun">-</span><span class="pln">sg</span></code>, <code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hans</span></code>,
<code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hant</span><span class="pun">-</span><span class="pln">hk</span></code>, <code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hant</span><span class="pun">-</span><span class="pln">mo</span></code>, <code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hant</span><span class="pun">-</span><span class="pln">tw</span></code>, <code><span class="pln">zh</span><span class="pun">-</span><span class="pln">hant</span></code></p>
<p class="ng-scope">Although these locales were removed from the official AngularJS repository, you can continue to
load and use your copy of the locale file provided that you maintain it yourself.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/6382e21fb28541a2484ac1a241d41cf9fbbe9d2c">6382e21f</a>.</p>
<h2 id="services-can-now-return-functions" class="ng-scope">Services can now return functions</h2>
<p class="ng-scope">Previously, the service constructor only returned objects regardless of whether a function was returned.</p>
<p class="ng-scope">Now, <code><span class="pln">$injector</span><span class="pun">.</span><span class="pln">instantiate</span></code> (and thus <code><span class="pln">$provide</span><span class="pun">.</span><span class="pln">service</span></code>) behaves the same as the native
<code><span class="kwd">new</span></code> operator and allows functions to be returned as a service.</p>
<p class="ng-scope">If using a JavaScript preprocessor it's quite possible when upgrading that services could start behaving incorrectly.
Make sure your services return the correct type wanted.</p>
<p class="ng-scope"><strong>Coffeescript example</strong></p>
<pre class="ng-scope"><code><span class="pln">myApp</span><span class="pun">.</span><span class="pln">service </span><span class="str">'applicationSrvc'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln">
</span><span class="lit">@something</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"value"</span><span class="pln">
</span><span class="lit">@someFunct</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln">
  </span><span class="str">"something else"</span></code></pre>
<p class="ng-scope">pre 1.2 this service would return the whole object as the service.</p>
<p class="ng-scope">post 1.2 this service returns <code><span class="pln">someFunct</span></code> as the value of the service</p>
<p class="ng-scope">you would need to change this services to</p>
<pre class="ng-scope"><code><span class="pln">myApp</span><span class="pun">.</span><span class="pln">service </span><span class="str">'applicationSrvc'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln">
</span><span class="lit">@something</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">"value"</span><span class="pln">
</span><span class="lit">@someFunct</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln">
  </span><span class="str">"something else"</span><span class="pln">
</span><span class="kwd">return</span></code></pre>
<p class="ng-scope">to continue to return the complete instance.</p>
<p class="ng-scope">See <a href="https://github.com/angular/angular.js/commit/c22adbf160f32c1839fbb35382b7a8c6bcec2927">c22adbf1</a>.</p>


</div>
        </div>
      </div>
      </div>
    </section>

    <footer class="footer" style="display: none;">
      <div class="container">
        <p class="pull-right"><a back-to-top="">Back to top</a></p>

        <p>
          Super-powered by Google  2010-2014
          ( <a id="version" ng-href="https://github.com/angular/angular.js/blob/master/CHANGELOG.md#1.3.8" ng-bind-template="v1.3.8  prophetic-narwhal" class="ng-binding" href="https://github.com/angular/angular.js/blob/master/CHANGELOG.md#1.3.8">v1.3.8  prophetic-narwhal</a>
          )
        </p>
        <p>
          Code licensed under the
          <a href="https://github.com/angular/angular.js/blob/master/LICENSE" target="_blank">The
            MIT License</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
        </p>
      </div>
    </footer>
  </div>


<iframe id="rdbIndicator" width="100%" height="270" border="0" src="./ng-guide-all3_files/indicator.html" style="display: none; border: 0; position: fixed; left: 0; top: 0; z-index: 2147483647"></iframe></body></html>
